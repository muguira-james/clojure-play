Dynamic Interoperable Geoprocessing and GeosimulationAn OpenGIS/HLA based Interoperability ArchitectureDr. Lars Bernard, Ingo Simonis, Andreas WytziskInstitute for Geoinformatics, University of MuensterRobert-Koch-Strasse 26-2848149 Muenster, Germany+49-251-83-30057, +49-251-83-39763{bernard, simonis, wytzisk}@ifgi.uni-muenster.deDr. Ulrich RaapeFraunhofer Institute for Factory Operation and Automation IFFSandtorstrasse 2239106 Magdeburg, Germany+49-391-4090-359, +49-391-4090-93-359raape@iff.fhg.deKeywords:HLA, OpenGIS, OGC Specifications, Interoperability, IntegrationABSTRACT: The HLA addresses interoperability issues in the distributed simulation domain successfully. Similar approaches are noticeable in the geo-processing domain. The future of geo-processing applications will be based on the interoperability of geographic data and geographic services that are distributed over heterogeneous networks. In view of the inherent space-time nature of most of the dynamic models that are developed for analysis, training, forecasting, and other purposes, the integration of both the temporal and the spatial dimension would be highly beneficial. Based on the discussion of the potential as well as the current shortcomings of the two initiatives to support distributed spatio-temporal processing an integrating web based architecture will be presented and demonstrated by an emergency management system example. This approach includes a generic customization of the given standards as well as the specification of web-based integration services to make geo-services available to HLA federations and vice versa. The long term goal of this approach is making standardized off-the-shelf GI- and simulation services usable for highly specialized simulation and controlling applications.1. IntroductionDuring runtime, (distributed) simulations create virtual worlds in which objects are enabled to interact dynamically while the system moves along a virtual time axis. It is often the case that the spatial context and the spatial relationships of these objects are of major interest. This results in a need for spatial data and the processing services to access and analyze its contexts.In view of the inherent space-time nature of most dynamic virtual worlds modelled for analysis, training, forecasting, and other purposes, the interoperable management of information in both the time and the spatial dimensions would be highly beneficial. While HLA successfully addresses interoperability issues in the distributed simulation domain, similar approaches are being worked on in the geoprocessing domain. The interoperability of geographic data and geographic services, distributed over a network, is the basis for future component-based geoprocessing applications.While the classic approach embeds tools of one domain into the other or creates proprietary connectivity (e.g. using GIS to prepare HLA scenarios or connect a simulation to a GIS via a proprietary interface), this paper describes an cross-domain interoperability approach based on the integration of interoperability initiatives in the simulation and the geo-processing domain.The most promising activities in geoprocessing interoperability are those of the OpenGIS Consortium (OGC). The OGC delivers specifications for spatial processing. This paper describes an integration approach using the HLA and the OGC specifications as state-of-the-art technologies in their respective field.1.1 Classic Approaches in the Space DomainClassic GIS are still monoliths, working mostly on layer based two dimensional vector or raster data. Interactions between different GIS are still realized by loose coupling techniques. This means that different applications are linked only by data transfers based on a common file format [8]. This results in inconsistencies due to data and method redundancy and information loss due to inappropriate data exchange formats and data models. Completely integrated systems on top of a common data and method base are hard to find [1].1.2 Classic Cross-Domain ApproachesJust as GIS-GIS interaction is still a matter of simple data exchange, the linkage of GIS and simulation systems issues the data transfer as well. Typically GIS are only used to pre- and post-process the simulation data. In addition to the aforementioned redundancy problems, current GIS still lack a number of desirable features. The most significant shortcomings are the missing 3D and 4D support, which significantly restricts the usage of current GIS [1].Several cross-domain applications based on a GIS- simulation coupling have been developed [8], e.g. for Evacuation Planning [6]. None of these solutions, however, is based on a non-proprietary, standardized, open interface between its software components.Therefore, the interoperability of systems within the same domain or across different domains is a key issue to be addressed.2. InteroperabilityInteroperability is defined as "the ability of two or more systems or components to exchange information and to use the information that has been exchanged" (Institute of Electrical and Electronics Engineers IEEE) [7].This is achieved by adhering to standards: standards of communication, standards of data formats, standards of function calls, etc. This is considered the basic interoperability level. Above that, the following sections take a closer look at the interoperability of information systems in regard to the management of spatial and temporal information respectively.2.1 Simulation DomainThe current state-of-the-art in Distributed Simulation Technology is the High Level Architecture for Modeling and Simulation (HLA) which had been developed by the US Department of Defense (DoD) since 1996 and has evolved since then to a NATO, DoD and IEEE standard as well as an OMG CORBA Facility [5].HLA is based on a framework concept that relies on an infrastructure which manages data exchange and coordination / synchronization tasks (see Figure 1). SHAPE  \* MERGEFORMAT Figure  SEQ Figure \* ARABIC 1: Classic versus HLA ApproachInstead of interfacing individual components with each other (left side of Figure 1), each component needs only one (standardized) interface to the infrastructure in order to cooperate with all the other components.In this paper, the HLA serves as the interoperability platform for the simulation domain and provides the simulation service-chaining, i.e. to feed a simulation with the results of another one.2.2 Geo-Processing DomainSeveral interoperability initiatives exist in the geo-processing domain. The above mentioned OGC was founded in 1994 and is driven by the most important GIS, Operating System (OS) and Database Management System (DBMS) developers, vendors, and users. The non-profit membership organization addresses the lack of interoperability among systems that process geo-referenced data as well as between those systems and mainstream computing systems. The OGC represents the largest organized force in the global geo-processing marketplace. Its objective is to establish a global geoinformation infrastructure by developing unique service specifications. These specifications serve as a generic programming interface and allow the interoperation of different GIS components [3]. Recently a number of data access services have been specified finally. First commercial off-the-shelf-products are available.In this paper, the OpenGIS specifications of the OGC serve as an interoperability platform for the geo-processing domain.Considering the present specifications, two major shortcomings have to be addressed:Synchronization of time variant services is not yet an issue.Due to the stateless character of the OGC-services, results from simulation processes can be accessed only once for each call. Data push mechanisms are not provided.Therefore it is necessary to extend the current specifications in regard to spatial and temporal requirements.2.3 Spatial and Temporal DomainNeither the classic approaches (refer to paragraph 1) nor the interoperability initiatives described in the two previous sections allow the cooperation of simulation-based and spatial information systems in a standardized manner.Rather than embedding one approach in the other (which would render essential functionalities unusable in the other domain), an interlocking approach is followed in order to generate added value for both domains without putting limitations on the original OGC / HLA architectures.3. Integration Concept and Software ArchitectureTo integrate OGC’s strong spatial capabilities and the strong HLA’s time management capabilities on the other, there are four major issues to be addressed:Enabling the exchange of geoobjects between HLA Federates	First of all an OMT compliant geo-object model describing basic OGC entities following the OGC Open Geo-Data Model, is needed. Appropriate encoding and decoding factories will enable HLA federates to exchange OGC compliant geo-objects between each other. Federates publishing OGC compliant geo-data are called Geofederates.Enabling the use of OGC services within FederatesExtending the capabilities of federates to enable them to access existing well known OGC compliant web-services results in the definition of OGC-Wrapperfederates. Since the current OpenGIS service specification lacks a common service interface to generically describe services, implementing a number of different interfaces becomes necessary. However, the ongoing specification work of the OGC will provide more generic solutions.Making federates permanently accessibleFederates exist only during a simulation or monitoring process. Hence, in contrast to common OGC Web Services, they are not permanently accessible. This deficit is made up for by defining a FederateWebService (FWS). This FWS is a web service that basically controls an aggregation of federates. It is permanently accessible and responsible to initiate, control, and destroy federates.Controlling distributed simulations	To control distributed simulations in terms of HLA federations it is necessary to offer Simulation Management Services (SMS) to assemble, start, control and destroy federations. This is done by communicating with the corresponding FederateWebService to access the required federate. It offers complex scenario management capabilities to establish the needed federation. Once able to describe the capabilities of an OpenGIS compliant service in a generic way, it is also possible to specify interfaces that describe distributed HLA simulations as new OpenGIS services.Making Simulation Results accessibleSimple simulated data will be polled by a Sensor Collection Service [10]. This service, roughly defined within the OGC Web Service Initiative 1 [11], is able to poll data from real world sensors at present. Due to the fact that the differences between a physical measurement device and a simulation models is rather non fundamental, the current Sensor Collection Service will be extended to provide access to simulated data by an OGC compliant interface. The future Sensor Collection Service will access simulated geo-data from a so called geo-data-ListenerFederate which subscribes to all geo-data published within the entire federation.3.1 Putting things togetherBased on a HTTP based communication bus – typically the WWW – we place OGC compliant Web services like Web Feature Services (WFS), Web Coverage Services (WCS) and Web Mapping Services (WMS) (see Figure 2)[2].Their interfaces are completely based on URL encoding techniques. This architecture is extended with Simulation Management Services (SMS),  which provide scenario management capabilities. These Simulation Management Services interact with FederateWebServices (FWS) which again instantiate any federate.Federates and Geofederates communicate and are synchronized by the RTI exclusively. Based on these elementary services it should be possible to specify a framework for spatial-temporal tasks.3.2 Example: An Operational Flood Management SystemA first prototypical implementation was realized describing an operational Flood Management System. The simulation part consists of three interaction Federates. The first Federate (SensorFederate) receives actual measurements from multiple precipitation sensors. All sensors are located within the catchment area of the Lenne-river system in Sauerland, Central Germany. The SensorFederate publishes the precipitation events as geo-objects (vector data point objects). A second Federate (HydroFederate) calculates runoff, hypodermic flow, and interception of the water for the whole area and shows possibly endangered zones. The results of this calculations are published as geo-objects (coverages) again. A third so called ListenerFederate subscribes to all geo-objects and makes the real world measurements as well as the simulated coverages available to the OGC web services.  4. Conclusion and OutlookAn integration concept based on the two state-of-the-art interoperability technologies (OGC for the space domain and HLA for the time domain) was shown. Without limiting the original architectures and the capabilities they provide, each approach can  benefit from the other.This paper has described an approach for interoperability of time-based (e.g. simulation) and space-based (e.g. GIS) software components. Each component can benefit from the complementary functionality provided by other components of the same or the other domain.This paper presents ongoing research. Further prototypes and usage concepts are expected to be seen in the future as result of the underlying project. The results will be integrated in the ongoing specification work of the OGC.References[1]	Bernard, L., Krüger, T. "Integration of GIS and Spatio-Temporal Simulation Models". Transactions in GIS 4(3): pp. 197-215, 2000.[2] Bernard, L. “Experiences from an Implemtation Testbed to Setup an National SDI”. In Ruiz, M., Gould, M., Ramon, J. (Eds.): Proceedings of the AGILE 2002 Conference in Palma de Mallorca, 315-319.[3]	Buehler, K., McKee, L. (eds). "The OpenGIS Guide". Wayland, MA, OpenGIS Consortium Technical Committee. 1998.[4]	Cox S., Cuthbert A., Lake, R., Martell, R. "Geography Markup Language (GML) 2.0". Open GIS Consortium. URL http://www.opengis.net/gml/01-028/GML2.html. 2001.[5]	Defense Modeling and Simulation Office (DMSO). "The High Level Architecture Homepage". URL http://hla.dmso.mil/. 2001. [6]	de Silva, F. Nishakamura; Eglese, R. W. "Integrating Simulation Modeling and GIS: Spatial Decision Support Systems for Evacuation Planning". Journal of the Operational Research Society (JORS), Special Issue Simulation. Journal of the Operational Research Society, Volume 51, Issue 4, April 2000.[7]	Institute of Electrical and Electronics Engineers (IEEE). "IEEE Standard Computer Dictionary: A Compilation of IEEE Standard Computer Glossaries". New York, NY: IEEE. 1990.[8]	Nyerges, T. "Coupling GIS and Spatial Analytic Models". In: Breshanan, P., Corwin, E., Cowen, D. (eds.), 5th International Symposium on Spatial Data Handling. Charleston, USA, International Geographic Union: 524-533. 1992.[9]	OGC. "OGC’s Webmapping Testbed Phase 2 (WMT 2)". URL http://www.opengis.org. 2000.[10] OGC. “OGC Web Services – Sensor Collection Service”. OpenGIS© OGC Interoperability Program Report-Engineering Specification, 2002[11] OGC. “OGC Web Service Initiative 1”. URL  http://ip.opengis.org/ows1/index.htmlAuthor BiographiesLARS BERNARD works as an assistant professor at the Institute of Geoinformatics of the University of Münster, Germany. He holds a Ph.D. in Geoinformatics and a master degree in Geography. His research focuses on interoperable geoprocessing and geosimulation as well as on spatial data infrastructures.  ULRICH KLEIN is a Project Manager at the Department of Environmental Engineering of the Fraunhofer Institute IFF. He received his Ph.D. from the Otto von Guericke University of Magdeburg, Germany. He holds a masters degree in Industrial Engineering from the University of Karlsruhe and has two years experience as a Project Manager for Command, Control and Communication Systems for Public Safety and Security in Europe. His research topics include Emergency Management, Logistics, Geographic Information Systems and HLA-based Software Architectures.INGO SIMONIS is a Ph.D. student at the Institute of Geoinformatics of the University of Münster, Germany. He holds a master degree in Ecology. His research focuses on the integration of the integration of service-based geographic information infrastructures and simulation-based software architectures as well as mobile computing concepts, architectures, and techniques.ANDREAS WYTZISK is a Ph.D. student at the Institute of Geoinformatics of the University of Münster, Germany. He studied Physics and Geography in Heidelberg and Münster, Germany and co-founded the pro_Plant company for agricultural and environmental informatics in 1996. His research topics include the integration of service-based geographic information infrastructures and simulation-based software architectures as well as logistical problems in agriculture and forestry. The work described in this paper is part of an ongoing project focusing on OGC/HLA-based interoperability architectures applied to an emergency management (flooding) decision support scenario.Figure  SEQ Figure \* ARABIC 2: Integration Architecture