Mission Trainer concept for Gripen fighter aircraftFurther Studies On The Feasibility Of A Distributed ISS and HTV SimulationGöran AnckerSaab AB, AerosystemsSE-581 88 LinköpingSWEDEN+46 (0)13 18 32 39HYPERLINK "mailto:goran.ancker@saab.se"goran.ancker@saab.seStefan SandbergSaab AB, AerosystemsSE-581 88 LinköpingSWEDEN+46 (0)13 18 22 16 HYPERLINK "mailto:stefan.sandberg@saab.se" stefan.sandberg@saab.seKeywords:Aircraft, Training, Tactical LoopABSTRACT: The Gripen fighter is a 4:th generation multi-role fighter aircraft currently ordered by 4 Air Forces. This paper describes the operational and technical concept for the Gripen Mission Training system. The Gripen Mission Training system supports training for the whole tactical loop including mission planning, mission training/rehearsal and mission evaluation. Once a mission is planned, it can be flown either in the simulator or the aircraft itself. Mission data is recorded in the simulator in the same way as it is recorded in the aircraft, and both the aircraft and simulator can be post mission evaluated. This is achieved by integrating the Gripen Mission Support System (a combined system for mission planning and evaluation) in the Mission Trainer. The Mission Support System is part of the Mission Trainer as the instructor operator station which ensures that the tactical scenario correspond in planning and training phases. A well-known challenge for Mission Trainers for modern fighters with major functionality implemented in computer software, is to keep the trainer configurations in pace with the operational system. The aircraft system simulation in the Gripen Mission Trainer relies heavily on re-use of software from the aircraft and of models from the development simulators. This principal has been proved through deliveries of the Mission Trainer together with the aircraft to customer air-forces.IntroductionThis paper discusses various considerations that have been influencing the design of the Gripen Mission Training System in order to meet the requirements of a net-centric fourth generation fighter aircraft system. Special focus is put on simulation interoperability considerations.Gripen Mission Training needsThe demands and complexity of the modern high-density and heterogeneous battlefield makes the demand for proper training even higher than for earlier weapon systems. The need for an aircraft simulator that represents the current configuration of the aircraft in time to meet the training demand in a cost-effective manner is essential to the operators.As most of the task performed in a modern weapon system is made in close cooperation with other operators of the same or other weapon systems together with C3I resources training is no longer a task that can be undertaken in solitude. SHAPE  \* MERGEFORMAT Figure 1: Net Centric WarfareSaab Aerosystems has designed the Gripen Mission Training System to meet the training needs for a fourth generation multi-role fighter. In order to meet the demanding requirements Saab Aerosystems has focused on the following key elements:A well defined, modularized architecture that enables the simulator structure and interfaces to follow that of the actual aircraft. The architecture is also defined to enable reuse of already verified software models from the Gripen system simulators and actual aircraft on-board software.The use of encapsulation and different abstraction layers that makes software modules independent of it’s environment and data distribution mechanism and reasonably independent of the computing platform.Development tools enabling iterative development and testing in a desktop environment and built-in test capabilities allowing efficient regression tests and early identification of problems.The use of common standards and commercially available low-cost computer platforms.A high level architecture with standardized interfaces that ensures that the training system is network enabled from the start.The design is chosen to ensure high availability, low support cost and the possibility to keep the simulator in pace with the aircraft updates and meeting the current and future training requirements. The architecture is especially designed to allow the simulator to operate together with other simulators and allow for future change of training needs.Closing the Tactical LoopOne other major requirement was to enable the trainees to practice the complete tactical loop starting with an air task order (ATO) that might be resulting from an earlier reconnaissance mission. The student is required to plan his mission using the available intelligence data combined with the framework described in the ATO.The planning and debriefing part of a Gripen Mission is supported by the Gripen Mission support System (MSS) which is also integrated into the Gripen Mission Training System to ensure that all task used to complete the tactical loop can be trained. The MSS is also used with special add-ons as an instructor station to support the instructor in monitor and control the sortie in real-time. SHAPE  \* MERGEFORMAT Figure 2: Air mission tactical loopGripen Mission Trainer conceptDesign OnceWhen designing the aircraft systems and the necessary simulation tools needed to support the aircraft development Saab Aerosystems has successfully implemented a “Design once” strategy that enables the usage of these systems in various simulators through-out the development process for the aircraft and the life-cycle of the complete aircraft system.Figure 3: “Design-once” strategyThe use of high level modeling techniques that allows for software to be automatically generated for testing and demonstration purposes. The integrated training solution can also be used for demonstration and evaluation of prototypes and new versions by the end users making it possible to involve them early in the process.Real-Time ArchitectureEncapsulated software components with a well defined interface to the surrounding system enables the component to be reused in different types of simulators and real hardware rig solutions without any need for redesign or new verifying tests. All components are integrated in a real-time executive and data distribution architecture that meets stringent real-time requirements while allowing for real-time monitoring and debugging. Figure 4: Real-time architectureSoftware components are developed with a very limited dependency on the selected computer platform which enabled them to be moved and reused in different systems and for different purposes.Computer System SolutionThe Gripen Mission Training System is based on using COTS hardware that meets the real-time requirements necessary when reusing operational aircraft software. The chosen solution is scalable and adaptable to meet different the requirements for the different training platforms. The Software solution is has been designed with a minimal dependency to a certain hardware platform which enables the selection of the specific hardware solution to be made as late as possible and can take advantage of the latest developments in computer technology.Training System SolutionEarly capture of the requirements from the complete lifecycle of the aircraft systems and all its peripheral components enables a training solution to be easily implemented based on real aircraft software and software simulation models used when developing the aircraft systems. There is no need to modify these components since the system is already tested against the complete system requirement specification. A costly and time consuming test and verification phase for the training system can be avoided and the training system can be kept in pace with the real aircraft systems as a bi-product from the aircraft development process.The Gripen Training SuiteThe Gripen Training Suite consists of devices ranging from standard CBT on standard desktop platforms to high fidelity Mission Trainer. The different devices are combined to cover all the customer training needs in the most cost-effective manner. All devices share a lot of common components and are configuration controlled using the same process to allow for cost-effective support through-out the complete life-cycle of the Gripen Weapon System. The major parts of the training suite is a Computer Based Training System (CBTS) covering the theoretical aspects, a Virtual Maintenance Trainer (VMT), mainly for engineers and maintenance personnel and a high fidelity Mission Trainer (MT) complemented by a Desktop Training System (DTS)The Gripen Mission Trainer SHAPE  \* MERGEFORMAT Figure 5: Visual SystemThe Gripen Mission Trainer is a high fidelity Device that is designed to meet all the requirements from initial type conversion to full Mission Training in high density tactical scenarios.  The simulator can also be used to evaluate new versions of the aircraft before the update is introduced into the aircraft itself,The simulator is based on operational Aircraft software which ensures the correctness of the simulation and that the simulator can be kept up to date.The cockpit is fully populated and spatially correct to support all procedural training tasks. The visual system solution is chosen to support all the various training needs while allowing “over-the-shoulder” instruction and audience viewing from behind. The current solution is the SEER-8 system from Barco with a separate HUD-image projector, with high field of view and state of the art image quality. The Gripen Desktop Training SystemAs a complement to the higher fidelity trainers a Desktop Training System (DTS) has been defined as a cost-effective solution enabling an instructor or a student to networked training acting as a wingman or opponent. The DTS can also be used as a standalone device supporting individual training in various tasks.Figure 6: Desktop Training System building blocksThe DTS is based on the same software as the Mission Trainers but can also operate in a generic mode enabling the DTS to become a threat station acting with performance and weapon systems from other aircraft types. SHAPE  \* MERGEFORMAT Figure 7: Desktop Training System “cockpit”Instructor Station and Tactical EnvironmentThe instructor station is designed from the start to enable networked operation. The instructor station is integrated using standard protocols and can be used to monitor and control any number of networked simulators. Cockpit controls and displays from all the connected simulators can be monitored through a streaming video solution. The instructor station is also based on the aircraft MSS enabling the instructor to be familiarized with the Graphical User Interface from the start and reuse real planned or recorded missions for training purposes.Figure 8: Mission Trainer network configurationAll operational flight training devices in the Gripen Training System Suite has their own tactical environment component enabling them to operate as standalone devices or networked together sharing the same tactical environment.Simulation interoperability issues in Gripen MTWhen designing and developing the Mission Trainer there were some top level system requirements that brought in more specific requirements on simulation systems interoperability. These requirements were:Integration of Mission Support System (MSS) as an Instructor Operator Station (IOS) for the Mission Trainer (MT)Training requirement on multiple manned simulated Gripen aircrafts interacting with a computer generated interactive and dynamic tactical environment. This tactical training environment should have a centralized management (IOS). The Mission Trainer should be prepared for networking with external simulators.The top level system requirements implied a system design solution as shown in figure 9. Figure 9: Mission Trainer Top Level System DesignIntegrating MSS with MTThe Gripen Mission Support System (MSS) is a Mission planning and evaluation tool that has considerable capabilities beyond pure route planning and evaluation. Many of these functionalities are simulation related such as:Interactive threat simulation for mission plan analysis and mission rehearsal.Tools for scenario management (scenario definition, start/stop/rewind, time setting)Weapon simulation for evaluation and mission planning analysisDynamic and static terrain analysis in for example radio communication line-of-sight and threat visual line-of-sight analysis.3D-scene visualization for mission rehearsal and evaluation.When MSS was designed it was decided to use an existing software package as simulation engine for tactical environment simulation. The simulation tool TACSI has since 1989 been used at Saab for air combat simulation in a variety of purposes and applications. Its original purpose was for operational analysis but later it has been more used as tactical environment in distributed simulations. It has in several studies served as Computer Generated Forces (CGF). That is providing autonomous friendly and hostile tactical environment to manned aircraft simulators. The TACSI framework has in recent years been re-designed to be optimally prepared for distributed simulations and integration to other simulation frameworks. By choosing TACSI as simulation framework much functionality for distributed simulation and CGF capabilities were inherited in excess of the functions required for MSS integration.For integrating MSS to MT the main functionality to integrate was the aircraft simulation control, scenario management and tactical environment simulation. In this case does aircraft simulation control mean functions to start-up, prepare and monitor the execution of a Gripen aircraft simulation. Communication is done through a proprietary xml-based protocol over the network. The protocol doesn’t include parameters regarding the tactical scenario as will be discussed later but rather parameters for simulator status, aircraft fault injection etc.With respect to simulator interoperability, the interesting MSS functions are the scenario management and tactical environment simulation. The MSS has functionality to define scenarios through a graphical user interface with functions like drag&drop of entities in a map, save and restore scenarios. Scenario definition functions for defining behavior and entity performance are also provided. As well as scenario management functions to start, stop, wind and set time. Environmental parameters as weather and atmospheric conditions can be set in the scenario management interface.MT Distributed simulation NetworkAfter the analysis of MSS integration to MT it was identified that the functions from MSS that needed integration for simulation interoperability were the scenario management and tactical environment simulation functions. Therefore the MT distributed simulation network can be drawn as shown in figure 10.Figure 10:Mission Trainer distributed simulation networkFrom a simulation interoperability point of view are now the integration of MSS and creation of a mission training environment, down to a “standard” networking simulator problem. As such the problem can be handled at to levels, A technical interoperability level and a operational interoperability level. The technical interoperability concerns getting the simulators to execute and communicate together while the operational interoperability concerns getting the simulators to jointly create a simulated scenario that is fit-for-purpose which in this case is training pilots (purpose may be extended to also include mission rehearsal) Technical interoperabilityThe technical interoperability for the Mission Trainer can be captured in the following bullets:Simulation communication protocol HLA RTI FOMSimulated lived radio communicationFederation agreementsTime managementScenario management principlesAs simulation protocol was HLA the natural choice. The technology was well-known and proven in previous projects with distributed simulations with mixes of manned and un-manned simulators. HLA version 1.3 was also a natural selection as we didn’t have legacy simulators that desired older standards. For RTI was MäK RTI chosen after testing and analysis in the real-time simulation environment.From a technical viewpoint the RPR-FOM (v2) was chosen as basis for the FOM design. The operative requirements later led to some smaller extensions to the standard RPR-FOM.For implementing radio communication between live participants were ASTI:s Telestra solution chosen. A solution that sends the radio communication through the HLA (or DIS) network.Time management is quite complex for the MSS/IOS as it has different time management principles in different operating modes. During mission planning and evaluation shall the simulation be predictable and deterministic so a robust time-regulated principle is used then. When connected to a real-time aircraft simulator things need to happen in real-time. Due to the inherited native aircraft software is the aircraft simulator not very robust against time slippage. So time in tactical environment need to be correspondent to the simulator.Regarding scenario management an interesting debate was whether scenarios should be defined in absolute time or in relative time. That is whether new objects shall appear after a certain time after simulation start or at a certain wall-clock time. Different approaches are normally used in training and mission planning simulations. The not so surprising compromise is that both can exist.Operational interoperabilityOperational interoperability of simulators is a more challenging requirement than getting simulators interoperable in a technical sense. Operational interoperability means that the scenario, the entities, the natural environment, entity-to-entity interaction, entity interaction with the natural environment and entity perception of the natural environment need to be very carefully designed and verified to fulfill training needs and mission planning needs. Unfortunately there exist very little established methods to support this work today. The Conceptual modeling initiatives has still not resulted in any ready-to-use methods. The work with the Gripen Mission Trainer relied on ad hoc methods which in this case were to analyze defined scenarios, analyze training needs analysis (TNA) and use some previous experience.One area where the Mission Trainer program has found innovative approaches to enhance operational interoperability is geographical databases as explained in next section.Correlation of Simulated Terrain and MapsGeographical data is used in many functions in a Mission trainer system. For simulating image generating sensors as the Out-The-Window (OTW) visualization, visual cameras, infra-red cameras and ground mapping radars are terrain databases used. In the IOS are geographical data used in maps. In the aircraft displays there is a moving map and in the aircraft navigation system are several geographical databases utilized. The tactical environment simulator also uses some terrain information for simulation (see figure 11). Figure 11:Geographical databases used in Mission TrainerThe consequences when these databases are not correlated can be disastrous for the credibility of the simulation. Anticipate that an aircraft is placed on a runway by using the map in the IOS. If the other geographical databases are not correlated to the map database, then could for example the visualization show a Out-The-Window scene were the aircraft is outside the runway, or the moving map on the aircraft display could show a position outside the runway or could the navigation system give directions to land outside the visual image of the runway. The innovative approach for the Gripen system is that all databases are produced by one tool, the Digital Map Generating System (DMGS) using a common set of source geographical data (see figure 12). An early version of the system is described in reference 1. Figure 12:Digital Map Generating System (DMGS) principlesThe DMGS thus enables production of sets of correlated geographical databases.ConclusionsAn interesting reflection to make from the Mission Trainer development is which potential issues that became no-issues due to the design decisions. A major design decision was to use the MSS as IOS in the Mission Trainer. This has lead to an automatic interoperability regarding transfer of scenarios between mission planning and mission training systems. Also tactical environment model verification is reduced to single system verification. Another good design decision or system solution is the use of a single system to produce geographical databases. Correlation and of geographical databases is essential for the credibility of the simulator.An interesting aspect of these design decisions is that they all increase the potential for mission rehearsal in the mission trainer. Transfer of scenarios, verified models and fast produced correlated databases are major benefits for mission rehearsal.The two major design decisions that have created extra work with respect to simulation interoperability are the re-use of aircraft software in the aircraft simulation and the use of a mission planning system execution framework in a distributed simulation. The re-use of aircraft software has led to limitations in time management and scenario management as the inherited aircraft software has built-in controls of unrealistic time advances and movements. Although the real aircraft software includes modifications and extra code to enable some simulator functions, there is a desire to influence the aircraft development team even more.Regarding the MSS executing framework it’s recognized that it was designed with too little emphasis on real-time distributed simulation requirements in mind. This kind of simulations requires more agility and robustness in time handling than for normal mission planning. References[1]	Göran Ancker: “Creating Correlated Geographical Databases for an Aircarft and Support Systems”, Proceedings of the Euro SIW Simulation Interoperability Workshop, June 2004, 04E-SIW-041Author BiographiesGÖRAN ANCKER M Sc. is an appointed specialist in aircraft system simulation at Saab Aerosystems. He has 17 years of experience of simulation to support aircraft development. He is currently responsible for research and technology development at the department for “Support Systems and Simulators”. Stefan Sandberg is Training Systems Manager at Saab Aerosystems and is also representing the Gripen industry (IGJAS) for simulation issues around the Gripen Aircraft towards the Swedish Customer. He is also a member of the Flight Simulation Group Committee of the Royal Aeronautical Society and has more than 10 years experience of training and simulation.DataTransferData DistributionCommon Tactical ScenarioMission DebriefIntelligence DataMission briefing Mission Objectives Intelligence DataExercise/ScenarioPlanningMission EvaluationMission PlanningDataTransferComponentComponentSubsystemSubsystemExecutiveComponentSubsystem