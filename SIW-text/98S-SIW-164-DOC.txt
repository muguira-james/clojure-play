The Combat Trauma Patient SimulatorM. Beth H. PettittSTRICOM12350 Research ParkwayOrlando, FL 32826407-384-3934 HYPERLINK mailto:pettittb@stricom.army.mil pettittb@stricom.army.milBrian F. GoldiezMikel D. PettySumeet RajputHsiao-Kun TuInstitute for Simulation and Training3280 Progress DriveOrlando FL 32826-0544407-658-5015bgoldiez@ist.ucf.eduKeywords:Medical, SAWE/MILES Electronic Casualty Card (ECC), Human Patient Simulator (HPS), RTIABSTRACT:   This project has two goals. First, decrease the deaths due to combat wounds by having better trained medical staffs and, second, provide a mechanism for analysis and for test and evaluation (T&E) of issues in casualty medical treatment. To meet these goals, a prototype dual purpose training and analysis system is being developed that realistically and physically simulates the emergency medical treatment process from the time of injury through initial treatment at the field hospital. The central component of this system is a physical simulation of a casualty (an instrumented mannequin), the Human Patient Simulator (HPS). The HPS was developed for training anesthesiologists and provides a dynamic, physiologically accurate simulation of a patient whose condition must be diagnosed, treated, and monitored. The premise of this project is that improved training for combat casualty care will result from the treatment of “virtual casualties” simulated by HPSs from initial trauma throughout treatment and transportation.This paper reports on the first phase and developments that will occur during the second phase of this project which provides a medical training and test and evaluation capability not achievable currently in force on force exercises. For this program, the HPS was customized to simulate patients with combat trauma, linkage created to the Simulated Area Weapons Effects/Multiple Integrated Laser Engagement System (SAWE/MILES) force on force system, an ancillary medical simulation created, and a training or analysis methodology investigated.  The DoD’s High Level Architecture (HLA) provides a flexible infrastructure for connecting the disparate simulations to form a larger distributed simulation.  During SAWE/MILES force on force combat training exercises, virtual casualties occur when soldiers are “hit”. A virtual casualty created by a SAWE/MILES Electronic Casualty card (ECC) is transferred to a HPS for initial treatment by a medic at a Battalion Aid Station and then transported (if necessary) to a field hospital. From initial trauma to treatment at the hospital, medical personnel interact with ECCs and HPSs representing virtual casualties. The ancillary simulation simulates combat casualties and missing caregivers while the virtual casualties are not simulated by HPSs or ECC’s.1.  IntroductionThe premise of the Combat Trauma Patient Simulator (CTPS) project is that providing realistic scenarios in which military medical personnel can treat “virtual patients” will result in improved training.  The CTPS system will also provide a mechanism for analysis and test and evaluation (T&E) of various facets of casualty care.  The overall goal of the CTPS system is to provide a mechanism for reducing deaths due to combat wounds.1.1  BackgroundCurrently, medic training is conducted in a 10-week course.  The training is limited from several perspectives.  First, the level of training is not consistent with current civilian training and qualifications for Emergency Medical Technicians.  This limitation restricts the number of medics because transition to civilian positions requires additional training and certification.  Secondly, trainees can not encounter the frequency and diversity of casualties they may encounter in combat.  Third, liability issues preclude training in many civilian hospitals.  This latter issue restricts refresher training as the military reduces its number of hospitals.  Other restrictions in training are also problematic.  The situation is expected to worsen with time.T&E of medical issues, such as the effect of new weapons systems or new medical techniques, is also problematic in military medical training.  Because humans cannot be used as subjects, the military often relies on T&E methods such as analytic models, scripted events, and data from previous conflicts in studying the effects on casualties of new systems introduced into the military inventory.  Extrapolating or relating old data to new situations is not always the most efficient or effective method of test and evaluation.1.1.1  Statement of ProblemThe military has continuously had the need for effectively treating combat casualties. A system that significantly improves the level of training of military personnel will allow the military to provide better care for its wounded.  In addition to having better trained staff the military will also benefit if the methods for testing and evaluating issues in patient medical treatment, including new weapons systems, medical equipment, and medical procedures are improved.Training standards and practices and methods of test and evaluation for military medical personnel should be more rigorous than they currently are.  Military medical training should:be consistent with the level of training and qualifications required from equivalent civilian medical positions.provide experience consistent with the frequency and diversity of casualties medical personnel may encounter in combat.allow for analysis and test and evaluation of current techniques and of new systems in realistic scenarios.1.1.2  Statement of GoalsThe Combat Trauma Patient Simulator (CTPS) research team is prototyping and evaluating a dual purpose training and analysis simulation system that realistically and physically simulates the emergency medical treatment process for selected injuries from the time of occurrence through initial treatment at the field hospital.  The long-term goals of this project are:First, to decrease the number of deaths due to wounds suffered in combat by having better trained medical staffs.Second, to provide a mechanism for analysis and test and evaluation of equipment, force composition and structure, and procedures in patient medical treatment.Simulation provides the enabling technology to meet these goals.1.2  The CTPS Team ApproachThe U.S. Army’s Simulation Training and Instrumentation Command (STRICOM) contracted the University of Central Florida’s Institute for Simulation and Training (IST) to lead a research team to design and build a prototype CTPS.  The other members of the team are: Lockheed Martin Electro Optics Systems (LMEOS); Medical Education Technologies, Inc. (METI); and the Training and Simulation Technology Consortium (TSTC).  These groups combined research efforts to create the CTPS, which provides a dynamic, physiologically based simulation of a patient whose condition must be diagnosed and treated through medical and surgical intervention.One of the many interesting facets of this research project is the unique blending of commercial and military hardware.  The CTPS system was built on existing technology developed and produced by both commercial and military interests.  The Human Patient Simulator (HPS), which is produced by METI and is the central component of the CTPS system, is a commercial product used extensively to train a variety of health care practitioners.  The military component of this research effort is a Multiple Integrated Laser Engagement System (MILES) based Electronic Casualty Card (ECC), whose role in the CTPS system is to generate combat trauma casualties needing medical care.  IST provides the mechanism for integrating the HPS and the ECC using DoD’s High Level Architecture (HLA) paradigm and the Patient Simulator (PatSim), a computer based version of the patient developed by IST.  1.1.3.1  Existing Simulation ComponentsThe Human Patient Simulator (METI [1996]) is a full-scale, interactive simulator that functions as a stand-alone simulation of a human patient (see Figure 1).  The HPS consists of two components: a mannequin which represents the “patient” and a Personal Computer (PC) based application which provides a software simulation of the patient’s response to medical intervention. Clinical features of the HPS as manifested in the mannequin include palpable pulses, breathing, heart and breath sounds, pulmonary artery pressure, and cardiac outputs.  The software based physiological and pharmacological models direct simulated patient responses, both normal and pathophysiological, to drugs, mechanical ventilation, and other medical therapies. Figure 1: Human Patient SimulatorBecause the HPS is a model-driven system, the physiological and pharmacological models automatically and dynamically determine virtually all simulator responses.  Patient physiology is defined by patient profiles and can be modified either on-line or through scripts.  Several pre-configured profiles and scenarios are provided, encompassing a variety of pathophysiological conditions.  Using patient and scenario editors, custom profiles and scenarios can be created.The Electronic Casualty Card (ECC) (LMEOS [1996]), developed by LMEOS, is a small harness-mounted device used in MILES/Simulated Area Weapons Effects (SAWE) force-on-force exercises (see Figure 2).  When a soldier is “hit,” the ECC generates a casualty, determining a type and severity of trauma, then starts an expiration timer to record the amount of time it takes for the patient to receive medical care.  The expiration timer can be stopped by a signal sent from a medical device.  This allows the medic to select one of several treatments provided by the ECC.  The selection of the treatment is made by using the medical device.  The soldier’s condition degrades if no medical care is given.  If the expiration timer expires and the soldier has not received the proper treatment, the patient “dies.”The ECC provides in excess of 40,000 symptom/treatment conditions and several injury areas, including the head, neck, torso, abdomen, arms, legs, and hands, to be “treated” by a medic during these exercises.  Medical intervention by a medic occurs through an interrogator.  The interrogator reads the injury and provides the medic with a description and a list of possible treatment strategies.  The medic selects one treatment and transmits the information back to the ECC.  The patient’s condition adjusts accordingly within the limitations of the ECC.  Upon selection of the correct medical treatment, the ECC starts an “evacuation” timer, during which the patient must receive treatment.  If the evacuation timer expires before the patient is treated, the patient will “die.”  Close proximity between the medic and casualty must be maintained during these exercises.EMBED Word.Picture.8Figure 2: Electronic Casualty Card2.  CTPS Phase 1 ArchitectureThe phase 1 architecture of the CTPS system interconnects three different simulations, the HPS, the ECC, and Patient Simulator, using the Department of Defense’s (DoD) High Level Architecture (HLA) (DMSO [1995a]), (DMSO [1995b]), (DMSO [1996]), (DMSO et. al. [1996]), and (DMSO [1997]).  The HLA provides a flexible infrastructure for connecting disparate simulations to form a larger distributed simulation.  This architecture allows additional nodes to be added to the CTPS system with minimal cost and difficulty in later phases of the project (see Figure 3).In HLA terms, each simulator component is called a “federate” and the larger distributed simulation is called a “federation.” Each federate in an HLA federation indicates its simulation capabilities to other federates through a Simulation Object Model (SOM).  The simulation capability of the entire federation is represented by a Federation Object Model (FOM) which is a union of the SOMs of the federates in the federation. Each Object Model (FOM or SOM) consists of a series of tables that define the object class hierarchies, the attributes of each object, and the interactions among objects.Features of the HLA that are important to an understanding of how the CTPS functions include the Run Time Infrastructure and the concept of attribute ownership.Figure 3: CTPS Phase 1 Architecture2.1  Run Time InfrastructureThe HLA Run Time Infrastructure (RTI) is the implementation of the concept of HLA (DMSO et. al. [1996]).  The RTI is a software application that provides the communication backbone of the CTPS system.  RTI controls communication within the CTPS system with “services.”  The RTI provides routines services to:start and stop a federation simulation run, called a “federation execution,” allow simulations to join and leave the execution,allow simulated objects to interact,communicate changes to the values of the attributes of simulated attributes, andtransfer ownership (responsibility for simulating) the attributes from one federate to another.Using the HLA RTI has the advantage of a cost reduction over developing and maintaining the inter-simulation communication system.  Use of the HLA RTI also enhances the interoperability of the CTPS system components with other HLA compliant simulations.IST used RTI version F.0 in Phase 1 of the CTPS system. This version is limited and can only support 11 casualties.  Based on experimental results with the prototype RTI, the Defense Modeling and Simulation Office is supporting the development of faster and higher capacity RTIs.2.2  CTPS Attributes Because the CTPS uses HLA to connect the simulator components, the HLA concepts of "attribute" and "attribute ownership" form the basis for the flow of information within the CTPS federation.  In the HLA, the objects being simulated, such as a patient, have attributes that define them.  Each object being simulated exists as a combination of attributes and their values, simulated by the federation components, that may change over time.  There is no requirement that all the attributes of an object be simulated by a single simulator; rather, HLA allows an object to be simulated in parts by separate simulators.  Further, HLA allows ownership of attributes to be transferred between simulators during execution.  The values for a particular attribute can be updated only by the simulation component that owns that attribute.  The CTPS architecture makes use of attribute ownership and attribute ownership transfer to build a composite simulation of a patient from the individual patient simulation components that comprise a federation.In the CTPS system, there are two types of patient attributes:  1) static attributes, which do not change, and 2) dynamic physiological and non-physiological attributes, which change over time in response to treatment or lack of treatment.  The static attributes, whose values do not change, are owned permanently by a simulation, whereas ownership of the dynamic attributes is transferred from simulation to simulation, their values updated accordingly by the federate that owns it at that time.  Table 1 lists the Phase 1 CTPS attributes, the characteristics, and which federates may own them.2.3  CTPS ImplementationAs mentioned, the Phase 1 CTPS system has three main components:HPS; instrumented mannequin and personal computer that simulates a patient.ECC; laser sensor and software that generates a casualty needing treatment.PatSim; software simulation of patients’ physiological state when no HPS is available to simulate the patient.The HPS was developed by METI, the ECC by Lockheed Martin, and the Patient Simulator by IST.  Certain functionality enhancements needed for the CTPS were made to the HPS and ECC by METI and Lockheed Martin, respectively.  IST integrated the separate components to form the overall CTPS system.  To do so, IST used the HLA Run-Time Infrastructure.  RTI AttributeAbbrevStatic/DynamicPhysiological/Non PhysiologicalECCHPSPatSimTrauma TypeStaticNon PhysiologicalPWeapon TypeStaticNon PhysiologicalPBody AreaStaticNon PhysiologicalPWound SeverityStaticNon PhysiologicalPRecommended ActionStaticNon PhysiologicalPLocationDynamicNon PhysiologicalPBlood PressureBPDynamicPhysiologicalTTTRespiration RateRRDynamicPhysiologicalTTTHeart RateHRDynamicPhysiologicalTTTCO2 Arterial Partial PressureCO2APPDynamicPhysiologicalTTO2 Arterial Partial PressureO2APPDynamicPhysiologicalTTArterial O2 SaturationO2SATDynamicPhysiologicalTTTable 1:  Patient Attribute Details(P = Permanently owned attribute, T = Transferable Attribute)interfaces for all three main components were developed by IST.2.3.1  HPS ModificationsOriginally, HPSs were used in the medical field to train anesthesiologists.  More recently, improved HPSs have been used in EMT and Nurse training as well.   METI adapted the HPS for use in the CTPS federation byinserting scenarios, features, and scripts to simulate combat trauma patients.  For use in Phase 1 of the project, METI developed three combat trauma types: Anaphylaxis, Pneumothorax, and Blood Loss.  These trauma types are implemented as scenarios that execute on the HPS in response to the corresponding values of the wound type.The relationships between trauma and wound types are shown in Table 2.Combat Wound ScenarioCombat Trauma TypeSnake Bite scenarioAnaphylaxisGunshot Wound To Chest scenarioPneumothoraxLand Mine Explosion scenarioBlood lossTable 2: Combat Wound Scenarios and Combat Trauma Types2.3.2  ECC ModificationsTo meet the requirement of the CTPS design, ECC firmware was modified, and a PC based software, the ECC Database Translator, was developed:The ECC firmware was modified to be triggered/hit by three specific types of weapons: 1) M16/ M60 Machine Gun, 2) M2/ M82 Machine Gun , and 3) AT-3 SAGGER-NTC. The wounds caused by these three weapon types are Blood loss, Pneumothorax, and Anaphylaxis, respectively.  This linkage between weapon and wound is artificial, but established a simple cause and effect relationship to generate a casualty and data flow.The purpose of the ECC Database Translator is to capture casualty information from the ECC and send this information to the ECC RTI interface through a common protocol agreed by the ECC database Translator and ECC RTI Interface. In other words, the ECC Database Translator connects the ECC and the ECC RTI Interface, thus supporting real-time insertion of patients into the CTPS federation during exercises.  The ECC Database Translator is PC-based  software developed by LMEOS.  The ECC communicates with the ECC Database Translator using serial communication via an RS-232 cable. Currently, all casualties are generated from a single ECC. Accommodation of casualties from multiple ECCs and data transmission to a central ECC Database Translator was not implemented in Phase 1.2.4  CTPS Interface TasksIST developed three pieces of software during Phase 1 of the CTPS project.  They are the Patient Simulator (PatSim) including its RTI Interface, the HPS RTI Interface, and the ECC RTI Interface.2.4.1  Patient Simulator DevelopmentThe PatSim software makes possible the integration of the ECC and HPS functions by simulating patients when they are not being simulated by other components of the CTPS system.  For example, it is possible that the number of casualties generated during a CTPS execution will exceed the number of HPSs available in the physical CTPS configuration.  Therefore, when the ECC generates casualties, it sends them to the PatSim via the RTI.  The PatSim simulates the casualties until an HPS is available, at which time PatSim transfers the patient to the HPS for treatment.  The PatSim serves to hold patients until they are transferred to the HPS for treatment and thus provides a mechanism to interface the functions of the ECC and HPS interface.  Note that the patients are not in “stasis” while they are being held in the PatSim; rather, they PatSim simulates the physiological state of the patients it holds, updating their attributes over time according to the internal physiological model.  The operation of the model will be discussed later.The PatSim is made up of two modules:  the RTI Interface module and the Patient Simulation Model module (see Figure 4).Figure 4: Conceptual view of the PatSim2.4.1.1  The RTI Interface ModuleRecall that the RTI serves as the underlying communication mechanism for the CTPS federation.  To allow the components of the federation to communicate through the RTI, IST developed application interfaces to the RTI and RTI interfaces to the ECC, the HPS, and to PatSim.  Each of the components of the CTPS system—the PatSim, the HPS, and the ECC—has an RTI Interface to connect that component to the overall system.  The RTI Interface modules have several important functions within the CTPS system:Monitoring the creation of patients in the system.Sending updates of the patients’ physiological variables being simulated at this component to other CTPS components.Receiving updates of patients’ physiological attributes from other CTPS components.Transferring ownership of patients’ physiological variables among components.Transforming federate-specific data into RTI messages and vice-versa.To develop the RTI Interfaces, IST modified existing software from the IST HLA Gateway (Wood [1997]).  The IST HLA Gateway is a protocol translator that translates DIS Protocol Data Units into HLA and vice versa.  Development of the CTPS RTI Interfaces required two major modifications to the HLA Gateway code:  (1) removal of the Gateway’s DIS code, replacing it with CTPS specific code.  The code modifications made it possible for patient specific information to flow through the Gateway; (2) adding the capability of transferring attribute ownership to the Gateway.  The significance of the HLA Gateway modifications is that the use of the HLA Gateway as the basis for the RTI Interfaces saved significant time and resources for the CTPS project.2.4.1.2  The Patient Simulation Model ModuleThe IST research team evaluated three existing simulations for use as the patient simulation component:   Modular Semi-Automated Forces (ModSAF) (Loral [1993]) and (Loral [1994]), Medical Semi-Automated Forces (MedSAF) (Courtemanche and Bimson [1996]), and a software version of the HPS.  Unfortunately, none of these options appeared suitable for use within the time and cost constraints of the first phase of this project Consequently, the research team decided instead to develop a new model based on the HPS.  Developing a normative model has several advantages over using one of the existing simulations:Developing a normative model cost less because:  (1) the normative model is more easily implemented than a modified existing simulation would be; and (2) the normative model, PatSim, is built onto the modified Gateway, making additional cost and time investments into building a PatSim communication system unnecessary.  The physiological values output by the HPS and the ECC align better with the PatSim than with the other simulations, because PatSim is built onto the common RTI Interface.Verification and validation of the HPS supports verification and validation of PatSim, also because the PatSim is built onto the common RTI Interface The Phase 1 normative model establishes the need for an HPS physiological model in Phase 2 of the CTPS project.Developing a normative model rather than using a modified simulation ensures that the CTPS simulation components are each used only for their designated purposes.  For example, the PatSim will simulate physiological processes without being encumbered with non-medical issues.2.4.2  HPS RTI Interface DevelopmentThe HPS is an external component of the CTPS system consisting of a mannequin that is a physical manifestation of a patient and a software-based physiological / pharmacological model that controls the HPS’s simulation of a patient.  The HPS RTI Interface is software, implemented as a UNIX process, that connects the HPS to the rest of the CTPS system.  This interface is made up of three modules (see Figure 5):the RTI Interface Modulethe Data Management Modulethe HPS Internal Data Exchange Protocol (HIDEP) Interface ModuleFigure 5: Conceptual view of the HPS and HPS RTI InterfaceThe HPS RTI Interface converts RTI messages into messages based on a protocol, known as the HPS Internal Data Exchange Protocol (HIDEP) (METI [1997]), understood by the HPS; and vice versa.  The HPS RTI Interface converts HPS messages from the HIDEP protocol into messages understood by the RTI.As discussed, the RTI Interface module of the HPS RTI Interface provides a connection between the HPS RTI Interface and the rest of the CTPS system.  The Data Management module manages all aspects of the HPS RTI Interface operations.  Specifically, this module coordinates the functions of the HIDEP and the RTI Interface modules.  The Data Management module also converts HIDEP messages into a format understood by the RTI Interface module, and RTI messages into a format understood by the HIDEP Interface module.Communication between the HPS and the HPS RTI Interface occurs via a serial connection.  The HIDEP Interface module provides a reliable communication medium, allowing commands to be given to and from the HPS software.  The HIDEP Interface module sends messages received from the HPS to the other components of the federation via the RTI Interface and sends messages received from the other simulators to the HPS.  The HIDEP Interface module sends physiological variable updates from the HPS to the other federation components and controls HPS operations through event updates received from other simulators.2.4.3  ECC RTI Interface DevelopmentMuch like the HPS RTI Interface, the ECC RTI Interface serves to translate RTI service calls into a protocol understood by the ECC Database Translator, and vice-versa.  The ECC RTI Interface, then, makes communication between the ECC and the CTPS system possible.The ECC RTI Interface is composed of three modules (see Figure 6):the RTI Interface modulethe Casualty Manager modulethe ECC Interface moduleThe role of the ECC is to generate casualties.  When a weapon hit occurs, the information is downloaded as an “event” to the ECC Database Translator.  Medics are then given the opportunity to treat the “wounded” soldier on site, i.e., within the ECC device.  After that, a “patient” is created in the CTPS system under two possible conditions:  (1) a soldier receives treatment via a Medical Controller Device, generating a treatment event;  or (2) a soldier does not receive any care and theFigure 6: Conceptual view of the ECC and ECC RTI Interfaceinjury timer expires, generating a treatment failure event.  In either case, the following will occur:A Casualty Event is generated in the Decoder Processor.The Casualty Event is downloaded to the Database Translator.The Database Translator processes the Casualty Event.The Database Translator communicates the Casualty Event to the CTPS federation via the ECC RTI Interface.The role of the RTI Interface in the ECC RTI Interface is to provide a communication link between the ECC and the CTPS federation.  The ECC Interface allows communication to occur between the ECC RTI Interface and the ECC Database Translator, also via a serial line.  The ECC Interface verifies the validity of the messages it receives.The Casualty Manager then creates a casualty object in the ECC RTI Interface program, and requests the creation of a casualty in the CTPS federation.  Concurrently, the Casualty Manager updates the attribute variables.  Finally, the Casualty Manager module divests itself of casualty attribute ownership.3. CTPS Phase 1 Information FlowThe phase 1 architecture of the CTPS system was designed to establish a credible flow of data between the CTPS system components, or federates.  The HLA paradigm’s concept of attribute ownership transfer governs the flow of information in the CTPS system.  For the purposes of the Phase 1 design of the CTPS,  the IST implementation established a structure within which basic information exchange consisting of attribute ownership transfer would occur.  The RTI, when querying federates and transferring attribute ownership, always follows this pattern, unless otherwise instructed:The ECC federate transfers ownership, via the RTI, to PatSim.The PatSim federate transfers ownership, via the RTI, to HPS.The HPS federate transfers ownership back to PatSim, via the RTI.Patient simulation begins with the generation of a patient by the ECC.  Then, the information is transferred to PatSim, then to the HPS.  The CTPS design allows the federates to simulate the patient attributes for which they are best suited.  For example, physiological/ pharmacological patient attributes are simulated by the HPS, and attributes concerned with wound type and severity are best handled by the ECC.3.1  ECCVirtual patients are created at the ECC in response to a MILES/SAWE weapon “hit.”  Once the virtual patient receives a treatment selected by a medic using a medical device, or a certain time has elapsed with no treatment, the ECC sends patient information to ECC Database Translator.  Once the ECC Database Translator captures the information, it retransmits it to the ECC RTI Interface.  The ECC RTI Interface creates the patient in the CTPS federation through the RTI with a “Request ID” service call, and informs the federation of the initial attribute values through the RTI “Update Value” service calls.  At this point, the PatSim and the HPS create an internal representation of the new patient and accept the attribute values that the RTI reflects.  The ECC RTI Interface owns and updates all the patient attributes except the CO2 Arterial Partial Pressure, the O2 Arterial Partial Pressure, and the Arterial O2 Saturation.  Since the ECC does not model changing the physiological attributes over time, the ECC RTI Interface only issues one attribute update for each attribute.3.2  PatSimThe PatSim accepts ownership transfer of patient attributes from the ECC.  PatSim will “handle” the patient’s injuries, but will not treat them.  Handling injuries includes allowing time to elapse and formatting data for transmission to the HPS.  Currently, patient simulation on the PatSim does not continue from the last state the patient was in prior to transfer to the PatSim.  Instead, when a patient is transferred to the PatSim, he/she is initialized in a start state fixed for the PatSim, without any regard to past changes in state.  A consequence of this is that previous “treatments” on a patient to “improve” its condition will be lost when the patient is transferred to the PatSim which treats the patient as if it was just injured.  This simplification was implemented due to schedule limitations and the Phase 1 interest in establishing a basic flow of data through the CTPS.  Correcting this obvious deficiency is one research task for future phases of CTPS research work.Once the PatSim acquires a patient, it queries the database for events that contain information concerning the physiological condition of the patient.  Specifically, the PatSim begins executing by reading three event data files, each corresponding to an injury type.  Each data file contains a periodic sequence of events depicting the changes in a patient’s physiological variables based on the specific trauma being modeled.  These events were extracted from the HPS output for a specific trauma type.The events read by the PatSim are stored in a database inside the Patient Simulation Model.  These events are time stamped with the absolute time at which the event should be processed and copied into an event list.  Thus, the event list contains a time ordered sequence of events that completely define the changes in a patient’s condition over time.  As their waiting periods expire, events are removed from the event list and processed.  The values of the physiological variables associated with an event are published to other simulation components in the CTPS Federation via the RTI Interface module.During the federation execution, the PatSim will attempt to transfer a patient to the HPS.  To transfer a patient to the HPS, the PatSim will request, via RTI service calls, that ownership of the six physiological attributes be transferred to the HPS.  If another patient is acquired while the PatSim is simulating the first one, the events related to its trauma type are placed in the proper position in the event list, possibly interspersed with events from the first patient.  In Phase 1, PatSim does not support medical intervention.  When the events for a particular patient run out, no more updates take place and the patient’s physiological state undergoes no further changes.  Improving this rather simplistic model of patient physiology is another research task for future CTPS research.3.3  HPSThe HPS RTI Interface accepts ownership of the patient’s physiological attributes in response to a request by the RTI, and on behalf of the HPS.  Then, using the internal representation of the patient, reflected attribute values, and HIDEP commands, the HPS RTI Interface will cause the HPS to begin simulating the patient.  While simulating the patient, the HPS will inform the HPS RTI Interface of changes in the physiological attributes via HIDEP messages.  Finally, the HPS RTI Interface will update the changed attributes for use by the CTPS federation.A transfer of the patient from an HPS back to the PatSIM can be initiated by a medic at the HPS console who recognizes when the treatment of a patient is “complete”.  To do so, the HPS RTI will divest ownership of the six physiological attributes.  Upon receiving ownership of each attribute, the PatSim will begin updating its values using the normative patient simulation model discussed previously; and the HPS RTI Interface, once it releases ownership of each attribute, will stop updating the attribute values based on information from the HPS.  When all attributes have been transferred to the PatSim, the HPS RTI Interface will stop the HPS simulation via HIDEP commands.4. ConclusionThe motivation of the CTPS research project was two-fold:  (1) to provide improved training for military medical personnel and improved care for combat patients; and (2) to provide an enhanced mechanism for analysis and T&E of issues in casualty medical treatment.With regard to training, it is believed that including treatment of patients simulated by HPSs in military medical training would improve the quality of medical personnel training, and thus improve combat casualty care.  Furthermore, the improved training methods will ultimately reduce combat fatalities.  The benefits of the CTPS system for use in medical personnel training include:The CTPS offers medical personnel practical experience in operational settings.  The integrated CTPS allows medical personnel to encounter more casualties than is currently possible, and the conditions under which those patients are seen can be varied, for a more rigorous training environment.Use of the CTPS for medical training will eliminate medical liability issues associated with the treatment of patients.The CTPS allows unbiased assessments and after action reviews.The CTPS will relieve issues associated with sustainment training of military personnel at civilian hospitals and health centers.As for analysis and test and evaluation, the potential for fidelity, flexibility, and human interaction shown by the CTPS system prototype support the idea that more accurate analysis can result from it use.Key features of the CTPS system are:the casualties can occur as part of realistic combat exercises.the training and analysis takes place in the field with the operational equipment deployed with the unit.data can be gathered for evaluation automatically throughout the patient treatment process.At the close of Phase 1 of the CTPS project, STRICOM owns a beta version of the CTPS system, located at IST.  The system has been tested with various scenarios to verify its functionality.  The Phase 1 CTPS system is stable and has been demonstrated in the Pentagon (August 1997) and at the Interservice/Industry Training Systems and Education Conference (December 1997).The CTPS federation is the first medical federation to be developed.  Therefore, the future CTPS system will have far-reaching benefits and applicability.  Not only does the CTPS federation have potential applications outside the military, such as in the medical industry, but this system may also serve as a model for future simulation federations.  4.1 Future WorkThe CTPS research team has concluded, based on test results, that the CTPS system will mitigate some limitations in training for combat casualty care.  In addition, this system will provide a means by which medical issues, medical techniques, and equipment can be analyzed and tested and evaluated.  However, as the CTPS system currently exists, it is functional, but has has at least two areas where improvement is needed.  First, its processing capacity is estimated to be inadequate for handling the amount of data transfer that would occur during a typical military exercise.  Second, greater fidelity physiological modeling is needed in the PatSim to support analysis and test & evaluation.  Future phases of the CTPS project will address these issues.Specifically, a CTPS Executive is currently planned for Phase 2 of this project.  The CTPS executive will allow data to be handled more efficiently within the CTPS system.  For example, the current structure of the system requires the RTI to transfer patient attributes from the ECC to the PatSim, from the PatSim to the HPS, and from the HPS back to PatSim.  The CTPS executive will eliminate the need for this superimposed structure, dynamically “deciding” which simulator patient attributes should be transferred to in any given situation.  Plans also exist to create an Expedient Medic Heuristic (EMH).  An EMH is a medical care provider simulation that will care for patients when a caregiver is not available.  Automated caregivers are a necessary element of the CTPS system for two primary reasons:  (1) the number of patients may be too large for the available medical personnel to handle; and (2) EMHs will provide a way to treat HPS and/or PatSim patients when a human medic is unavailable.5. ReferencesMETI (1996). “Human Patient Simulator: User’s Manual,” version 1.3, Medical Education Technologies, Inc./University of Florida, May 1996.METI (1997). “Combat Trauma Patient Simulator: Interface Control Document,” version 2.0, Medical Education Technologies, Inc., August 18, 1997.LMEOS (1996). “Electronic Casualty Cards for the MILES II Decoder Processor: Database Design Overview,” Preliminary Design Review (I), Lockheed Martin Electro-Optical Systems, June 11, 1996.DMSO (1995a). “HLA Management Plan, Version 1.6,” Defense Modeling and Simulation Office, July 17, 1995.DMSO (1995b). “Department of Defense Modeling and Simulation Master Plan. DoD 5000.59-P,” Under Secretary of Defense for Acquisition and Technology, October 1995.DMSO (1996). “High Level Architecture Object Model Template Version 0.2,” Defense Modeling and Simulation Office, January 18, 1996.DMSO (1997). “High Level Architecture: Interface Specification Version 1.1,” Department of Defense, February 12, 1997.DMSO, MITRE, SAIC, Virtual Technology Corporation (1996). “High Level Architecture Run-Time Infrastructure Programmer’s Guide Version F.0,” Department of Defense, December 16, 1996.Loral (1993). “ModSAF Behavior Simulation and Control,” Proceedings of the Third Conference on Computer Generated Forces and Behavioral Representation, University of Central Florida, Orlando, Florida, March 17-19, 1993, pp. 347-356.Loral (1994). “ModSAF User Manual,” Loral Advanced Distribution Simulation, Cambridge, MA, September 30, 1994.Courtemanche, Anthony J. and Bimson, Kent (1996). “MedSAF: Prototyping a Vision for Medical Simulation in DIS,” Proceedings of the Sixth Conference on Computer Generated Forces and Behavioral Representation, University of Central Florida, Orlando, Florida, July 23-25, 1996, pp. 57-66.Wood, Douglas D. (1997). “An Object-Oriented RTI Interface,” Proceedings of the 97 Fall Simulation Interoperability Workshop, Simulation Interoperability Standards Organization (SISO), Orlando, Florida, September 8-12, pp. 477-486.Author BiographiesM. BETH H. PETTITT is a Project Director at the U.S. Army Simulation Training and Instrumentation Command (STRICOM).  She has worked in Simulation since 1993.  Ms. Pettitt received a BS in Mechanical Engineering in 1987 from Old Dominion University and is currently working on her Masters.  The CTPS Program is one of the medical simulation programs Ms. Pettitt is involved in at STRICOM.MIKEL D. PETTY is a Senior Research Computer Scientist at the Institute for Simulation and Training.  He leads IST research in High Level Architecture and Computer Generated Forces.  He has worked in distributed simulation since 1990.  Dr. Petty received a Ph.D. from the University of Central Florida in 1997, an M.S. from UCF in 1988, and a B.S. from the California State University Sacramento in 1980, all in Computer Science.  His research interests are in distributed simulation, computer generated forces, and applied computational geometry.BRIAN GOLDIEZ is the Deputy Director and Manager R&D at the Institute for Simulation and Training (IST).  He is a full time research faculty member at the University of Central Florida.  Mr. Goldiez directs the research thrusts at IST and conducts research in selected areas, such as systems integration methodologies and graphics systems.  The Combat Trauma Patient Simulator is one of the programs Mr. Goldiez is involved with.  Mr. Goldiez has over 20 years experience in simulation with Government, Industry, and Academia.  He has a Bachelors Degree in Aerospace Engineering and a Masters Degree in Computer Engineering.SUMEET RAJPUT is an Associate Computer Scientist in the Computer Generated Forces group at the Institute for Simulation and Training. Mr. Rajput has a Master of Science degree in Computer Science from the University of Central Florida and is an MBA student at the University of Central Florida. His research interests are in the areas of Computational Geometry, Physical Modeling, Medical Simulation, and Computer Generated Forces.HSIAO-KUN TU is a computer scientist at the Institute for Simulation and Training. His research interests include image processing, pattern recognition, and computer simulation. He has received MS and BS degrees in Computer Science from University of South Florida.PAGE  PAGE  iiECCECC RTIInterfaceHLA NetworkRTI messagesRTIInterfacePatientSimulationModelPatientSimulatorHPS Personal ComputerHIDEPRTI messagesHLA NetworkRTIInterfaceHIDEPInterfaceDataManagementHPS MannequinHPS RTIInterfaceRTI messagesHLA Network    RTI Interface   ECCInterfaceCasualtyManager    ECC DatabaseTranslatorSAWE/MILES II          ECCECCRTIInterfaceECC DatabaseSystemHPSRTIInterfaceHPSPatientSimulatorRun Time Infrastructure (RTI)