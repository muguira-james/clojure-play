Migration of a Legacy Radio Frequency (RF) Propagation Model for the Aerial Common Sensor (ACS) SimulationEugene T. PappasDaniel KatzIIT Research Institute185 Admiral Cochrane DriveAnnapolis, MD 21401410-573-7581, 410-573-7607 HYPERLINK mailto:Epappas@iitri.org Epappas@iitri.org, Dkatz@iitri.orgKeywords: HLA, RF, Propagation, ACS, SBA, TIREMABSTRACT: The Defense Information Systems Agency (DISA) Joint Spectrum Center (JSC) is working with the U.S. Army Communications-Electronics Command (CECOM) Intelligence and Information Warfare Directorate (I2WD) on the Aerial Common Sensor (ACS) acquisition program.  The ACS simulation is intended to evaluate various ACS operational concepts before selection of a prototype design.  The High Level Architecture (HLA), provided by the Defense Modeling and Simulation Office (DMSO), provides the distributed simulation framework for the ACS simulation.  JSC is adapting the legacy radio frequency propagation model, Terrain Integrated Rough Earth Model (TIREM), to function as part of an HLA-compliant ACS simulation. This paper includes a description of the lessons learned from upgrading a legacy RF propagation model, to provide RF environment modeling  for a simulation of airborne Intelligence, Surveillance and Reconnaissance (ISR) operations using a proposed ACS system.  The ACS simulation includes the simulation of electronic intelligence (ELINT), communications intelligence (COMINT), and imagery intelligence (IMINT)  operations.  The discussion includes an outline of problems that were encountered in transitioning the model for use in HLA simulations.  Issues to be covered include HLA object/interaction management design, engineering model updates/synchronization with respect to other HLA federates, HLA federate optimization, and processing load distribution.1. IntroductionThe Product Manager (PM) for Aerial Common Sensor (ACS), with support from the U.S. Army Communications-Electronics Command (CECOM) Intelligence and Information Warfare Directorate (I2WD) is developing an operational level simulation, as part of the Aerial Common Sensor (ACS) acquisition program.  The ACS is an aerial Intelligence,  Surveillance and Reconnaissance (ISR) system, which is a follow-on to the Guardrail/Common Sensor (GR/CS) and the Airborne Reconnaissance Low (ARL) programs.  The ACS simulation will be used to evaluate competing operational concepts as part of a simulation-based acquisition (SBA) effort. The ACS simulation is a joint effort with the Joint Precision Strike Demonstration (JPSD) Project Office at Ft. Belvoir.  JPSD provides an existing High Level Architecture (HLA) testbed as the backbone of the ACS simulation.  JPSD also integrates the I2WD provided SIGINT and IMINT Operational Environment (S&IOE), an order of battle database, to create ground truth scenarios.  This scenario information is then fed through a disaggregated Eagle simulation to create inputs to the ACS simulation.The ACS simulation is a federation of HLA-compliant simulations and tools.  ACS Object Model (OM) federates are being developed by three competing contractor teams to model the behavior of their proposed ACS systems.  Scenario playback and results collection tools are used to drive and record the results of the ACS simulation.  Providing realistic target emission characteristics to the ACS OM federates based upon the ground truth scenarios are two environment effects federates: the Radio Frequency (RF) propagation federate and the Electro-Optical/Infrared (EO/IR) propagation federate.  The ACS simulation architecture is depicted in Figure 1 [1].This paper discusses the adaptation of a legacy RF propagation model for the RF propagation federate.  The approach taken and the lessons learned in reusing the Terrain Integrated Rough Earth Model (TIREM) within a HLA federation are provided, along with a description of future enhancements to this federate.Figure 1 : ACS Simulation Architecture2. ACS Simulation Conceptual ModelThe ACS simulation is composed of a set of models which simulate emissions generated by target platforms/emitters and received by ACS sensors.  These RF and EO/IR emissions undergo simulated processing in order to provide location and identification intelligence about the targets.  Several kinds of intelligence processing are modeled in the ACS simulation: communications intelligence (COMINT), electronic intelligence (ELINT), and imagery intelligence (IMINT).  In addition, the ACS simulation models the RF characteristics of the data links used for ACS communications. Figure 2 [2] illustrates the various conceptual objects that are modeled by the ACS simulation.  Target emitters and ACS sensors are represented as individual HLA objects, as are the target and ACS platforms to which they are attached.  The state of a target emitter defines the emission characteristic at the transmission point, such as frequency and power.  The state of a platform defines the movement characteristics of an emitter or sensor.  The state of an ACS sensor defines its operational characteristics, such as field of view.  In addition, there are ACS emitters and sensors whose states define the characteristics of Moving Target Indicator / Synthetic Aperture Radar (MTI/SAR) emissions.RF and EO/IR emissions can be affected by various environmental effects between their transmission point at the emitter and their reception point at the sensor.  The ACS simulation incorporates these effects using separate propagation models for RF and EO/IR emissions.  These propagation models receive state updates from HLA objects corresponding to emitters,  sensors, and platforms, and generate HLA interactions containing the transformed emission characteristics.  The HLA interactions are then sent to ACS operational models, which simulate the ACS intelligence processing.The ACS operational models use the emission characteristics present in the HLA interactions to make intelligence determinations about the targets.  This intelligence information is provided to ground-based ACS platforms over simulated data links, using HLA Figure 2 : ACS Simulation Conceptual Model interactions.  Additional data, containing details of the intelligence processing as well as details of the propagation processing, are provided via HLA interactions to a data collection tool. Data collected from the simulation runs will be analyzed and used to help determine the degree to which each contractor’s ACS operational concept meets five of the Measures of Effectiveness (MOEs) established by the PM ACS.   These five MOEs are as follows:  1) capability to detect, 2) capability to locate, 3) processing throughput, 4) capability to identify, and 5) capability to report.  These MOEs are supported by analysis of the HLA interactions generated by the ACS operational, RF propagation, and EO/IR propagation models.3. RF Propagation Federate DesignThe RF propagation federate uses the TIREM algorithm [3] as its propagation engine.  TIREM is a well-established RF propagation algorithm that uses a combination of knife-edge diffraction and troposcatter techniques, based upon an elevation profile between a transmitter and receiver.  It exists in its native form as a collection of FORTRAN subroutines for extracting terrain profiles and computing propagation loss values.In order to incorporate the TIREM algorithm into the RF propagation federate, there were two main design issues that had to be addressed: 1) the relationship between the RF propagation federate and the other federates with regard to emitter/sensor/platform and  propagation loss updates, and 2) control of the RF propagation federate with regard to updating propagation loss calculations.  The resolution of these design issues was driven by the competitive aspect of the development of each of the ACS OM federates.  Another consideration was that the ACS OM federates, the RF and EO/IR propagation federates, and the tools suite depicted in Figure 1 were being developed by independent teams. Based upon these considerations, the RF propagation federate was designed to impose minimal interoperability requirements upon the other federates. This objective precluded a master/slave relationship between the ACS OM federates and the RF propagation federate.  Instead, minimal interdependence was achieved by making the RF propagation federate “passive” with respect to emitter/sensor/platform state updates from the ACS OM federates and the scenario playback tool, and “active” with respect to propagation loss updates provided to the ACS OM federates.  In other words, the RF propagation federate has state updates “pushed” to it from the ACS OM federates, and in turn periodically “pushes” propagation loss updates to the ACS OM federates.Once the relationship with regard to updates between the RF propagation federate and the other federates was established, the control of the propagation loss calculations was defined.  In order to provide the most up-to-date propagation loss data,  the RF propagation federate recalculated the propagation loss whenever it received a state update such as frequency, platform position, or sensor/emitter mode.  The RF propagation federate performs time-steps to obtain these state updates from the other federates. After each time-step the RF propagation federate determines whether the movement of either an emitter, sensor, or target platform is itself sufficient to require a propagation loss calculation.  Configurable “tuning” parameters define the criteria for making this determination.  If either a state update occurs or a platform movement threshold is crossed during a time-step, the RF propagation federate provides a propagation loss update to the ACS OM federates.3.1 Software ArchitectureThe RF propagation federate has an object-oriented software architecture that reflects the ACS simulation conceptual model.  HLA objects defined in the Federation Object Model (FOM), such as radio emitters, COMINT sensors, target and ACS platforms, exist as C++ classes in the RF propagation federate.  These classes contain attributes that encapsulate the state data that is updated during each time-step.Within the ACS simulation FOM, HLA interactions have been defined to provide propagation loss updates to the ACS OM federates.  These interactions are represented within the RF propagation federate as C++ classes, similar to the HLA objects.  Unlike HLA objects, HLA interactions don’t persist once they are delivered to another federate.  In accordance with the HLA paradigm, instances of HLA interaction classes only exist long enough to ensure that propagation loss  data has been transmitted.Within the RF propagation federate are other C++ classes, which encapsulate physical quantities in the environment  that are important to RF transmission.  One of these classes represents the elevation profile between the emitter and sensor positions, which is obtained from a terrain database corresponding to the scenario.  Another class represents background noise from galactic, man-made, and natural sources, which could affect the ACS sensor.  Other classes represent atmospheric and surface quantities such as humidity, refractivity, permitivity, and conductivity, which the TIREM algorithm depends upon.Tying together all the various classes, representing the HLA and physical objects, are C++ classes representing RF transmission links.  There are different classes representing transmission links for COMINT, ELINT, IMINT, and ACS data links.  Each instance of one of these classes encapsulates the current propagation loss value for that transmission link, as well as the TIREM algorithm used to compute the propagation loss value. Figure 3 is an Universal Modeling Language (UML) class diagram, which depicts the relationship between the class for COMINT transmission links and some of the other C++ classes.  UML can be used to graphically convey software connections between various objects in a software architecture, such as radio emitter/sensor classes and transmission link classes.  Since these classes also represent physical objects, UML can elegantly represent the physical connections between conceptual objects in the ACS simulation. 3.2 TIREM EnhancementsThe TIREM algorithm was originally developed for computing RF propagation loss for a wide set of transmission problems, i.e., for ground-to-ground or air-to-ground transmission links.  In order to improve the computational efficiency of the TIREM algorithm for the ACS simulation, some enhancements to the original code were performed.  These enhancements include: 1) preloading the terrain database into memory at a granularity appropriate for TIREM calculations, 2) limiting elevation profile extractions to only optically relevant data for air-to-ground transmission links.  In addition, attenuation due to rain scattering was incorporated in the propagation loss calculations, to support scenarios with poor weather conditions. Figure 3 : RF Federate Radio Prop Loss3.3 Performance Optimization / Load DistributionThe scenarios created for the ACS simulation contain state updates for 8 simulated hours with as many as 19,000 individual target platforms, and several ACS sensors and platforms.  The number of RF transmission links, for which the RF propagation federate has to calculate propagation loss, is on the order of the product of the number of targets and the number of sensors.  For the scenarios used in the ACS simulation, the large number of RF transmission links introduced performance as an additional software design issue for the RF propagation federate.Two approaches were devised for dealing with the large number of RF transmission links.  The first approach employs a “divide-and-conquer” strategy, where responsibility for propagation loss calculations for specific sets of RF transmission links is assigned to different instances of the RF propagation federate.  The second approach employs new criteria for determining when propagation loss calculations are performed and when propagation loss updates are provided.Implementation of the first approach is based upon the Distributed Data Management (DDM) services provided by the HLA framework.  In the ACS simulation DDM is used to route state data about specific sets of target emitters and platforms to different instances of the RF propagation federate.  State data for all the ACS sensors and platforms are routed to all instances of the RF propagation federate.  Two possible schema were considered for defining the routing of target emitters and platforms: geographic  and static.  A geographic schema would route state data for all target emitters and platforms in a geographic area to the same instance of the RF propagation federate.  A static based schema would route state data for all target emitters and platforms with the same statically assigned routing numbers to the same instance of the RF propagation federate.  The geographic schema would permit each instance of the RF propagation federate to have its configurable “tuning” parameters based upon a specific geographic area.  However, as target emitters and platforms move from one geographic area to another, instances of the RF propagation federate would have to hand-off calculation responsibility to each other.  This requirement would greatly complicate the management of propagation loss calculations for RF transmission links, and could unbalance the load distribution between instances of the RF propagation federate.  For these reasons, the ACS simulation uses a static schema for routing target emitter and platform state data.Implementation of the second approach involved revisiting the criteria used to control calculations for and provide updates of the propagation loss for a given RF transmission link.  In the original design the RF propagation federate would recalculate and update the propagation loss, whenever it received a state update for an emitter, sensor, or platform that was part of an RF transmission link.  This criteria proved to be too conservative, resulting in propagation loss calculations whose values did not differ a whole lot, and propagation loss updates to the ACS OM federates that were not really needed.New criteria were implemented to address these issues.  The criteria for providing propagation loss updates was severed from the criteria for performing propagation loss calculations.  When the RF propagation federate receives a state update for an emitter, sensor, or platform, it determines whether a previously calculated propagation loss value can be provided instead.  If a new propagation loss calculation is warranted, the RF propagation federate determines whether the new propagation loss value differs sufficiently from the previous propagation loss value to send it to the ACS OM federates.  Configurable “tuning” parameters define the criteria for making this determination individually for COMINT, ELINT, and IMINT RF transmission links.3.4 Future EnhancementsSeveral future enhancements are planned for the RF propagation federate.  The TIREM algorithm currently supports propagation loss calculations for RF signals with vertical or horizontal polarization.  In the future the ACS simulation may contain ACS data links that use circular polarization.  The propagation loss calculations performed by the RF propagation federate will be modified to handle circular polarization.The TIREM algorithm does not take into account the effects of  man-made obstructions on RF propagation.  However, these structures can have an effect on RF transmission links for target emitters in urban areas.  Since the Balkans scenario contains some urban areas, the RF propagation federate will be modified to handle urban propagation.The RF propagation federate currently uses separate criteria when considering the movement of emitter, sensor, or target platforms in determining when to recalculate the propagation loss for an RF transmission link.  A more precise criteria would take into account how the movement of both the emitter and sensor, in the case of COMINT and ELINT, or the emitter, target, and sensor, in the case of IMINT, is changing the RF transmission link geometry with respect to the terrain.  The RF propagation federate will be modified to use link geometry criteria, rather than platform movement criteria for controlling propagation loss calculations. 4. SummaryThe TIREM algorithm has been incorporated into a HLA-compliant RF propagation simulation, for determining realistic attenuation of RF signals.  In the ACS simulation the RF propagation federate calculates propagation loss values for RF transmission links carrying radio, radar, MTI/SAR, and ACS communication signals.  The RF propagation federate imposes minimal interoperability requirements upon federates providing HLA object state data and receiving HLA interactions containing propagation loss updates.The computational efficiency of the RF propagation federate has been optimized in several ways.  The TIREM algorithm itself has been optimized for air-to-ground transmission links, resulting in an order of magnitude improvement in the speed of calculations.  DDM has been employed to uniformly distribute the processing load among multiple instances of the RF propagation federate.  One set of configurable “tuning” parameters can be used to control the frequency of calculations for RF transmission links, based upon movement criteria for both the emitter and sensor of the RF signals.  Another set of configurable tuning parameters can be used to control the frequency of updates provided to other federates, based upon the change in propagation loss values for each RF transmission link.3. References[1] Gregory Faragher, CECOM RDEC I2WD: Private Communication, March 28, 2001.[2] Gary Eiserman, Virtual Technology Corporation: ACS Testbed Meeting Briefing, June 8, 2000.	[3] David Eppink and Wolf Kuebler, IIT Research Institute: “TIREM/SEM Handbook”, ECAC-HDBK-93-076, March 1994.Author BiographiesEugene T. Pappas is a Senior Engineer at IIT Research Institute supporting the Joint Spectrum Center in Annapolis, Maryland.  He has 20 years experience providing software engineering and modeling support to a variety of NASA, FAA, and DOD programs.  For the past 2 years he has been doing network modeling and HLA simulations in support of the DISA NETWARS program and the CECOM ACS program.  Mr. Pappas has an MS degree in Physics and an MS degree in Electrical Engineering.Daniel Katz is a Science Advisor at IIT Research Institute supporting the Joint Spectrum Center in Annapolis, Maryland.   He has 17 years of experience in communication and software engineering.  He began his simulation career 13 years ago simulation Air Traffic Control and Identification Friend-or-Foe systems.  He became involved with DIS in the early nineties and served as chair of the Communications Representations Subgroup of the Protocol Working Group for DIS.  He currently serves as M&S focal point for his organization.  Mr. Katz has a BS in Physics and an MS in Electrical Engineering.DisagRTI InterfaceRTI InterfacePassive SensingEO / IR hlaResultsCollection/Playback ToolRTI InterfaceToolsSystem Messages to other ACS platformsInteraction ID Xreffrom RF and EO/IRSim System Externalfrom ACS platformsNode Sim Detect from ACS platforms Passive SensingRadio / RadarActive Sensing   (MTI/SAR)Data CollectionEnvironment Models ModelsSimulationsRTI InterfaceRTI InterfaceRTI InterfaceRTI InterfaceEO/IRPropRTI InterfaceRF PropRTI InterfaceACS OMInternal GroundTruth FederationACS Federation hlaResultsCollectionTool hlaControlFederationMgmt Tool    FederationVerificationToolEagle