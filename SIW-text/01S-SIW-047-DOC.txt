The Ocean, Atmosphere and Space Environmental Services (OASES) SystemRobert A. Reynolds, Haig Iskenderian, Steve O. OuztsLitton-TASCReading, MA HYPERLINK mailto:rareynolds@tasc.com rareynolds@tasc.comKeywords:synthetic environment, SNE, ocean, atmosphere, space, HLA, simulation, OASES, TAOS, FederateABSTRACT:  An evolution of the Total Atmospheric and Oceanographic Services (TAOS) system, OASES is a suite of applications that combine to provide dynamic ocean, atmosphere and space (OAS) environments to distributed simulations running within the High Level Architecture (HLA).  Developed under the DMSO Environment Federation (EnviroFed) project, OASES imports authoritative, digital representations of the OAS environment provided by the Integrated Natural Environment (INE) program’s Environmental Scenario Generator (ESG) and Integrated Ocean Program (IOP), and constructs a run-time database to support real-time, interest-managed publication of the OAS environment via the Run-Time Infrastructure (RTI).  OASES provides tools to extend the run-time database to include derived state variables required by client simulations but not provided directly by the authoritative models.  Through a composable architecture, OASES provides both pre-exercise and run-time scenario tailoring services using either the Pressure Field Modification (PFM) algorithm or a direct replacement algorithm with space-time blending achieved using a 4D gaussian-weighting function.  This paper describes the OASES system in detail, emphasizing how its composable architecture improves on TAOS while reusing substantial portions of TAOS.  Emphasis is also placed on how OASES leverages the Synthetic Environment Data Representation and Interchange Specification (SEDRIS) to support data import  from an application-neutral format and to support run-time export of this data using a Federated Object Model (FOM) that preserves the identification and classification information included in the imported transmittal.IntroductionThe Environment Federation (EnviroFed) project, a component of the Integrated Natural Environment program sponsored by DMSO, is developing object models of the synthetic environment, including natural and man-made phenomena, for use in a distributed simulation based on the High Level Architecture (HLA).  The primary project goals are 1) to develop a reference Federated Object Model (FOM) with sufficient expressive power to support interest management of environmental data using HLA Declaration Management (DM) and Data Distribution Management (DDM), 2) to explore use of the Synthetic Environment Data Representation and Interchange Specification’s (SEDRIS’) Environmental Data Coding Standard (EDCS) for object attribution and classification, and 3) to develop a Federation based on the Joint Semi-Automated Forces (JSAF) simulation that demonstrates application of the SE technology developed by the program.The Ocean, Atmosphere and Space Environmental Services (OASES) system, an evolution of the Total Atmosphere and Ocean System (TAOS) [1,2,10], is a composable suite of applications for creating and managing synthetic atmosphere, ocean and space environments.  OASES includes the Environmental Data Server (EDS) application that is the EnviroFed Federate [3,4] responsible for creating and updating run-time objects that encapsulate the state of the ocean, atmosphere and space environments.  The EDS Federate complements the suite of Dynamic Terrain and Object (DTO) simulations developed by Lockheed Martin Information Systems under the Synthetic Theater of War (STOW) and EnviroFed programs.This paper describes the OASES system architecture and compares it with TAOS.  The OASES component applications are described individually and the composability of the system is illustrated through a series of example applications that include both pre-exercise and run-time environmental data management.  The role of SEDRIS within the OASES system is emphasized.  The paper concludes with a brief overview of the M&S projects and programs that are using, or are planning to use, OASES to provide their synthetic ocean, atmosphere and/or space environments.ComposabilityA composable system is defined here as a collection of subsystems whose input and output relationships can be configured to provide functionality to meet a wide range of system-level requirements.  Each subsystem is a building block for a number of potential systems.  To support composability, each subsystem provides a well-defined, unique function that is orthogonal to the functions of the other subsystems.The sections that follow describe and compare the TAOS and OASES system architectures and the degree to which they support composability.TAOS System ArchitectureTAOS supports limited composability in that its five subsystems can be combined in three ways to provide distinctly different system-level functionality.  Historically these three combinations have been referred to as operating modes.  These modes are defined and illustrated below.Capture ModeFigure 1 illustrates TAOS capture mode as a data flow diagram.Figure 1:  TAOS Capture ModeCapture mode is used pre-exercise to generate the run-time database that contains the 4D ocean, atmosphere and/or space environments.  The inputs to the Integrator are datasets, typically in GRIB format, containing outputs from authoritative and/or available numerical environment models.  This data is typicall provided by the Master Environmental Library (MEL) [8].  The Integrator performs several functions including 1) conversion of the  input data to the common Geodetic coordinate system used internally by TAOS, 2) derivation of additional environmental parameters required by the client simulations but not output directly by the numerical models, 3) conversion to standard units, and 4) storage of the data in  the run-time-optimized format used by all TAOS subsystems.  The Visualizer is used to validate the run-time database.Replay ModeFigure 2 illustrates TAOS replay mode.  Replay mode is Figure 2:  TAOS Replay Modeused at run-time to create a virtual natural environment based on the data stored in a selected TAOS database.  The Distributor creates and updates objects based on its System Object Model (SOM) and configuration options;  the updates are recorded in an auxiliary TAOS database to support After-Action Review (AAR).  The Monitor visualizes the most recent data in the AAR database and hence gives the user a view of the virtual environment currently sensed by the client Federates.  The Editor provides the user with a visualization of the current environment, as stored in the run-time database, and allows the user to override this environment over rectangular sub-regions with user-specified constant values; the requested overrides are communicated to the Distributor and applied at the next update.  The Monitor displays the effect of the edits once they have been published to the Federation.  Both the Editor and the Monitor use Vis5D to provide the core visualization functions.TAOS Live ModeThe TAOS capture and replay modes do not themselves demonstrate composability – capture mode employs two of TAOS’ five subsystems (Integrator, Visualizer) and replay mode employs the remaining three (Distributor, Monitor, Editor).  However the third TAOS operating mode, live mode, provides unique system-level functionality by combining four of the five subsystems as illustrated in Figure 3.Figure 3: TAOS Live ModeLive mode is used at run-time for exercises where it is desired that the virtual environment correlate with the real-world environment and hence cannot be pre-computed.  Real-time updates to the nowcast and forecast data provided to the Integrator result in extension of the run-time database forward in time while the Distributor concurrently updates the virtual environment from the extended database.Nonorthogonal ArchitectureThe primary weakness of the TAOS architecture is the “nonorthogonality” of its subsystems in terms of the functions each performs.  The Integrator both imports data and derives additional data.  The Editor doesn’t actually perform the edit, it sends a specification to the Distributor; the Distributor is then responsible for both editing and distribution.  As a result, the Editor can not be used pre-exercise for environmental scenario tailoring.  The Visualizer, Editor and Monitor all provide a visualization function.The OASES system, described in detail in the next section, is a re-engineering of TAOS with the goal that the re-engineered subsystems provide orthogonal functionality.  This re-engineering, which reuses a large fraction of the TAOS software, has been completed within the EnviroFed project.  The result is a fully composable system that provides significant additional functionality.  The OASES architecture is the subject of the next section.The OASES Application SuiteFive separate applications comprise the OASES system.  These are described individually in the subsections below.Environmental Data Ingestor (EDI)The EDI imports environmental forecast and nowcast data provided in either the World Meteorological Organization (WMO) Gridded Binary (GRIB) format or the Synthetic Environment Data Representation and Interchange Specification (SEDRIS) transmittal format (STF), as generated by a numerical atmosphere, ocean or space model.  The EDI converts the input model data to the common Geodetic coordinate system used internally by OASES, standardizes the units of the data, and stores the data in a run-time-optimized format that is used by all of the OASES applications.Environmental Data Transformer (EDT)The EDT uses a configurable and extensible set of transformation algorithms to augment an existing OASES database with the derived environmental parameters required by client simulations but not provided directly by a numerical ocean, atmopshere or space model.  The EDT supports chaining of transformation algorithms such that the outputs of one transformation may be the inputs to another transformation within the same program execution.Environmental Tailoring System (ETS)The ETS is a GUI-based application for editing the contents of an OASES database.  The ETS provides two editing algorithms: 1) replacement at a point with gaussian spatial and temporal blending, and 2) the Pressure Field Modification (PFM) algorithm [5,6] for editing atmospheric environments while preserving correlation between temperature, pressure, wind and relative humidity. Environmental Data Server (EDS)The EDS is the OASES Federate.  It is an HLA-compliant application responsible for creating and updating the objects that encapsulate the state of the virtual ocean, atmosphere and space environments at run-time.  The EDS supports the use of HLA Declaration Management and Data Distribution Management services to minimize network bandwidth requirements for dynamic environmental data.Environmental Data Visualizer (EDV)The EDV is a GUI-based application for visualizing the contents of an OASES database.  The visualization engine is based on the Vis5D system [7].  The EDV can be configured to visualize a single database or to visualize two databases simultaneously to support comparison.  The EDV is also capable of visually tracking a database that is changing in real-time.OASES ComposabilityEach OASES subsystem performs a well-defined function:EDI – 	data Import EDT – 	data Transformation (derivation)ETS – 	data Tailoring (editing)EDS – 	data Serving (distribution)EDV – 	data VisualizationThe subsections below illustrate how these subsystems can be combined to provide multiple system-level functions; together these subsystems provide a complete set of tools for creating and managing a synthetic natural environment.Run-Time Database GenerationThe OASES-equivalent of TAOS’ capture mode is shown in Figure 4.  To create a run-time database the user first uses the EDI to import the data to OASES format and then uses the EDT to augment the imported data with derived variables.Pre-Exercise Scenario TailoringFigure 5 illustrates the data flows associated with the OASES system composition that supports pre-exercise database editing.  The ETS applies the edits specified by user to a copy of the input data and stores the edited data in a working database (the Edit Buffer in Figure 5).  The ETS then invokes the EDT to augment the edit buffer with the derived parameters associated with the directly-edited data.  Transformation of the edited data is especially important when using the PFM algorithm, as this algorithm supports edits to only the base atmospheric quantities temperature, pressure, wind and relative humidity – tactically-significant quantities such as cloud base,  visibility and precipitation type are derived from the base variables.  The EDV is invoked by ETS to give the user a visualization of the pre- and post-edit environment.  When used for dual-visualization, the EDV supports synchronized views of the two datasets to facilitate detailed comparison.  The editing process is iterative, and when the user is satisfied with the edits, the ETS copies the data in the edit buffer back into the original database.  Note that pre-exercise scenario tailoring is not a function available in TAOS.Environment SimulationThe OASES-equivalent to TAOS’ replay mode is shown in Figure 6.  The EDS plays a role similar to the TAOS Distributor, except that the EDS is only responsible for creating and updating network objects based on the contents of the run-time database.  In particular it has no role in supporting run-time tailoring of the SNE.  The EDV provides the functions of the TAOS Monitor.Run-Time Environmental TailoringFigure 7 illustrates the data flows associated with the OASES system composition that supports run-time editing.  The editing functions work as they do in pre-exercise use, except the database being edited is now the same as the database that the EDS is currently serving to the Federation.  One EDV instance supports the editing process while a second is dedicated to visually tracking the AAR database to provide the TAOS publication-side monitoring function.  Although not illustrated here an additional OASES composition provides a client-side visual monitoring function that also employs the EDV.Orthogonal ArchitectureIn summary, the five OASES subsystems (EDI, EDT, ETS, EDS and EDV) are an “orthogonalized” version of the five TAOS subsystems (Integrator, Distributor, Monitor, Editor, Visualizer).  In addition to being more modular, the OASES architecture supports pre-exercise scenario tailoring and opens the door to many additional architectures that could prove useful in adapting the system to new requirements.The Role of SEDRIS in OASESAn important difference between the TAOS Integrator and the OASES EDI, independent of composability, is that the EDI has been developed primarily to import SEDRIS transmittals; GRIB is supported only to provide a measure of backwards compatibility.  This is in recognition of DMSO’s goal to transition the M&S community’s wealth of environmental databases from numerous application-dependent formats to a single, ISO-standard, application-neutral format.The SEDRIS transmittal format (STF) and the read and write APIs that support it were not designed to meet typical run-time-access performance requirements.  Hence, it is appropriate that OASES employ a run-time-optimized format internally while supporting import of STFs in the EDI.  Philosophically, however, it is desirable that a system that exports environmental data do so using STF.  In the case of OASES, the “export” is done by the EDS in the form of HLA object/attribute updates over a network.  As mentioned in the Introduction, one of the goals of the EnviroFed project has been to explore how SEDRIS can be used in conjunction with an HLA object model (i.e., a SOM or FOM), to introduce and/or preserve the standard identification and classification information established by the SEDRIS Environmental Data Coding Standard (EDCS) [3,4].  While employing an application-specific internal data format, OASES does, to the extent possible, import and export data using SEDRIS technology.M&S Project InvolvementsBecause a number of M&S projects are currently using TAOS, a key requirement for the OASES re-engineering effort was that OASES use the same database format as TAOS.  As a result, it is possible to exchange environmental databases between TAOS and OASES and also to compose new systems from a combination of TAOS and OASES subsystems.  The M&S projects currently using or planning to use TAOS, OASES or a hybrid system include:JSIMS/WARSIM – SNE for Initial Operating Capability is based on the TAOS database API and the Global METOC database which is in the TAOS/OASES database format [9]OneSAF Objective System – OASES has been selected as the reuse starting point for building the OneSAF Environmental Runtime Component (ERC) for atmosphere, ocean and space modelingFleet Battle Experiment (FBE) Program – TAOS was used for the recent “Golf” and “Hotel” experiments.  A collaboration between FBE and EnviroFed in GFY01 will result in the use of a hybrid TAOS-OASES system for the “India” experiment.DTRA MetServer Project – TASC is working with ITT Industries on a project sponsored by the Defense Threat Reduction Agency to integrate a variety of atmospheric models with legacy nuclear, chemical, biological and radiological (NCBR) transport, diffusion and effects models within an HLA framework, leveraging OASES.ARL WAVES Project – The Army Research Laboratory in Washington, DC is working on a project to integrate legacy radiative transfer models within an HLA framework, leveraging TAOS.References[1]	D. A. Whitney: “TAOS: Dynamic METOC Environmental Simulation Services”, TASC Technical Report TR-07601-10, Final Technical Report to the STOW-97 program, 30 January 1998[2]    R. A. Reynolds, et. al., “The Total Atmospheric and Oceanographic System (TAOS), Object-Oriented Simulation of the Natural Environment for Modeling and Simulation Applications”, Proceedings of the Object Oriented Simulation Conference (OOS-98), January 1998, San Diego, CA[3]	R. A. Reynolds, et. al., “A Reference Object Model and Supporting Federate for the Ocean, Atmosphere and Space Environments”, Paper 00S-SIW-099, Proceedings of the Spring 2000 Simulation Interoperability Workshop, March 2000[4]	A. C. Janette et. al., “The FOM for Atmosphere, Ocean, Space and Dynamic Terrain - Environment Federation”, Proceedings of the Fall 2000 Simulation Interoperability Workshop, September 2000.[5]	M. L. Driscoll, et al., “Tailoring the Synthetic Natural Environment”, Proceedings of the Spring Simulation Interoperability Workshop, March 1998.[6]	P. S. Dailey, “The Environmental Tailoring System”, Paper 00F-SIW-027, Proceedings of the 2000 Fall Simulation Interoperability Workshop, September, 2000[7]   The Vis5D system was developed by Bill Hibbard, et. al. at the University of Wisconsin – Madison. The Vis5D home page is at  HYPERLINK "http://www.ssec.wisc.edu/~billh/vis5d.html" http://www.ssec.wisc.edu/~billh/vis5d.html [8]    The MEL home page is at  HYPERLINK "http://mel.dmso.mil" http://mel.dmso.mil  [9]	P. A. Birkel, et. al., “Breaching the M&S METOC Operational Barrier: The Worldwide Low-Resolution METOC Database”, Paper 99S-SIW-015, Proceedings of the Spring 1999 Simulation Interoperability Workshop, March 1999[10]	R. A. Reynolds, et. al., “TAOS in Space”, Paper 99S-SIW-101, Proceedings of the Spring 1999 Simulation Interoperability Workshop, March 1999Author BiographiesROBERT A. REYNOLDS is a Principal Member of the Technical Staff at TASC and has been the system architect and lead developer for TAOS through the STOW-97/98 program, the PSM+ program, and the ongoing EnviroFed project.  His primary professional interests remain focused in the areas of software engineering, object-oriented modeling, visualization, distributed simulation and synthetic environments.  He has a BS degree in Physics from the Massachusetts Institute of Technology and an MS degree in Nuclear Engineering from Carnegie-Mellon University.HAIG ISKENDERIAN is a Senior Member of the Technical Staff at TASC.  He has been involved in the generation of synthetic environments for Envirofed II.  His professional interests are in atmospheric modeling and applied meteorology.  He received a B.S and M.S. in Atmospheric Science from the State University of New York at Albany, and he received a Ph.D. in Atmospheric Science in 1995 from the same institution. STEVE O. OUZTS is Program Manager, Applied Sciences, TASC, Reading MA, and has been the program manger on numerous modeling and simulation programs since joining TASC in 1996.  He has led the TAOS development effort since 1999 and the EnviroFed I, II and on-going III projects.  He also led the DARPA ASTT sponsored development of JETS (now being transitioned into OASES as the ETS).  He is a retired colonel from the United States Air Force with 27 years experience in meteorology, systems acquisition, intelligence applications, and modeling and simulation of atmospheric effects.  He has a BS degree in Mathematics from Auburn University, an MS degree in Atmospheric Dynamics from the Navel Post Graduate School and an MBA from the University of Nebraska in addition to numerous military courses in systems acquisition and program management. PAGE  PAGE  1