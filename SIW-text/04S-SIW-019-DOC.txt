ESTHER G2HLA Synthetic Environment Framework for Command Post ExercisesLionel KhimecheJean-Louis GOUGEATDélégation Générale pour l’Armement (DGA)SOGITEC IndustriesSPOTIImmeuble Nobel18, rue du Docteur Zamenhof4 rue Marcel MongeFort d’Issy les Moulineaux92158 Suresnes Cedex92131 Issy les Moulineaux cedex, FranceFranceTel : +33 (0)141463631, Fax : +33 (0)141463314Tel : +33 (0)141185691, Fax : +33 (0)141185718lionel.khimeche@dga.defense.gouv.frjlgougeat@sogitec.frKey Words :HLA, JANUS, SIR, GESI, CAX, Plug-in Framework, M&S and C4I Interoperability, XMLABSTRACT: ESTHER (Acronym for "Environnement Synthétique de THéâtre pour l’Entraînement des PC Régimentaires") is a French MoD R&T program. It is dedicated to exploring the feasibility of providing the French Army with an integration framework allowing national and international connections of distributed C4I and HLA Simulations and offering services to achieve preparation, execution and analysis of education & training courses.This paper is the continuation of 03F-SIW-003 which was introducing the two stage approach (static interoperability and dynamic interoperability) developed in the first version of ESTHER to address C4I and simulation interoperability. This concept was instantiated for JANUS and SIR, and the lessons learnt from the experimentation with Infantry and Armored schools in 2003 were presented.In the area of dynamic interoperability, the second version of ESTHER addresses the following topics related to the connectivity of the synthetic environment to the real world:Improvement of JANUS to SIR interoperability with the extension of the message list to XL (Leclerc Tank) messages, and the capability to modify the content of the message extracted form the HLA flow before transmission to SIR.Implementation of SIR to JANUS interoperability with the ESTHER Command Agent (ECA) dedicated to the automatic control of neighbor forces (which imposes to extract relevant data from SIR OpO), the automation of XL location and logistic request messages, and the enhancement of the ESTHER FOM to support SIR ACE messages.Besides the area of interoperability, the second version of ESTHER also hosts new capabilities related to the building of the distributed synthetic environment:Distributed WAN communication optimization with the implementation of ESTHER HLA Gate as a portal federate, building a federation of federations in order to optimize dynamic data distribution and facilitate static data distribution.Introduction of GESI simulation in the ESTHER federation, showing the ability of the approach to deal with a new federate (static data and ESTHER FOM enhancement) and addressing the interoperability issues not solved by HLA.Exercise fidelity improvement with the introduction of an electromagnetic model to simulate both operational radio set and tactical message transmission.After a summary of the ESTHER approach showing the coherence with the C4ISR/Sim TRM, the paper describes the topics introduced above and shows how they were easily implemented thanks to ESTHER integration framework principles. It concludes with the lessons learnt from the experimentation held at Infantry and Armored Schools in first quarter of 2004.Introduction – BackgroundSIR Stimulation objectivesThe SIR (Regimental Information system) is the French Army C4I covering both Battalion and Company levels. This information system equips Army Combat, Combat Support (Engineering and Artillery) and Combat Service Support (Logistics) units. It is mainly installed in the APC (Armored Personal Carrier) with a single or a double workstation configuration. Newly fielded, the SIR requires an improvement to the current education and training methods for the personnel of the Command Post (CP). It is indeed necessary to take into account the added value of the system on the command process. Mentality will have to evolve to substitute data processing for the paper map to support the decision making process. In the training and education area, the SIR stimulation is supposed to initialize the C4I chain data flow at Company level, populating the SIR with information from the synthetic forces in JANUS. The reduction of these tiresome activities previously allotted to the SIR pupils or trainees, allows them to focus on the operational capabilities (operational message system, operational picture management, and information management). Hence, they have more time available for tactical tasks (analyze the information, take decision and send appropriate orders). They can discover the added value of the C4I system, gain confidence and get convinced time after time to move from paper and manual tasks to computer.This notion of SIR stimulation, whose principle is described above, implies that the C4I – Simulation interoperability topic is given some consideration. This was undertaken so as to meet the specific issues within the ESTHER project.ESTHER overviewESTHER (Acronym for "Environnement Synthétique de THéâtre pour l’Entraînement des PC Régimentaires") is a French MoD R&T program. It is dedicated to exploring the feasibility of providing the French Army with an integration framework allowing national and international connections of distributed HLA Simulations and C4I systems and offering services to achieve preparation, execution and analysis for education & training courses as depicted in  REF _Ref62955191 \h  \* MERGEFORMAT Figure 1 below.Within the first version of ESTHER, G1V1, the main functions of the integration framework were implemented. The C4I - Simulation interoperability was addressed in a two stage approach, namely static interoperability and dynamic interoperability as introduced in  REF _Ref61250876 \r \h  \* MERGEFORMAT [1]. This concept was instantiated for SIR-JANUS. The whole system was tested in the first quarter of 2003 during experimentations in the Infantry (EAI) and Armored (EAABC) schools.Figure  SEQ Figure \* ARABIC 1 - ESTHER main capabilitiesOn the basis of the achievements provided by the first version, and thanks to an experience feedback related to the operational deployments in schools, further developments were decided for the G2 version of ESTHER. The definition of these developments results from the consideration given to the two following concerns:The necessity of meeting the Research & Technology (R&T) objectives relating to the type of program, and consequently of working on innovative topics,along with:The wish to make this tool operationally available in schools, and consequently to work at consolidating the existing system, and increasing its reliability.In joint agreement between the DGA, the Army and the industrial contractor, a compromise solution was identified. The retained developments concern two major topics:Improvements in the dynamic interoperability area,Addition of new capabilities for improving the distributed synthetic environment.These technical points are described hereafter (See §  REF _Ref62956883 \r \h 3.0 and §  REF _Ref62956887 \r \h 4.0), together with the lessons learnt from the implementation of the system during experimentation at the Army schools (See §  REF _Ref62956927 \r \h 5.0). In addition, the technology assessed within ESTHER must be highlighted in accordance with SISO study topics like C4I - Simulation interoperability (See §  REF _Ref62956892 \r \h 2.0).ESTHER & SISO study topicsIntroductionAs the ESTHER program was defined before the SISO Study Groups on C4ISR-simulation TRM, the ESTHER approach seems at first glance different from SISO works but in fact it is quite on line with SISO vision. Besides, the scope of ESTHER went far beyond the C4I - Simulation interoperability topic: exercise management, multi-site aspects, fidelity of the synthetic environment. Considering the work of the international community and especially SISO work in the area of C4I – Simulation interoperability, it becomes necessary to align the ESTHER approach with the international standardization efforts, so as to identify the future orientations to be taken for the C4Is and for simulations.Thus, the ESTHER approach is briefly introduced hereafter according to SISO work on the basis of the elements identified in the summary drawn in the document  REF _Ref61251467 \r \h  \* MERGEFORMAT [2]:Message or HLA approach,Vision for the future,Reference model.ApproachHistorically, two basic approaches were identified for the implementation of C4I-Simulation interoperability:A message-oriented approach: it relies on the simulation, which is then in charge of building the messages to the C4I format, even if these messages are not a priori suited to that task,An HLA-oriented approach: it relies on the C4Is which have to match the HLA and the FOM logic.Considering that the SIR is an operational system with no chance of making any modifications within an R&T project, the message oriented approach was retained for coupling JANUS with the SIR.  In addition, the usability of the ESTHER FOM which shares some elements of the C4I FOM has been demonstrated with the capability of an another simulation, GESI, to be coupled with the ESTHER integration framework. That way ESTHER provides a combined or mix approach, HLA and messages oriented. .VisionThe vision for the future of the C4I-Simulation interoperability as proposed by the SISO C4ISR-Simulation Study Group can also be used to show how ESTHER matches this approach :ESTHER G1 belonged clearly to the interoperability short-term vision, with a message oriented approach, initialization data supplied by the simulation field, and simulation-to-C4I exchange flows.ESTHER G2 belongs to the middle-term vision, with a consolidation of the interfaces, the initiation of C4I-to-simulation exchange flows via the ESTHER Command Agent (ECA), and the first implementation of common components (the gateway from a C4I component), the whole set of functions being ensured through a third component, provided by ESTHER as depicted in figure 2 below.Reference ModelConcerning the reference model, the ESTHER model as depicted in  REF _Ref62955156 \h  \* MERGEFORMAT Figure 2 is close to a large extent to the C4ISR/Sim TRM model. The similarities between the notions handled by both models are described below:Figure  SEQ Figure \* ARABIC 2 - C4I - Sim Interoperability via ESTHERFigure  SEQ Figure \* ARABIC 3 - C4ISR/Sim TRMESTHER static interoperability is close to the Persistent Data notion of the C4ISR/Sim TRM,ESTHER dynamic interoperability is close to the Non-persistent Data notion,ESTHER internal functions can ensure the exchanges within the Simulation Service Interactions (visualization, execution control, data collection, …) and the C4I System Service Interactions (protocols allowing for C4I operation).ConclusionThe presence of a third block operating as an interface between the C4I and the simulation, while the models proposed by the SISO Groups seem to aim at a direct integration of both families, is though a distinctive feature in the ESTHER approach.This choice results of course from the history of the project, which also aimed originally at an integration of the different types of simulation (live, virtual and constructive), with a Regiment PC training application. However, during ESTHER work and more particularly during the implementation of an heterogeneous JANUS, GESI and SIR federation, the existence of this third block appeared to be a pragmatic solution to help bridging the gap between the different systems, and moreover when considering a geographical distribution.Even though it does not of course solve all the problems, particularly the semantic aspects, this architecture should be considered, especially when bearing in mind that a long time could elapse before the information system field opens up to the simulation field. The solution of a third block has always been a solution to solve exchange issues between two more or less heterogeneous systems.Dynamic interoperabilityIn the area of dynamic interoperability, ESTHER G2 addresses the following topics related to the connectivity of the synthetic environment to the real world:Improvement of JANUS-to-SIR interoperability,Implementation of SIR-to-JANUS interoperability.From the operational point of view, ESTHER meets in particular the Army concern about reducing the resources assigned to the exercise control.JANUS-to-SIR interoperabilityWithin ESTHER G1, SIR stimulation based on the synthetic environment generated by JANUS is achieved via the architecture described in  REF _Ref62958643 \h  \* MERGEFORMAT Figure 4. SIR stimulation is used to implement the following SICAT messages (format of the Army operational messaging system):Report messages from Company to Battalion: SITREP/PTSITU, SITEFF, SYNSAN, CR RENS,Synthesis messages from Battalion to Company: Friend INFOSITREF, Foe INFOSITREF, Environment INFOSITREF, INFORENS,Obstacle reporting messages (bidirectional): SITOBST REF and SITOBST MODIF,General messages: ALARM, GENTEXT.Figure  SEQ Figure \* ARABIC 4 – JANUS - SIR coupling via ESTHERThese messages are generated in ESTHER via a Gateway module based on the re-use of a software component of the SIR and installed both in the communication server and in the standard ESTHER workstations. The role of the gateway is to extract the useful data from the HLA flow and to insert the corresponding data into the suitable SIR message: according to the SICAT data structure and to the MELISSA encoding procedure. Besides, the messages are archived.The use of this message generating procedure within ESTHER G1 experimentations led to two main observations:The set of SICAT messages between the Company and Battalion levels is satisfactory, considering the data available in the JANUS SOM.Between the Platform and Company levels, some XL (Leclerc tank) messages, representing future exchanges with the SIT (acronym for Système d'Information Terminal), must be taken into account.Consequently, within ESTHER G2, SIR stimulation has been improved as follows:XL location and logistic reports have been added to the ESTHER G1 set of messages. They can be used to represent, on the one hand, the manual transmission of up-going data from the vehicle to the Company level (POSMANU/XL) and, on the other hand, the answer to an automatic report request from the SIR (DEM XL) giving rise to a POSAUTO/XL or LOGAUTO/XL report (See §.  REF _Ref61423368 \r \h 3.2.3).The SICAT message generating process controlled from ESTHER has been improved so as to facilitate message generation, as well as message acknowledgement by the SIR. A dedicated GUI is used to select the following elements: type of message to be transmitted,message addressee,virtual message transmitter (reporting element), with a default selection of SIR CPs belonging to the addressee hierarchy level,physical message transmitter (transmitting element), with a default selection of units which have transmission means,aggregation level,definition of a time slot for capturing simulation events.This improved message control process facilitates integration into the SIR recognized picture.In the case of a GENTEXT message for the ECAs, the possible addressees are the SIR CPs of the units designated to be managed in the exercise by the Command Agents. The possible transmitters are the SIR used by the neighbors or the high controller virtual SIR.The handling of the different SIR message attributes has also been improved with a User Acknowledgment (UACK) and a Technical Acknowledgement (TACK), and with "for information only" and "Preview" options.The possibility of previewing the contents of the elements to be integrated into the message before generating it has also been added. This new capability allows the animation to introduce biases into the transmitted situation for an improved representation of the uncertainty of the reports made in the real situation, especially in the case of the enemy situation and obstacle reports.SIR-to-JANUS interoperabilityJANUS-to-SIR coupling (covered above) is intended to stimulate the SIR with messages presenting a realistic and consistent situation to the trainee. Its purpose is also to minimize the resources necessary for the animation by reducing the number of manual data entries into the SIR during the exercise. To improve the reduction field, an important task consists in investigating the C4I-to-simulation coupling to provide from the C4I view the simulation control with a minimized number of simulation operators or, ultimately, without any simulation operator.ESTHER addresses this field according to  the three following topics:ESTHER Command Agent (ECA),Transmission of the Operation Order, necessary  for ECA operation,Requests for XL reports.These elements are presented hereafter, with the modifications made to the ESTHER G1 FOM for implementing the ECA.ESTHER Command Agent (ECA)ECA principle:The ECA is designed for the animation of neighbor forces (friends and foes) and refugees,It is intended for the command of an aggregate at Company/Squadron level with 13 to 20 entities,The order is an Order of Movement toward a coordination line, with instructions relating to formation, speed, firing policy, and general observation direction.The expected result is the computation of the paths for the different elements in the aggregate, in compliance with the above instructions and the terrain features, without integrating dynamic obstacles (Engineering).The paths of each elements of the aggregate are determined within the scope of the information contained in the Operation Order (OpO), namely the coordination lines and the units border.Relationship between ECA, SIR and ESTHER:A well-known issue concerning C4I-to-Simulation coupling lies in the fact that the messages of the information system do not include the formatting required for an automatic interpretation by the simulation. The solution retained within ESTHER consists in using a message from the C4I in character format. The GENTEXT full text message of the SIR has been chosen for that purpose, with the following modalities:Syntax: introduction of tags to mark the fields required for the message,Semantics: use of a standardized vocabulary which can be used by the simulation,Encoding: dedicated GUI to help the user for the GENTEXT message generation .The process to generate the GENTEXT message from SIR to JANUS is depicted in  REF _Ref62958941 \h  \* MERGEFORMAT Figure 5 below and includes the following steps:Generating the OpO order:The OpO order is necessary to operate the ECA which uses the coordination lines and units borders. This topic is covered in §  REF _Ref62958967 \r \h 3.2.2.Generating the ECA order:The ECA order is transmitted in a GENTEXT message from the battalion SIR managing the neighbors, or from an ESTHER workstation (provided with a data entry aid), to one of the neighbor companies.The ESTHER communication server archives the message. It is transmitted to other federates through an HLA interaction.The addressee ESTHER workstation (the one which models the neighbor Company SIR CP to which the message is sent) extracts the data from the HLA interaction to define the path of the different entities of the aggregate. The terrain data from JANUS (".dat" file containing altimetry and planimetry data) are used by the ECA to compute the path.A GENTEXT report is sent back to the SIR having generated the ECA order (or designated as such) to inform it on the ECA planning status: OK or NOK, and the reasons for a failed planning, as applicable.The paths are transmitted in blocks of 150 waypoints (JANUS limit) via a specific HLA interaction sent for each entity (see hereafter the HLA interaction used) to the JANUS server for execution in the simulation.Figure  SEQ Figure \* ARABIC 5 - ESTHER Command Agent (ECA)Processing the ECA order:After execution of the assigned path, a GENTEXT report is sent back to the SIR transmitting the ECA order (or designated as such). This report notifies the results of the execution phase: Movement Order completed, or aborted in the way due (1) to the destruction of the leader and of the two deputies, or (2) to an attrition level of the unit preventing continuation. The attrition level is also indicated in the message.The units movements managed by the ECA can be monitored on the JANUS Client (an operator action can cause an interruption of the ECA control on the relevant entities until the conditions for normal control are restored : displacement returned to expected position).The messages are accessible from ESTHER workstations through consultation of the SIR historical record list supplied by the HLA flow.Building and configuration of the ECA:Building the ECA consists in defining in a flexible way the company level units intended to be automatically animated according to the order given by the operator (from the SIR or an ESTHER workstation) as described above. This flexibility results from the use of the following xml configuration files:The « declaration xml » file which is used to declare the Entity agents, eg LECLERC, and the Aggregate agents, eg the ECA.Example:<agent type="LECLERC" implType="AceJanusEntityAgent" vmax_kmh="85" moverType="TRACKED" engType="HEAVY_ARMOR" /> <agent type="Ag_S_GTIA_ABC" implType="AceAggregateAgent" /> The « costs.xml » file which is used to parameterize the costs functions required by the graph path search algorithm A* (speed and risk optimization).Example:<costsDeclaration> <cost name="vitesse1" type="speed" /> <cost name="surete1" type="safety" free="1.0" vegetation="0.33" urban="0.33" road="3.0" /> </costsDeclaration>The « AceAggregateMoveOrder.xml » file which is used to define the dynamic management parameters for the unit’s movement in formation: tolerated deviation from the theoretical path, check periodicity, attrition percentage leading to aborting the mission, etc.Example of parameter:<abortMission availabilityThreshold="40" /> - <!--  1 to 99: under this threshold of available entities, the mission is aborted --> The « ACEType.xml » files: Each file is used to describe an ECA (eg.: ABC, INF, ENI, Refugees, EEI) which is composed of Identifier / Entity agent pairs (13 to 20) and of possible formations.Example:<agentDeclaration> <composition> <agent name="PC" type="LECL-PC" /> <agent name="VOA" type="X10_P" /> <agent name="1.1" type="LECLERC" /> </composition> <formations><formation name="F20_Colonne1Axe" /> <formation name="F20_Colonne2Axes" /> </formations></agentDeclaration>The « formation.xml » files: Each file is used to describe a possible formation (ex.: Column, Battle, etc.), with the formation geometry for the ECA entities and the formation modification conditions.Example:<formationDeclaration> <agent name="PC" x="0" y="350" /> <agent name="VOA" x="0" y="300" /> <agent name="1.1" x="0" y="550" /> <reference name="PC" name2="1.1" name3="2.1" /> <engagementFront min="0." max="0." /> <uncertainty value="50" /> <distanceToChange beginning="1500" end="2400" /> </formationDeclaration>As an example, the Armored ECA is shown below, with the xml definition file (figure 10) and its representation in the ORBAT form in ESTHER (figure 11).<?xml version="1.0" encoding="utf-8" standalone="no"?><agentDeclaration><composition>   <agent name="PC" type="LECL-PC"/>   <agent name="VOA" type="X10_P"/>   <agent name="1.1" type="LECLERC"/>   <agent name="1.2" type="LECLERC"/>   <agent name="1.3" type="LECLERC"/>   <agent name="1.4" type="LECLERC"/>   <agent name="2.1" type="LECLERC"/>   <agent name="2.2" type="LECLERC"/>   <agent name="2.3" type="LECLERC"/>   <agent name="2.4" type="LECLERC"/>   <agent name="3.1" type="LECLERC"/>   <agent name="3.2" type="LECLERC"/>   <agent name="3.3" type="LECLERC"/>   <agent name="3.4" type="LECLERC"/>   <agent name="A.1" type="VBL12,7"/>   <agent name="A.2" type="VAB-T20"/>   <agent name="A.3" type="VAB-T20"/>   <agent name="A.4" type="VAB-T20"/>   <agent name="V1" type="VAB-P"/>   <agent name="V2" type="VAB-P"/></composition><formations>	<formation name="F20_Colonne1Axe"/>	<formation name="F20_Colonne2Axes"/>	<formation name="F20_DeploiementAttaque2x2"/>	<formation name="F20_DeploiementAttaque3x1"/>	<formation name="F20_DeploiementObservation2x2"/>	<formation name="F20_Infiltration"/>	<formation name="F20_InfiltrationObservation"/></formations></agentDeclaration>Figure  SEQ Figure \* ARABIC 6 - xml view of ECAFigure  SEQ Figure \* ARABIC 7 - ESTHER ORBAT Tool view of ECA The ECA configuration possibilities and constraints are the following:New types of ECAs can be defined. The list of possible ECAs is extracted from the "Declaration.xml" file by the ECA/Group configuration GUI (exercise preparation),The formations can be defined by the "formation.xml" files and associated with the ECAs by the "ACEType.xml" file. But, they cannot be used dynamically at the moment as the ESTHER application is compiled.Transmission of the Operation Order (OpO)The Operation Order must be available to operate the ECA and to extract from it the tactical information (coordination lines, units borders, etc.) necessary to define the paths.The process is described below:The OpO is transmitted from the Battalion SIR managing the neighbors to the subordinate Companies.The OpO is archived in the communication server, and then transmitted to the ESTHER workstations via an HLA interaction (see hereafter the HLA interaction used).The OpO is displayed on a dedicated layer in the ESTHER workstationsRequest for automatic reportsIn the XL procedure, the location and the logistic situation relating to a platform equipped with a SIT can be obtained automatically following a request  from the SIR. The processing of the corresponding messages has been implemented in ESTHER:DEM/POS/XL, which causes the POSAUTO-XL message to be generated for the questioned platforms,DEM/LOG/XL, which causes the LOGAUTO-XL message to be generated for the questioned platforms.This functionality supplies the location and logistic situation in compliance with the expected operation of the SIR. Modification of ESTHER FOMBeyond the operational interest lying in the automation of the exercise animation, the introduction of the ECA required adaptation of the FOM to allow the implementation of the interactions necessary for routing operational messages (OpO and GENTEXT) and the elements of the paths.Figure  SEQ Figure \* ARABIC 8 –  ESTHER FOM - InteractionsInteraction supporting the messages: 	ApplicationSpecificRadioSignal is derived from the Communications/Radio Signal interaction and is made of the following parameters defined in the ESTHER FOM:From: The BaseEntity which transmits the message (RTIObjectRefStructure)To: Entities to which the message is sent (RTI ORS)Type: The SICAT message type (String)GDH: The message transmission time (String)Priority: The SICAT priority of message (enum)Id: Unique identifier of SICAT message (long)DataRate: Bits per second for the binary signal (unsigned long)HostRadioID: Id of the signal transmitter (long)SignalDataLength: Length of transmission in bits (unsigned long)SignalData: Information contents of this transmission (unsigned char.).This interaction, already used within G1 to carry the envelope of SIR messages, has been improved within G2 by adding the entry of the last field relating to the contents of the SICAT format messages.Interactions supporting the Movement Order:These interactions are derived from the EntityOrder class which is made of the following elements: To: The object id of the entity to which the order is given (RTIObjectRefStructure)Path: The waypoints of the path given to the entity. (WorldLocationStruct)Move: If true, the entity begins to move. Otherwise, the entity stops (bool)Firing Policy: The weapons free status that the entity shall apply (bool)Observation: Direction (the central direction of the observation sector) and angle (the angle of the observation sector, in radians)Posture: The posture of the entity at the end of the order (bool).All these improvements to the FOM bear on the ECA-to-Simulation exchanges.. Only the interactions have been affected, no object was created or modified.These modifications have been documented in the ESTHER FOM and GRIM. Their implementation in the ESTHER code was facilitated by the FOM Agility capability provided by the RAL suite (middleware layer between the RTI and the application code, developed by ANPROS).Distributed synthetic environmentBesides the interoperability features, ESTHER G2 also hosts new capabilities related to the building of the distributed synthetic environment in the following areas:Distributed WAN communication optimization,Introduction of GESI simulation,Exercise fidelity improvement.WAN communication optimizationESTHER HLA GateBecause ESTHER federation works in reliable mode, exchanges within a multi-site federation soon become highly demanding in bandwidth and a Reliable Distributor is required. It is meant to optimize the HLA flow exchanges between remote sites and then to :centralize HLA communications on each LAN,transmit, over the WAN, HLA communications from the LAN to the remote reliable distributor located on other LANs,transmit, over the LAN, HLA communications received from other LANs, via their remote reliable distributor, through the WAN.It should be noted that the exchange protocol used between the reliable distributors on the WAN is not necessarily based on  HLA, but an encapsulation of useful data from the HLA flow. For ESTHER, a full HLA solution has been provided which makes it possible to build a federation of federations, using a dual Portal federate, named ESTHER HLA Gate.Figure  SEQ Figure \* ARABIC 9 - ESTHER HLA GateThe reduction of the data exchange over the WAN concern both the RTI/FEDEX technical flow, which is minimized on the WAN by the fact that each LAN federation has a local FEDEX, and the inter-site simulation flow which is routed only once between the reliable distributors.ESTHER HLA Gate experimentationsExperimentations were conducted to check on a practical basis the theoretical optimization gained from the introduction of reliable distributors. The following theoretical hypotheses were used to estimate the flow reduction:A 2-site federation, with a JANUS server and one federate on the first site, and a logger and 5 federates on the second site, JANUS and the logger operating as reliable distributors, in compliance with the principle presented in  REF _Ref63160968 \h  \* MERGEFORMAT Figure 9.An average HLA flow of 11 kbits/s for blocks of 400 entities, taking into account dead reckoning and a moderate movement activity of the entities.	The tactical scenario retained for the experimentation having 300 entities, the theoretical  average HLA flow expected is  8.25 kbits/s,Each federate adds a technical flow (ping for RTI, time management for FEDEX) of about 34 Kbits/s for a remote federate.The main results measured are detailed below.RTI/Fedex management flow: In the case of a single remote federate (eg.: JANUS server), the flow on the WAN is not significantly different in optimized mode or in non-optimized mode (respectively 28 and 26 Kbits/s see below). This indicates that the reliable distributor capability does not cause a significant flow increase. EMBED Excel.Sheet.8  Figure  SEQ Figure \* ARABIC 10 – Management flow in non-optimized EMBED Excel.Sheet.8  Figure  SEQ Figure \* ARABIC 11 – Management flow in optimizedAdding a new remote federate causes a flow increase in non-optimized mode (55 Kbits/s see  REF _Ref64967781 \h Figure 12), while the flow remains unchanged in optimized mode. EMBED Excel.Sheet.8  Figure  SEQ Figure \* ARABIC 12 – Adding a federate in non-optimizedAs expected, increasing the number of federates has a significant effect on the bandwidth required for this type of flow in non-optimized mode.Simulation flow:The theoretical flow within the above-defined context is of 50 Kbits/s (34 + 8.25*2) in optimized mode, and at most 150 Kbits/s (34 + 8.25*6) in non-optimized mode (because 6 federates).Actually, the flow measured in optimized mode is of 47 Kbits/s on average which is close from the theoretical measurement. EMBED Excel.Sheet.8  Figure  SEQ Figure \* ARABIC 13 - Simulation flow in optimized modeThe same simulation flow measured in non-optimized mode is of 131 Kbits/s on average, a little bit less than theory, because federates have not equal activities.  EMBED Excel.Sheet.8  Figure  SEQ Figure \* ARABIC 14 - Simulation flow in non-optimized modeThus, the optimization provided by the ESTHER HLA Gate no longer entails multiplying the flow transmitted on the WAN by the number of connected federates, but only by the number of interconnected sites. This capability is important during the whole exercise and particularly at the start of the exercise to minimize the traffic peak related to the first transmission and obviously to reduce the cost of rental WAN.Introduction of GESI simulationThe GESI simulation system consists of a simulation station (server) and several tactical workstations (clients). Originally, GESI was designed to operate in a stand-alone mode and run complex and comprehensive exercises at the Battalion and/or Brigade level. For this purpose, the GESI system must simulate the entities of all forces and their effects in real-time.To be used together with other simulation systems within the ESTHER federation, two additional features are necessary for GESI:The ability for direct exercise initialization by using the ESTHER XML-based scenario definition file,An HLA-based interface compliant with the ESTHER FOM.GESI HLA results from the addition of a GESI HLA Adaptor layer to the original GESI core.Initialization dataStatement of needBefore a simulation can be started, some information on the intended exercise is required. These initial data are combined into a scenario containing the following information:the order of battle of all participating forces,the original locations of all participating entities, the assignment of the simulation servers to the entities they will manage,the specification of the simulation terrain,the specification of the simulation environment.As long as a simulation is operated in stand-alone mode or within an homogeneous federation, the internal scenario editor may support the user to create the initial scenario. In addition, the definitions of entity types, weapon types and ammunition types are consistent.Within ESTHER, designed for building heterogeneous federations of simulations and C4I, the exercise initialization has to be done with the ESTHER scenario and exercise tools. These tools manage the entities sharing and distribution among the federates and ESTHER systems. Each simulation system is responsible for the integrity of the scenario according to its internal constraints. In addition, because of the federation heterogeneity, the consistency between the definitions of entity types, weapon types and ammunition types has to be achieved via agreed map tables established once in each simulation system. Moreover, the consistency of weapons and ammunitions performances has to be established in each system.ESTHER Static Interoperability issuesThe definition of an ESTHER exercise, strongly influenced originally by the SIR and by JANUS, has been the subject of further thought since G1 to take into account the major requirements of GESI.Figure  SEQ Figure \* ARABIC 15 - Static Data DistributionThe approach consisted in defining an XML exchange format according to the "ScnEsther.xsd" XML-Schema, to transmit the scenario data to the three systems, each system being responsible for completing the extraction of useful data through post-processing.Within ESTHER G2, GESI HLA being a new federate,  modifications had to be made to take into account some operating particularities of GESI. The main effects bear on the following elements:Order of Battle: GESI entails defining all the intermediate unit levels (eg it is not possible to attach a squad to a battalion). The number of elements is also limited for all the levels.	Consequence: As ESTHER provides a wide scope in the building of the ORBAT to integrate the possibilities offered by JANUS and SIR, the rules relating to GESI will have to be complied with by the operators when building an ORBAT within ESTHER. The XML file format remains unchanged. GESI will display an error message, when necessary.Scenario: GESI entails defining within the scenario the name of an environment file containing weather data and the dates of the beginning and end of the exercise.	Consequence: The XML file is modified to integrate the environment file necessary for GESI.Date/Time: GESI requires, for the beginning of the exercise, dates which are multiples of 5 minutes.Consequence: When building an ESTHER exercise, the operator will have to comply with this requirement.Management of opposing sides: The internal operation of GESI entails knowing all the entities before the start of the exercise, managing all the entities of one side, and limiting the number of entities, levels and sides. In addition, the Reds must appear first in the ORBAT.	Consequence: The scenario function within ESTHER meets this requirement. Besides, it is agreed that GESI will manage all the entities of the side assigned to it. This requirement will have to be complied with by the operator when building the exercise within ESTHER.Location data export: The terrain within GESI is made of hexagons 50 meters in width. The entities are positioned at the centre and move from cell to cell at their own speed depending on the terrain and the mission. GESI publishes the changes in the location and direction of the entity as snapshots, without speed information. 	Consequence: The Dead Reckoning capability of JANUS and ESTHER does not work for GESI entities which are moving in 50 meters leaps instead of a smooth displacement.Location data import: Even if the terrains are based on the same sources, GESI terrain approximations dealing for instance with the terrain degradation factor are different from those in JANUS. Hence Models in both simulation may provide different results. 	Consequence: Two identical platform managed each in a different simulation may behave differently (speed) on the same path.Coordinate system: GESI uses WCS-WGS84, whereas ESTHER and JANUS use UTM-WGS84.Consequence: Geographic data are exchanged through HLA under the WGS84 geocentric system for a greater interoperability. GESI HLA, JANUS and ESTHER use the SEDRIS package for transfers between the coordinate systems, possible drifts (accuracy and reliability) being accepted.HLA InterfaceTo take part in an ESTHER federation, GESI HLA has to be compliant with the ESTHER interface specifications, including the ESTHER FOM. The initial definition of the ESTHER FOM was strongly influenced by JANUS, but it did not integrate the specificities of the GESI HLA SOM (which did not exist). Modifications had to be made to take into account some operating particularities of GESI, although all the models could not be matched. The main resulting gaps bear on the following elements:Models: GESI does not manage NBC models. Consequence: If a JANUS / GESI exercise with NBC is to be run, the entities generating and undergoing NBC damages must be managed by the JANUS server. Entities: The GESI and JANUS databases contain different ammunition and weapon system definitions. Consequence: During the exercise, this leads to non fidelity behaviors (ex: RPG firing from JANUS at a GESI infantryman is not taken into account by GESI which has no PK tables for this firer/target pair). See §  REF _Ref63217287 \r \h 4.2.3.Lifeform: GESI does not manage individual personnel. 	Consequence: The JANUS notion of homogeneous aggregate is used for a correspondence with GESI infantry groups. This is the only instance of a possible use of a homogeneous aggregate in a JANUS / GESI exercise. MineFieldObject: Mines are modeled differently in GESI and in JANUS: in terms of density in GESI versus one per one in JANUS. A special “AggregateMines” object class has been added under “AerialObjects” for GESI to publish and subscribe to minefields. JANUS still uses MineFiledObjects	Consequence: As the simulations do not know all minefields, the detonation can not be produced anymore by the simulation that owns the entities. A new process has been established: a detonation is emitted by the owner of the minefield, the attrition being decided by the owner of the entity. Given the extrapolation of locations and the additional processing delay, the attrition may occur at a different location than the current location of the entity.Time Management: A GESI configuration file is used to define the LookAhead value. It is set by default to 1 second.Implementing GESI with ESTHERThe work presented above dealing with the static and dynamic interoperability approach, was tested concurrently with GESI-ESTHER firstly and with GESI-JANUS-ESTHER secondly.Within the GESI-ESTHER tests, the major points relating to the scenario definition and to the HLA interface were addressed and solved. As this is a homogeneous federation, the simulation-related part did not present any difficulty.The tests with JANUS brought to light the stumbling blocks resulting from the heterogeneous character of the federation. These were solved and limitations of use were identified (concerning mines in particular). It was possible to develop a satisfactory scenario with limited tactical objectives.However, there is still work ahead to improve the federation : i.e., matching the ammunition and weapon system definitions, and achieving consistent performances in terms of PH and above all of PK between the systems. This is a demanding task which requires operational SMEs, French for JANUS and German for GESI.Exercise fidelity improvement.One of the components of the synthetic environment representation fidelity is the integration of the C4I communication models used.C4I modeling in ESTHER aims at representing communications between SIR CPs, by taking into account the most dimensioning elements from the SIR communication point of view, the PR4G radio device. Models for transmission, reception, and propagation over the terrain have to be developed to provide a virtual realistic environment for CPs training exercises.The following models were made:PR4G radio device: transmission is considered according to the SAP mode (Service Accès Paquet) for data exchanges. The combined data/voice mode is not represented.RadioCommunication server: This system interfacing the PR4G and the SIR manages the mail box which handles the data contained in the message envelops, and the SAP access management which routes messages within the SIR:PR4G network. The latter layer checks in particular that the message transmitter belongs to the SIR network.Propagation: This part of the model determines under which condition the message transmitted can reach its addressee, considering the field location of the latter.Within G1, the model used for propagation simply considered a range computation. For G2, an electromagnetic propagation model has been introduced. It takes into account all the elements like: antenna gains, transmission power, antenna heights, sensitivity in reception, frequency, terrain characteristics.This communication model is integrated into a dedicated component of ESTHER, i.e., the data transmission Server. All the operational messages (SICAT and XL) transmitted between SIRs or between ESTHER and SIRs are transferred through this server. Besides modeling transmissions, the server archives the data. In addition, it also ensures the management of messages relating to the Command Agent as depicted in  REF _Ref63218391 \h  \* MERGEFORMAT Figure 16.Figure  SEQ Figure \* ARABIC 16 - Message Managment in ESTHEROther areasWork was also carried out within ESTHER G2 in the following areas.HLA performanceThe first significant change concerned the RTI version, which was upgraded from 1.3 NGV4 to 1.3 NGV6. The archiving of the HLA flow has also been improved with a more ESTHER efficient library for the translation from HLA to XML. GUIThe GUI of the ESTHER stations has also been modified to take into account the needs expressed by operational personnel during the ESTHER G1 experimentations. These improvements bear on the following:Display of the OpO: The OpO sent by the SIR is displayed on ESTHER workstations. The coordination lines and the units borders can then be directly used on the ESTHER perceived situation,Aggregation: The presentation of the ESTHER situation at platform level corresponding to the JANUS one is no longer suitable for tactical thinking. The graphical aggregating at Squad, Platoon or Company level, is more consistent with the SIR.Availability: In the representation of the aggregated Order of Battle, the information relating to the average readiness of the unit is displayed and can be modified.Obstacles: The perceived situation concerning obstacles is presented on a dedicated Obstacle layer.Terrain data: The terrain can be questioned to supply the altitude and planimetry characteristics. These data are derived from an interrogation of JANUS altimetry and planimetry data.After action analysisNew functionality is proposed with a "balance of power" type indicator and the possibility of a remote consultation of the screens of the different federates ,JANUS, ESTHER or SIR) deployed within an exercise. For this purpose, the VNC software is used.ESTHER Terrain generation: To make it possible to run an exercise on any terrain, an ESTHER terrain generation editor is used to build the ESTHER Bitmap from the RASTER format. This editor is the ESTHER counterpart of the JANUS EXTRAJAN software.G2 experimentationThree experimentations were conducted within ESTHER G2: Technical tests in distributed  modeExperimentations at the Army schools.Technical tests in distributed modeA technical experimentation was performed to check the feasibility of using the VPN technology on the Internet as a multi-site interconnection means for ESTHER. The two sites used were the Centre Technique d’Arcueil (CTA) at Paris and the Centre de l’Electronique de l’Armement (CELAR) at Bruz.The configuration used is depicted in  REF _Ref62960241 \h  \* MERGEFORMAT Figure 17 below : A standard configuration is deployed at CELAR (ESTHER and JANUS), and only a basic ESTHER workstation at CTA.From  communications point of view, the same means are deployed on both sides: a VPN (OpenVPN), a routing software and a modem driving a 768 or 128 kbits/s variable-flowrate ADSL line.Figure  SEQ Figure \* ARABIC 17 – Distributed configuration on VPNA scenario with 450 entities as whole generating an important tactical activity was tested. The purpose was to check response times of ESTHER system and particularly on the ESTHER remote single workstation.The result of the experimentation was satisfactory as regards the scenario progress. It was possible to follow the exercise in smoothly flowing conditions on the remote site, both in play and replay modes. As the compression algorithms of the VPN were not activated, it seems possible to play a Battalion scenario (1500 to 2000 entities) with such an optimized configuration. The main interest of this operation lies in the costs and flexibility of the ADSL communication lines in comparison with the implementation of an entirely military solution (low availability) or a conventional telecommunications technology like  Frame Relay t (high costs). It should be noted however that the VPN introduces a delay in the communications due to encryption, which is more or less inconvenient depending on the more or less real-time character of the federation.The major drawback is that the exercise configuration phase is very demanding in term of bandwidth, in particular for the broadcast of the scenario. This is especially due to the replication of weapon system and terrain databases. Such data transfer generate relatively long response times on the remote site. Further thought must be given to the exercise implementing procedure before checking what can be reduced in the initial exchanges. It should be noted that some exchanges within the operating systems, which cannot be easily controlled, are also bandwidth-consuming.Experimentation at the Army schoolBackgroundThe previous version of ESTHER was implemented during the DEFTEMP exercise at the EAI school in May 2003. This was a school in-house exercise and it involved pupil Captains being trained on the SIR. They were confronted with a situation very close to the real conditions of a field action, feeded dynamically into the SIR.Within G2, the situation has much changed. The success of DEFTEMP has drawn the attention of Army regiments, and especially of the “2° Régiment Etranger d'Infanterie” (2° REI). This Regiment belongs to the "2° Brigade Blindée" (2° BB) which is one of the two brigades to be soon fully "digitalized" within the Army. The 2° REI regiment is then quite aware of the added value of SIR stimulation provided by ESTHER and has expressed a wish to take part as a trainee CP in G2 experimentation, within the scope of a realistic exercise.Presentation of the exerciseThe general architecture of the exercise is basically the same as for DEFTEMP, namely one Battalion CP and five Coy CPs. Both levels have their SIRs, which are mutually animated in an almost dual-level operating mode. The whole system is stimulated by ESTHER and JANUS which provide the following: Supervision of the exercise,After action Analysis,High and low control,SIR stimulation with automatic SIR messages generation and automatic answer to SIR request messages.The training is based on a scenario which makes it possible to build a stimulation frame based on SIR and XL messages. This frame is to be used by the DISTAFF through the stimulation. It offers however a high flexibility of use so that it can be adapted to the maneuver progress.This organization as depicted in  REF _Ref64447110 \h  \* MERGEFORMAT Figure 18 allows the exercise to achieve a priori the two objectives expected by the Regiment and by the EAI school:A dynamic implementation of the SIR within the scope of a realistic maneuver,An exercise conducted at an acceptable cost, considering the very reduced size of animation.Figure  SEQ Figure \* ARABIC 18 – Exercise organization Initialization of the exerciseThe exercise was run in conditions very close to a real  operational engagement. The tasks performed during the initialization phase were the following:Generation of the Battalion Operation Order. This order was initialized during the exercise preparation by the DISTAFF. It was taken into account by the Battalion CP and sent to the subordinate units.Maneuver preparation: Based on the OpO, the Coy commanders prepared their projects for maneuver, obstacle plans and firing plans, and submited them to the Battalion CP.Regimental Briefing : The regimental commander called the Coy commanders for a visual briefing leading to the final acceptance of the various plans.Companies Briefing : Back to its CP, each Coy commander called his subordinates (i.e. the JANUS operators) for a visual briefing. The subordinates went back to their Platoons/Sections (i.e. JANUS stations) waiting for the departure order.Concurrently, the synthetic environment was set up by the DISTAFF and Animation team of the EAI:Initialization of the ESTHER exercise and transmission of the exercise data to JANUS and to the SIR.Briefing of the opposing Force by the DISTAFF who keeps control throughout the exercise.On completion of briefings:JANUS planning by the operators depending on the orders received.When the preparatory work was completed, the DISTAFF and the high Controller started the ESTHER system to start the federation. The Battalion CP gave the Movement Order.Maneuver developmentThe course of action ran satisfactorily, allowing the Coy commanders to make use of their SIRs within the process planned with ESTHER :Unit commanders ask on the Radio Network for a situation report (PTSITU) from a subordinate section,The relevant JANUS operators ask via the Control Voice Network the DISTAF to generate the SIR message,Unit commanders on their SIRs take into account the information from their subordinates to build their messages to the regimental level.Within the target frame message list, the following messages were used : OpO, GENTEXT, SITOBST, PTSITU, INFOSITREF. The intelligence messages were not used as the effort in the SIR training process was focusing on the recognized picture which is not affected by those messages.Besides, the neighbors (friend and enemy) units control was performed via the ESTHER Command Agent from the DISTAF without any JANUS operator. The appearance was found useful and realistic by the HICON given that the action lead by the OPFOR was taking place close from this area.Experience feedbackSeveral interesting elements arose from the lessons learnt during the exercise :ESTHER was found very valuable to the Commanders of the 2° REI. As they were highly skilled in the use of the SIR, they were sufficiently available to take benefit of the automatic feeding of their recognized picture (both from HICON and LOCONs), and moreover to ask, within the rules of the tactical procedures, for message from their subordinates.On the other hand, given the success of the SIR generation message process, the centralized ESTHER workstation dedicated to the message production was overbooked. This raised again the question of the animation architecture, defining if the message generation tool should be located at the DISTAFF, or co-located with the JANUS operator, or co-located with the unit commander. 	The transfer of the ESTHER message generation capability into the JANUS Client has to be assessed.Given the number of entities in the exercise and the complexity of the scenario, some failures occurred with the JANUS server. These failures were not catastrophic for JANUS, which has an automatic restart capability at the last recovery point. But ESTHER is currently not able to take into account this JANUS capability and the exercise has to be restarted. The effect on the exercise (from the SIR viewpoint) is minimized with the JANUS operators rebuilding a new initial situation and discarding previously destroyed entities. 	However, this warm restart capability has to be added to ESTHER in order to efficiently and transparently support the future exercises.Following the 2° REI exercise at EAI school, another exercise is being done at battalion level in EAABC. The successful first results (lessons learnt of this exercise exceed the dead line of this paper) demonstrate that the ESTHER concept can fit various training levels.What is nextAfter G2 experimentation at Battalion level at the EAI school and Battalion level at the EAABC school in the first quarter of 2004, experimentations will be increasing during the second half of 2004. They will include full-scale training exercises with regiments equipped with the SIR, first in single-site mode, at the EAI and EAABC schools, then in multi-site mode between the two schools.From the technical point of view, ESTHER will be tested within a French and German cooperation aiming at a remote coupling of JANUS and GESI on the one hand, and of the Battalion information systems of the two countries via the MIP protocol, on the other hand.At the end of the project (end of 2004), the continuing exercise capability offered by ESTHER will be maintained by the contractor EADS. New capabilities will also be implemented : the ESTHER warm restart capability, the new SICAT standard releases, the message generation from JANUS clients, the SIR communication data set-up from ESTHER.This shows that R&T development and experimentation concepts may fulfill military requirements by providing rapidly operational systems that could incrementally evolve release after release.ConclusionDerived from an R&T project, ESTHER G2 is an outstanding compromise within a dual design approach: on the one hand, a consolidation of the previous demonstrator with a requirement to improve it for an operational deployment and, on the second hand, functional innovations in line with a technology-oriented approach mandatory for a R&T project. From the operational point of view, as the system will be available in Army schools by the end of 2004, it will be possible to conduct full-scale training exercises with the Battalions equipped with the SIR. The ESTHER system will also supply subjects for further thought to the Army in order to start the specification process for a future operational system allowing the coupling of the overall Army C4I and simulation systems.From the technical point of view, the C4I - Simulation interoperability topic, which was a priority for the Army within the project, has been largely addressed, by taking into account first SICAT messages, the first XL messages, and finally the ESTHER Command Agent. In addition, the ESTHER approach is consistent with the results of the SISO Study Groups on C4I-Simulation TRM. Mainly message oriented at the beginning, ESTHER has currently reached the stage of sharing common elements with C4I.integration.The C4I & Simulation interoperability vision will be further addressed within the CALIPSO R&T Program which will start at mid 2004. CALIPSO will in particular address the issue of alignment of C4I and Simulation Systems, in the area of training and decision making, and in line with the work performed by the Technical Activity 027 (“Pathfinder Integration Framework”) of the NMSG (NATO M&S Group). It will provide guidance needed by the French Army for the definition of operational systems of the next decade.AcknowledgementsSpecial thanks to the French officers who provided an excellent support to the ESTHER program with operational requirements, advices and guidelines:CoFAT: 	LCL de BruignacEAI: 	LCL MurienteEAABC: 	LCL Berniau, GernigonCROSAT: 	LCL Fatz,Many thanks to the French MoD/DGA Engineers who have contributed to the success of ESTHER G2:M. Bonnavaud.In addition, I wish to thank the EADS/S&DE ESTHER team who has established very powerful and successful relationship with the Army Officers for the benefit of the project:Ms Jauer, MM. Costa, Gautreau, Desert, Peugeot.ReferencesKhimeche: "ESTHER G1V1 - HLA Synthetic Environment Framework for Command Post Exercice". Paper 03F-SIW-003, 2003 Fall Simulation Interoperability Workshop, 2003.Tolk: Overview of recent Findings of the Study Groups of the Simulation Interoperability Workshop dealing with C3I and M&S interoperability". Paper presented at the MSG-022/SY-003/25 Conference on "C3I and M&S interoperability" held in Antalya Turkey, 9-10 October 2003.Khimeche: “ Course of Action Analysis and C4I-Simulation Interoperability”. Paper 03F-SIW-028, 2003 Fall Simulation Interoperability Workshop, 2003.Author BiographiesLionel Khimeche is the DGA/SPOTI M&S Referent and coordinator and a R&T program manager in the field of M&S for forces readiness (ESTHER), support to operation (APLET) and C4I-Simulation Interoperability (CALIPSO) at the French MoD (DGA/SPOTI Délégation Générale de l’Armement / Service des Programmes d’Information, de Télécommunications et d’Observation). Within NATO, he is national member to the MSG-027 “PATHFINDER Integration Environment”. In addition, he has international responsibilities as the French Technical Project Officer for the DEA1188 dealing with Training Devices and Simulation Technology and as the French Chairman for the simulation group of the French-German Electronic Commission.Jean-Louis Gougeat is project manager at SOGITEC in the area of simulation for training. He has been involved as a supporting consultant to the French MoD in various project related to Command Post training. He is currently leading a R&T project related to the impact of Urban Warfare in JANUS. He is holding a Master in Telecommunications and graduated in 1987 from the “Institut National des Télecommunications", Evry, France.