Required Steps and Lessons Learned from HLA Compliancy TestingWayne NevaSharon ChaseU. S. Army Tank-Automotive and Armaments Research, Development, and Engineering Center (TARDEC), Warren MI 48397-5000Nevaw@tacom.army.milChases@tacom.army.milKeywords:HLA, ComplianceABSTRACT: The U.S. Army’s Tank-Automotive and Armaments Research Development and Engineering Center (TARDEC) VETRONICS Simulation Facility (VSF) has gone through the High level Architecture (HLA) compliancy testing.  The protocol that the VSF had been using, to communicate via a long haul network, is Distributed Interactive Simulation (DIS).The HLA was developed by the US Department of Defense under the leadership of the Defense Modeling and Simulation Office (DMSO) to support reuse and interoperability across the large numbers of different types of simulations developed and maintained by that organization.  DMSO is responsible for overseeing the HLA compliancy effort.For an organization to become HLA compliant, going through a 4-step process is required.  This paper will outline the 4 steps involved with achieving HLA compliancy, and the lessons learned as a result.  The steps are: Application for test, Submit a Federate Conformance Notebook, Test our Environment, Interface Test (IF) and Reporting.1.  INTRODUCTIONIn June 1998, the VSF team began our pursuit for High Level Architecture (HLA) Compliancy.  HLA is a communications architecture used in the simulation community.  The agreed upon messages that all simulators use are listed in a document called a Federation Object Model (FOM).  A simulation in the HLA world, is known as a Federate.  A collection of Federates make up a Federation. The Federate that we want to test is known as a Federate Under Test (FUT).  The most popular modeling standard is the Realtime Platform Reference FOM (RPRFOM). The FOM is an identification of the essential classes of objects, object attributes, and object interactions that are supported by a High Level Architecture Federation. In addition, optional classes of additional information may also be specified to achieve a more complete description of the Federation structure and/or behavior [4].  A Simulation Object Model (SOM) is a subset of a FOM.The first step in the VSF’s HLA migration plan was to use the DIS/ HLA Gateway provided by US Army STRICOM and developed by the Institute for Simulation and Training.  STRICOM’s DIS/ HLA Gateway provides a path for legacy systems to interoperate with HLA Federations using the RPRFOM.   The Gateway is a stand-alone interface node connecting DIS (2.0.3, 2.0.4, IEEE 1278.1, IEEE 1278.1a) or SIMNET (6.6.1) networks to an HLA RPRFOM Federation execution.  Since the Gateway is a stand-alone interface, no modifications of the existing legacy system were required.  On the protocol side of the Gateway, data packets called Protocol Data Units (PDUs) are formatted, sent, and received according to the protocol.  The Gateway receives the packets and translates them at two levels:  (1) the data in the packets is converted into the data formats defined in the RPR FOM, and (2) the sequence of packets are translated into corresponding RTI service invocations.  The Gateway performs a similar conversion for data received from the HLA Federation execution.  The Gateway must also perform those functions for which there are no DIS or SIMNET analogies.  These functions include creating, destroying, joining, and resigning Federations and publishing and subscribing to RPR FOM classes.The Runtime Infrastructure (RTI) software needs to be invoked anytime any HLA type application is running.  The RTI is a general purpose distributed operating system software which provides the common interface services during the runtime of an High Level Architecture Federation. 2.  OVERVIEWThe physical architecture of the VSF lab consisted of 4 hosts (see Figure 1) in which testing occurred.  Host A and Host B each ran an instance of IST’s Gateway, these were to become known as Federate A and Federate B, respectively.  Host C contained the software in which the Certifying Agent, AB Technologies, Inc. (contracted through DMSO) used to test the VSF’s Federation.  Host D was used to run ModSAF, this application was used to ensure certain interactions (fire, collision, etc.) did occur.The Certifying Agent connected onto VSF’s LAN and basically listened, to Federate A and B, and recorded each HLA message (objects, interactions) put out onto the network.2.1.  Step 1, Application For TestIn Step 1, (see Figure 2), a VSF project engineer filled out an application to be tested for HLA compliancy.  Next, the VSF engineer requested directions for obtaining the HLA Conformance Guide.  This document can be found at  HYPERLINK http://hlatest.msosa.dmso.mil/HLATest_1_?/htdocs/test_lib.html http://hlatest.msosa.dmso.mil/HLATest_1_3/htdocs/test_lib.html.  We started testing under the interface specification (IF) 1.1 (IF 1.1 was retired on 12-31-98, current testing needs to be accomplished using IF 1.3).  This site provides other documents that were of interest when the VSF team initially started this process.  In the remainder of this paper, please refer to Figure 2 and to:  HYPERLINK http://hlatest.msosa.dmso.mil/HLATest_1_?/htdocs/test_lib.html http://hlatest.msosa.dmso.mil/HLATest_1_3/htdocs/test_lib.html for additional information pertaining to the testing process.The VSF contains a Bradley simulator which was chosen to be used as a Federate in the testing process, but the availability of IST’s Gateway (see Introduction) allowed us to leap ahead with our testing schedule. 2.2.  Step 2, Submit a Federate Conformance NotebookIn Step 2, (see Figure 2), of the HLA Federate compliance test process, the VSF submitted a Federate Conformance Notebook which includes the SOM, the Federate Conformance Statement (CS), and (optional) Scenario Data (SD).In order to create a SOM, a tool developed by Aegis Research called Object Modeling Development Tool (and can be downloaded from  HYPERLINK http://hla.dmso.mil/ http://hla.dmso.mil/, look for the “Software Distribution Center” button on the left side) was used.  A SOM (see Introduction) and the CS (simply a text document listing all of the RTI service calls that we claim our SOM can support, marked with either a ‘YES’ or ‘NO’) were submitted.  The SD (contains the elements of the Federate SOM that are to be included in the test scenario) was optional.  A decision by the VSF team was made to not submit this.In addition, the Federation Planning Workbook (FEPW) may be submitted to provide more information though this is not required for completion of the tests.  We did not submit a FEPW.The Federate Certification Agent checks the SOM for conformance to the Object Model template (OMT) (to ensure the SOM is in a valid format, this test is known as a "SOM Conformance Test") and, if successful, checks the SOM against the CS for consistency (known as a "Conformance Cross-Check").  Go to this site:  HYPERLINK http://hlatest.msosa.dmso.mil/HLATest_1_?/htdocs/test_lib.html http://hlatest.msosa.dmso.mil/HLATest_1_3/htdocs/test_lib.html for the format of the data in each of the elements of the Federate Conformance Notebook.We successfully passed the SOM Conformance Test and Conformance Cross-Check and the Certifying Agent sent us back test results.  These results included a Test Sequence based upon our SOM and CS.  This test sequence is a collection of RTI service calls that our Federation is supposed to support and thus will be tested for.  The Certification Agent proposed a date and time for IF testing based on other testing commitments in a schedule maintained by the Certification Agent.2.3.  Step 3, Test Our EnvironmentIn Step 3, (see Figure 2), of the test process, we reviewed the Test SOM and Test Sequence generated by the Certification Agent (see Step 2).  VSF already had RTI 1.0.3 in house ready to use for testing at our site and then we submitted test environment data to the Certification Agent.  The required test environment data is (1) Application Program Interface (API) Used, (2) Federation Execution Host Information, (3) Operating System, and (4) Hardware Information.   Also required are the *.rid and *.fed files associated with the FUT.  A test date and time was agreed upon.The way the test was originally set up is that the Certifying Agent would perform the test from a remote location outside of our LAN.  Problems soon became apparent; the belief is that it is either because of the security features the VSF has in place, or because of the limitations of the RTI or perhaps a combination of both.  For this reason, the Certifying Agents agreed to come on site and test or FUT.2.4.  Step4, Interface Test (IF) and Reporting.In Step 4, (see Figure 2), of the test process, the VSF and the Certifying Agent executed the test.  The IF Test has two parts: the Nominal test, which ensures that the FUT can invoke and respond to all services for which it is capable, per its CS.  The Representative Som (RepSOM) test, which ensures that the FUT is capable of invoking and responding to services using the range of data contained in its SOM.  The Certification Agent logged service data from the test, analyzed the data, generated results, and returned a Certification Summary Report (CSR) to the Federate developer.3.  LESSONS LEARNEDLearning what was required for HLA Compliancy was a continual challenge.  There is always plenty to read relating to HLA; sometimes it seemed almost too much.  The documentation, particularly relating to HLA Compliancy, could have been presented in a more orderly fashion.  Another thing that was learned was how the test was to be conducted.  It was assumed that the testing could be done over the Internet, the thought was that the RTI was robust enough to handle communication between two LANs.  When we couldn’t accomplish the testing this way, we then decided to have the Certifying Agent agreed to come on site and test us locally. The 4 step testing process could have been done much quicker, the reason the VSF had taken so long is that each step had to be relooked at.  This was due largely to the fact of our misunderstanding of what was involved with each step.The effort at learning HLA continues.  Even though we do have our CSR, the VSF still needs to continually work to see if HLA can be utilized into our projects.4.  SUMMARYThe end result is that the VSF did receive our CSR in the mail in June 1999.  Our SOM, which was named ‘vsf.omt’, was uploaded to this web site:  HYPERLINK http://www.omlibrary.epgc4i.com/app/main.cfm http://www.omlibrary.epgc4i.com/app/main.cfm and checked into the library.  Work continues with incorporating the HLA into other areas of our simulations. EMBED Word.Picture.8  Figure 2:  The Test Process5.  REFERENCES. Grinaway, A. Lebioda: “The Integration of Man-in-the-Loop Distributed Simulation with Motion”, Spring 1998 SIW conference.M. Loper ( HYPERLINK mailto:margaret.loper@gtri.gatech.edu margaret.loper@gtri.gatech.edu ), M. Horst (HYPERLINK "mailto:margaret.horst@gtri.gatech.edu"margaret.horst@gtri.gatech.edu ): “HLA Conformance Guide, Version 0.3”, 25 April 1997HYPERLINK "http://hlatest.msosa.dmso.mil/HLATest_1_3/htdocs/test_lib.html"http://hlatest.msosa.dmso.mil/HLATest_1_3/htdocs/test_lib.html HYPERLINK http://hla.dmso.mil/ http://hla.dmso.mil/Author BiographyWAYNE NEVA is a Computer Engineer for TARDEC’s VETRONICS Simulation Facility (VSF).  He is tasked with testing VSF’s HLA Compliancy.  He has an Electrical Engineering degree from Mankato State University in Mankato, MN and a Masters degree in Software Engineering from Oakland University in Rochester, MI.SHARON CHASE is a Computer Engineer at TARDEC’s VETRONICS Simulation Facility (VSF).  She currently develops software for the VSF reconfigurable crewstations.  She holds a Bachelors degree in Computer Science and Engineering from the Milwaukee School of Engineering, and a Masters Degree in Software Engineering from Monmouth College in New Jersey.Host BHost DHost CHost AFigure 1, The VSF’s LAN configuration