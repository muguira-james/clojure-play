SWaPSThe Simulation Warfighting and Parsing SystemA Digital Interface into the U.S Army Force XXI Experiments	Michael Ferranti	Peter Obear	Director of Engineering	Senior Software Engineer	Carmel Applied Technologies, Inc	Carmel Applied Technologies, Inc.The Army Programming Engineering Office (APEO) for Force XXI and the Simulation Modeling and Simulation office initiated a requirement for simulated aviation components to be interfaced with Army Tactical Command and Control Systems (ATCCS) over a Distributed Interactive Simulation (DIS) network for Force XXI.  Two systems are used to complete this linkage, the Simulation Warfighting Parsing System (SWaPS) and the Tactical Simulation Interface Unit (TSIU).The Simulation Warfighting Parsing System is a process where by unique digital messages developed for the Aviation Warfighting Cell (AWC) and other real world tactical messages, such as Improved Data Modem (IDM), TACFIRE, US Message Transfer Format (USMTF), Variable Message Format (VMF) and Joint Variable Message Format (JVMF) messages are converted into real-world command and control systems formats, and then transmitted onto a DIS network.  The Aviation Warfighting Cell (AWC) digital messages, for the RAH66-Comanche and AH64D-Apache simulators were based upon the AH64D-Apache Improved Data Modem (IDM) Version 2.62, and specifically formatted to be Distributed Interactive Simulation (DIS) compliant.  The Anti-Armor Advanced Technology Demonstration (A2ATD) originally utilized these messages.  AWC compliant systems consist of the Comanche Player Station (CPS), the Longbow Player Station (LPS), the Aviation Warfighting Cell Command and Control (AWC-C2) system, and Cell Manager - Interactive Tactical Environment Management System (ITEMS().  Additionally, the Boeing Advanced Tactical Combat Model (ATCOM) has incorporated a subset of these messages, for both Comanche and Longbow simulations, the Comanche Portable Cockpit, and the recently the fielded Longbow Crew Trainer (LCT) has incorporated the same message formats, with even more messages.The TSIU will provide the linkage necessary to communicate with the ATCCS by adding to its current capability, which already supports a variety of tactical transmissions between a DIS network and various real-life tactical networks.  The SWaPS system provides an opportunity for real-world and virtual simulations with different message formats to communicate digitally in a transparent means.  The TSIU will provide this capability for full live and virtual over interactions the appropriate tactical interface or on the DIS network.BackgroundThe U.S. Army established the 4th Infantry Division (ID) as the Experimental Force (EXFOR) to conduct experiments to further develop the concepts of Force XXI operations and to gain insights into new organizational design and operational and doctrinal concepts for the future force structures.  The TFXXI experiment is intended to evaluate the “seamless” interface between command levels designed to improve the control of maneuver units and the integration of fire support from the host of weapon platforms available to the commander within his battle space.The initial design supported the work initiated during the Aviation Warfighting Cell (AWC) Anti Armor Advanced Technology Demonstration (A2ATD).  The AWC consisted of the RAH-66 Comanche Player Station (CPS), the Longbow Player Station (LPS), the AWC C2 aircraft and a computer Generator Force provided by the Interactive Tactical Environment Management System (ITEMS().  During this experiment it was noted that the RAH-66 messages were not compatible at all with the Longbow IDM 2.62 formats.  .  In these scenarios the RAH-66 Comanche simulator was digitally interfaced with an AH-64D Longbow.  Figure 1 Conceptual architectural layout of an enhanced AWC Cell including ATCOM, the TSIU and SWaPSAviation Digital Messages RequirementsA subset of ATCCS protocols has been identified to be transmitted between a DIS LAN and a ATCCS-LAN.  These ATCCS protocols include the Variable Message Format (VMF), Air Force Application Protocol Development (AFAPD), and United States Message Text Formatting (USMTF) protocols.  The ATCCS systems include Appliqué, the Advanced Field Artillery Tactical Data System (AFATDS), and the Force XXI Battle Command Brigade and Below (FBCB2).  Candidate messages, priorities, source and destination systems have also been compiled and are outlined in the table below.Figure 2 depicts the aviation digital message connectivity between the SWaPS and the TSIU. Figure 2- Aviation Digital Message ConnectivitySOURCEORIGINALDIGITAL MESSAGETRANSLATEDDIGITAL MESSAGEDESTINATIONAWC: SWaPSCPS_STATUS_RPT - 2VMF_POSITION_REPORT - K05.10TSIU: APPLIQUÉAWC: SWaPSLPS_PRESENT_POSITION - 27VMF_POSITION_REPORT - K05.10TSIU: APPLIQUÉAWC: SWaPSLPS_PRESENT_POSITION - 27JVMF_PRESENT_POSITION-K05.01TSIU: FBCB2AWC: SWaPSCPS_STATUS_RPT - 2JVMF_PRESENT_POSITION-K05.01TSIU: FBCB2AWC: SWaPSLPS_FCR_TGTS - 21JVMF_FCR_TARGETS-K04.04TSIU: FBCB2AWC: SWaPSLPS_SHOT_AT_FILE - 24JVMF_SHOT_AT_FILE - K03.02TSIU: FBCB2AWC: SWaPSCPS_FIRE_MISSION - 6VMF_CALL_FOR_FIRE - K02.4TSIU: APPLIQUÉAWC: SWaPSCPS_FIRE_MISSION - 6JVMF_CALL_FOR_FIRE - K02.04TSIU: FBCB2AWC: SWaPSCPS_FREE_TXT - 5VMF_FREE_TXT - K01.50TSIU: APPLIQUÉAWC: SWaPSCPS_FREE_TXT - 5JVMF_FREE_TXT - K01.01TSIU: FBCB2AWC: SWaPSLPS_FREE_TXT - 30JVMF_FREE_TXT - K01.01TSIU: FBCB2TSIU: APPLIQUÉVMF_FREE_TXT - K01.50CPS_FREE_TXT - 5AWC: SWaPSTSIU: APPLIQUÉVMF_FREE_TXT - K01.50LPS_FREE_TXT - 30AWC: SWaPSAWC: SWaPSLPS_FREE_TXT - 30VMF_FREE_TXT - K01.50TSIU: APPLIQUÉTSIU: FBCB2JVMF_FREE_TXT - K01.01LPS_FREE_TXT - 30AWC: SWaPSAWC: SWaPSCPS_STATUS_RPT - 2VMF_SITUATION_RPT - K05.51TSIU: APPLIQUÉAWC: SWaPSCPS_STATUS_RPT - 2JVMF_SITUATION_RPT - K05.14TSIU: FBCB2AWC: SWaPSCPS_SPOT_RPT - 4VMF_SPOT_SALUTE_RPT - K04.52TSIU: APPLIQUÉAWC: SWaPSCPS_SPOT_RPT - 4JVMF_SPOT_SALUTE_RPT-K04.01TSIU: FBCB2AWC: SWaPSCPS_BDA - 3JVMF_SHOT_REPORT - K03.02TSIU: FBCB2AWC: SWaPSCPS_FIRE_MISSION - 6USMTF_CALL_FOR_FIRE -TSIU: AFATDSTSIU: FBCB2INFO_REQ_MSG - K01.03LPS_SHOT_AT_QUERY - 22AWC: SWaPSTSIU: FBCB2INFO_REQ_MSG - K01.03LPS_PRESENT_POSITION_QUERY - 26AWC: SWaPSTable 1- Aviation Digital Message MatrixStatement of the ProblemCurrently there was no means available for the different simulated aircraft to communicate with each other in training exercises.  It was determined that a method must be designated that would allow dissimilar message formats to communicate with each other.  An innovative approach was required that would support all of the message types currently in use including IDM, TACFIRE, USMTF, VMF and JVMF.  Because of the use of simulated aircraft systems, the DIS signal PDU was used to carry the messages.Technical ApproachThe approach taken was to develop a system that would accept specialized DIS messages, determine the transmitter and receivers, parse the message, and format it for transmittal over DIS.  To integrate to the Tactical Internet, it was determined that it would be best to use a COTS software package, the Tactical Simulation Internet Unit.  The SWaPS processes shown in Figure 3 are the three main processes.  The DRDISMAN is the network manager responsible for the network interface and the queuing of incoming transmitter and signal PDUs.  The SWaPSASM is the PDU assembler responsible for the assembly of the digital messages, since some messages could be contained in multiple PDUs.  The SWaPSParser is responsible for the actual passing of the messages and outputting the converted message.	EMBED OrgPlusWOPX.4SWaPS - TSIU ImplementationAll the AWC-TSIU simulated messages will be transmitted via DIS Standard 2.0.4 utilizing the Transmitter/Signal Protocol Data Unit (PDU) formats as specified in "The Protocols For Distributed Interactive Simulation Applications".  Utilizing the Signal PDU allows for transmission of user-defined data elements, but the requirement for an additional header has been determined in order to satisfy specialized requirements of the TSIU.  The SWaPS_TSIU header will be used to define the interface for data between the TSIU and the SWaPS.  Additionally, all exercise interoperability information was defined in a configuration data file.  This ACSII data file must be modified for each exercise.It was determined that by using the DIS Transmitter PDU the transmitting entity could be identified.  The DIS Signal PDU, which is used for the encapsulation of the simulated digital message, identifies the type of message.  By identifying the transmitter, the receiver and the transmitted message, the parser would determine what is the corresponding message type in the new format.  For instance a Longbow LPS-FCR-TGTS would be translated to a JVMF-FCR-TARGETS K04.04.  It is the parser’s responsibility to determine which fields in the two messages are similar and which field required a function to fill the fields with the correct data elements.  EMBED OrgPlusWOPX.4Figure 4 – SWaPS Top Level ProcessingFunction calls were written for specific applications to insure that all data field contained properly formatted data.  Where field data was not available, then it was determined individually how to acquire the necessary data for the fields.  As the parser developed, a series of function calls were developed and maintained in a faster database.  The parsing architecture is depicted in figure 5.EMBED OrgPlusWOPX.4Figure 5The tactical Internet (TI) provides the communication infrastructure to support the Task Force XXI experiment.  The objective of the Force XXI experiment is to determine the effectiveness of digitization as a force multiplier on future battlefields by increasing commander’s situational awareness.  The tactical Internet will provide the infrastructure for the dissemination of big information in a timely manner.  In order for Army Aviation to participate, an interface to the Tactical Internet was required.In order to support an interface to the real world tactical Internet, it was determined that an interface to the Tactical Simulation Interface Unit (TSIU) was required.The TSIU was designed as a DIS simulation tactical Internet interface.  The TSIU extracts DIS messages from the SWaPS for transmittal over the tactical Internet.  It can also create tactical message headers and deliver these messages to FBCB2, APPLIQUE and AFATDS.  It will also receive tactical messages from FBCB2 and will encapsulate the tactical message into a signal PDU for processing by the SWaPS and the CPS and LPS.A demonstration of the capabilities of the TSIU/SWaPS interface was conducted at PEO Aviation with ITEMS, SWaPS, TSIU and FBCB2.  The ITEMS, CGF entities acted as the Longbow and Comanche Player Stations for the purpose of the demonstration and confirmed that the DIS players could communicate with a live FBCB2 over the tactical Internet.  The two aircraft conducted a basic recon and attack mission and tactical messages were transmitted over DIS through the TSIU and reported on the FBCB2.  The demonstration established that simulations could be interfaced with real world communication systems.ConclusionThe SWaPS /TSIU interface demonstration to the FBCB2 was a success and met all of the goals that it set out to satisfy.  The SWaPS parsing system provided that a virtual environment could populate a real world FBCB2 without the knowledge to the users that virtual simulation’s were providing tactical messages.  This interface proves also that dissimilar tactical message formats could be interfaced between virtual simulators and real-world Tactical Internet Commander’s terminals.  By bringing together the capabilities for the TSIU and SWaPS, the opportunities for support of advanced digital communications modeling is provided.   This infrastructure will support the examination of issues of digital communications with Computer Generated Forces (CGF) and the facilities to review system bandwidth requirements for high fidelity simulations of digital communications.  The demonstration confirmed that virtual simulations utilizing the digital connectivity through the TSIU can stimulate actual battlefield tactical systems without the knowledge of the user that all of the Aviation components are man in the loop simulations.  It would be recommended that work on the TSIU/SWaPS continue to develop parsing calls and the necessary functions to convert all available messages.