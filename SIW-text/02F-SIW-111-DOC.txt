Rendering Dynamic Deformation Structures in Military SimulationsCPT Nick Wittwer, Dr. Niki Deliman GoergerTRADOC Analysis Center (TRAC)P.O. Box 8692, Monterey, CA 93943 USA 1.831.-656.-3732,  HYPERLINK "mailto:Nick.Wittwer@trac.nps.navy.mil" Nick.Wittwer@trac.nps.navy.mil,  HYPERLINK "mailto:Niki.Deliman@trac.nps.navy.mil" Niki.Deliman@trac.nps.navy.mil Jeff Weekley, Dr. Don BrutzmanModeling, Virtual Environments and Simulation (MOVES) InstituteCode UW/Br, Naval Postgraduate School Monterey, CA 93943 USA 1.831--.656--.2149,  HYPERLINK "mailto:jdweekley@nps.navy.mil" jdweekley@nps.navy.mil,  HYPERLINK "mailto:brutzman@nps.navy.mil" brutzman@nps.navy.mil Donald H. Nelson, Michael PaceUS Army Engineer Research and Development Center 3909 Halls Ferry RoadVicksburg, MS 39180 USA 601-634-2754, HYPERLINK "Mike.E.Pace@erdc.usace.army.mil"Mike.E.Pace@erdc.usace.army.mil,  HYPERLINK "mailto:brutzman@nps.navy.mil" brutzman@nps.navy.milKeywords:  Military Simulations, Military Operations in Urban Terrain (MOUT), Homeland Defense), Structural Weapons Effects (SWE), Extensible Markup Language (XML), Extensible 3D (X3D)ABSTRACT: A considerable weakness in current military simulations is the inability to accurately model the physics of entity interactions with the environment.  Specific interactions of interest are physics-based munitions effects on complex structures (e.g., buildings) in urban terrain.  Interactions are often calculated offline and the results aggregated to an overall state, which is sometimes associated with a different polygonal representation at various aggregated scores.  Few representations techniques in current use are visually evocative, inherently representational or lightweight enough to for rapid distributiontransport over common information infrastructures.  Dynamic Compatible dynamic interactions between a wide variety of simulation applications and techniques, embedded algorithms, data visualizations and data storage are needed to exploit the full potential of modeling and simulation.    A simulation A common representation for deformable surfaces that accurately models urban environments,  and permits shared distributed computation of entity interactions, and updates the simulation database can contributes to success in future conflicts by facilitating better training and doctrine development. Such a simulation may also serve as a Simulation-Based Acquisition (SBA) tool for modeling Military Operations in Urban Terrain (MOUT) and Homeland Defense Operations. We expect this approach for deformable-surface representations will eventually enable integration of multiple computational approaches for Web-compatible distribution and interactive 3D graphics.1.  IntroductionThere are many simulations that accurately model entity interactions, using a wide variety of techniques. Complex algorithms are employed to simulate virtually every conceivable state. Unfortunately, fFew representations are visually evocative, inherently representational or lightweight enough to transportfor distributed implementation over common information infrastructures. There are even fewer examples in the complex, but desirable urban terrain environment. The diverse technical approaches that do exist are typically incompatible.  Dynamic interaction between a wide variety of simulation applications and techniques, embedded algorithms, data visualizations and data storage are needed to exploit the full potential of modeling and simulation.  This work explores how common physical representations for deformable surfaces might compatibly employ multiple physics approaches in a manner suitable for real-time 3D graphics and Web-based distribution.The U.S. Military’s involvement in urban operations has escalated significantly over the past several years.  Modeling and Simulation (M&S) plays a role in the development and refinement of Army tactics, techniques and procedures.  A considerable weakness in current military simulations is the inability to compatibly and accurately model diverse accurately entity interactions with the environment.  Specific interactions of interest are physics-based munitions effects on complex structures (e.g., buildings) in urban terrain.  This paper describes multiple design considerations, the technical approach used and progress to date.    2.  Background Several major challenges exist in representing Military Operations in Urban Terrain (MOUT) and Homeland Defense Operations in distributed military simulations: accurately representing complex structures, accurately modeling the result (physics-based) of entity interactions with the environment, and rapidly communicating attribute and visual changes to the user and state changes to the simulation database.  Polygonal representations are the current standard practice for visually rendering terrain and other features.  When well done, these models are life-like and compelling, but they often do not carry any additional or, useful information about the physical properties of the terrain or buildings beyond visual information.  A wall textured to look like cinder block visually communicates a great deal about the condition and properties of such a wall, but this visual information could cannot be used to support an algorithm or populate a database.  Polygons and textures are of no use to a model that requires physical properties to calculate the damage that might be inflicted by a direct-fire weapon.  Complex algorithms have been developed to predict virtually any conceivable interaction. However Simulation simulation databases, however, typically do not have all the information needed to calculate physics- based results of entity interactions.   Entity interactions are often artificially modeled and computed externally from the simulation; or information may be is generalized or statistically and/or collected predicted offline to calculate results.  The results of these interactions are typically aggregated to a status or score (e.g., a ppercent of structure damaged).  This score is sometimes used to replace the polygonal image with one in one of several damaged states (i.e., a multi-state object or MSO).  A partially destroyed building is might then be considered said to be “sixty percent destroyed.” However,But this purely numeric representation is often not a this purely numeric representation is often not a tactically or visually usefulgood measure of its entity state. What parts are damaged?  Is the building still useful for some purposes, but not others?  How much more energy must be applied to make it useless and in what area? Few representations are visually evocative, inherently representational, generally interoperable, distributable, or can be dynamically alterable.ed3.  Project GoalsThe Training & Doctrine Command (TRADOC) Analysis Center (TRAC) and the Naval Postgraduate School (NPS)’s Modeling, Virtual Environments and Simulations (MOVES) Institute are togetheris researching an improved methodology to combine visual and material characteristics to describe, represent, and communicate structures in terms of multiple visual models, various construction materials (type and characteristics), interior spaces, void spaces, and exchange formats. The goal in this context is to model physics-based munitions effects on complex structures, and then subsequently represent both explosive deformations and collateral effects in current and emerging networked 3D simulations.  Our focus is Structural Weapons Effects (SWE).  Figure 1 shows an example project architecture for this approach. SHAPE  \* MERGEFORMAT Munitions effects will be based on structural-response algorithms to assess damage to the structure as well as collateral damage. The structure may change or deform based on the calculation (i.e. dent, hole or collapse), change the environment (i.e. rubble about the site), as well as allow the projectile to continue on a modified trajectory, possibly causing more further damage.Another project goal is to be extensible and flexible, being able to support current, future, and legacy simulations and models.  Future simulation systems of interest include OneSAF (One Semi-Automated Force) Objective System (OOS) and COMBAT XXI.  The project’s methodology will be proto-typed in a current simulation called OTB (OneSAF Test-Bed).  An approach that maps to or can encapsulate other models is of great interest as well, such as other structural weapons effects models, dispersion modeling, target and acquisition models, etc. The payoff for this project is the accurate generation of complex terrain for use in modeling military operations. A simulation that accurately models urban environments and entity interactions contributes to success in future conflicts by facilitating better tactics, techniques and procedures (TTPs), better doctrine development, and better weapons analysis for MOUT and Homeland Defense operations.4.  Summary of Technical Approach4.1  AssessmentSince techniques and partial solutions abound in this area of research, an assessment of current and emerging methodologies will first be conducted for each area of the project.  Data formats and exchange formats, such as Extensible Markup Language XML (XMLExtensible Markup Language), Virtual Reality Modeling Language VRML (Virtual Reality Modeling LanguageVRML), Java 3D, and Extensible 3D X3D (Extensible 3DX3D) will be explored to interface structural weapons effects algorithms and communicate changes to simulation terrain databases in military simulations.  Exploration will also include how to best integrate or translate existing and developing high-resolution models and software packages (government owned, public domain and commercial).  Integrating exemplar buildings and DIS networking to drive and examine dynamic deformations in distributed simulations will allow us to comparatively assess these software packages, either in standalone mode or networked via the Web.   Capabilities and limitations of methodologies and models will be assessed with respect to:Dynamic coding requirementsPhysics-based algorithm supportReconfigurable terrain databasesData exchange capabilities Combinable methodologies Computing and Rendering EffectsReal Time vs. Slower than Real Time4.2 Proof of Principle PrototypeThe driving exemplars for this project will be representative concrete, cinder cinder-block and wood buildings in a OneSAF TestBed synthetic natural environment and within a commercial web browser. The driving explosions will include small and medium-caliber munitions (7.62 mm/.50 cal munitions) and explosives (Mark 19/M203 grenade launchers and satchel charges).  Second-order and third-order effects will be considered for multiple impacts. 4.3  Selected ApproachThe Extensible Mark-up Language (XML) will be used to develop an appropriate representation to encapsulate and portably exchange data required for dynamically rendering deformable surfaces in military simulations. XML is a free, open open-standard, web-accessible, and collaborative markup language designed to support such customization of data.  It is also extensible and platform independent.  It will be used to describe the visual attributes (planes that delineate apertures and enclosures) needed to represent structures in simulations.  The visual attributes will also be tagged with the physical attributes needed to calculate interaction results (i.e. brick wall, 4” thick, point of impact 3’ from an aperture) using physics-based algorithms.  The results of interaction calculations will map to multi-state objects and will dynamically change the characteristics of the physical attributes, using Document Object Model (DOM) and Simple Object Access Protocol (SOAP).  This approach is also conducive to mapping to a multitude of present and future models.  4.3.1 Open Standards for Use in Proof of Principle PrototypeAn XML data structure can hold the static and dynamic information that is needed to populate the simulation databases and inputs, as well as serve as a basis for 2D and 3D visualizations, data queries and archiving for playback and analysis.JavaTM technology and XML are a natural match for the creation of applications that exploit the web of information where different classes of clients must interoperate. It allows for the consumption and generation of information that is exchanged between different servers, running on varied system platforms. The open standardization, portability and extensibility of both XML and Java technology make them the ideal choice for the flexibility and wide availability requirements ( HYPERLINK "http://java.sun.com/xml" http://java.sun.com/xml).4.3.2 Exemplar PrototypesMany of these technologies have been prototypes during modeling projects produced by the NPS MOVES Scenario Authoring and Visualization for Advanced Graphical Environments (SAVAGE) project.  Figures 2 and 3 show exemplar XML-based explosion prototypes for real-time distributed building deformations and representations.  4.3.2 Demonstrated API	This interface is demonstrated in the Autonomous Underwater Vehicle (AUV) Data Server (ADS), in use at the Naval Postgraduate School’s Center for AUV Research (http://www.cs.nps.navy.mil/research/auv/). The ADS is a JavaTM – based program that runs on a network. It receives files containing simple data in ASCII format that is generated by and downloaded from AUVs. The data is then checked for validity, stored in XML format and used to generate both United States Message Text Formatting (USMTF) for the Global Command and Control System – Maritime (GCCS-M) and X3D-based 3D scenes that recreate missions as performed by the various AUV platforms. The software is componentized, and packages can be added as new AUVs are developed and new visualization requirements emerge. This approach suits an interoperability prototype for rendering dynamic structures in military simulations, as well.5.  Future ResearchWe anticipate integrating these products into developing COMBAT XXI and/or OneSAF codebases.  Expanded work may include the transformation of terrain data and modeling additional complex structures (e.g. bunkers, tunnels), additional algorithm support (e.g. cratering, shock, sound, or additional munitions), and entity interactions (e.g. vehicle collisions, weather effects, particulate dispersions).  Also  Web3D Consortium endeavors to map Computer-Aided Design (CAD) engineering formats to X3D hold further promise to, this approach  could be used to integrate a vast number of offline structural models into Web-based  military simulations.6. SummaryAn extremely great amount of detail is involved in the computation and distribution of dynamic structure deformations for Web-compatible military simulations. Partial, incomplete and incompatible solutions are commonplace in this field. As we proceed to achieve ambitious goals, we will arbe simultaneously keeping the following “big picture” criteria in mind:Physically correct results, traceability and compatibility computed at various resolutionsResults that are repeatable across simulations and representationsExtensibilityOpen Standards 3D graphics with Web compatibility for broad applicability and re-useOpen source and royalty-free licensing for unconstrained repeatability“Two-track” approach examining both government supported software and open- source solutionsState changes in building structures distributable across the network to participating entitiesAll of these criteria must be satisfied in combination if affordable and scalable system capabilities are to be achieved.7.  AcknowledgementsThis document was preparedwork is based on a TRAC-Monterey research project and is the collaborative research project byeffort of TRAC-Monterey, with, the Naval Postgraduate School’s School (NPS) Modeling Virtual Environment and Simulations (MOVES) Institute,, and the Engineer Research and Development Center (ERDC).  Special thanks goes to Niki Goerger, Michael Pace, and Don Nelson from ERDC and Jeff Weekly from the MOVES Institute.8.  References[1] Pace, Michael E. and Warren R. Bennett: “Preliminary Investigations of the Visualization of Buildings in the OneSAF Environment” Information Technology Laboratory, ERDC/ITL SR-01-01, Sept 2001.[2]  Weekley, Jeffrey D., "Technical Report for AUVFest 2001," Center for AUV Research, Naval Postgraduate School, Monterey, CAExtensible 3D (X3D) Graphics, Web3D Consortium,  HYPERLINK "http://www.web3D.org/x3d.html" http://www.web3D.org/x3d.html [3] Blais, Curtis, Brutzman, Don, Horner, Doug and Nicklaus, Shane, “Web-Based 3D Technology for Scenario Authoring and Visualization:  The SAVAGE Project,” Interservice/Industry Training, Simulation, and Education Conference (I/ITSEC) 2001, Orlando Florida, November 2001.  Available at  HYPERLINK "http://web.nps.navy.mil/~brutzman/Savage/WebBased3dTechnology-Savage-IITSEC2001.pdf" http://web.nps.navy.mil/~brutzman/Savage/WebBased3dTechnology-Savage-IITSEC2001.pdfAuthor BiographiesCPT NICK WITTWER is an Army Officer with over 10 years of commissioned service.  He is currently an operations research analyst at the U.S. Army Training and Doctrine Command (TRADOC) Analysis Center (TRAC) in Monterey, California and pursuing an MS in Operations Research at the Naval Postgraduate School.  His research interests are modeling Military Operations in Urban Terrain (MOUT), specifically dealing with dynamic terrain capabilities, complex structure representation, and environmental interaction.  Dr. Niki Deliman Goerger is a senior researcher at TRAC Monterey whose expertise is in operations research and modeling/simulations. She earned her Ph.D. in Industrial Engineering from Texas A&M University.  Dr. Deliman continues to lead research and development efforts to provide decision makers, war fighters, and materiel developers with improved methods and tools for battlefield assessment, vehicle design/modification/comparison, and engineering support for logistics.Jeff Weekley is a 3D modeler, programmer and multimedia specialist working at the Naval Postgraduate School (NPS).  His expertise includes underwater robot command and control interfaces. Don Brutzman is a computer scientist and retired submarine officer.  He serves as an Associate Professor in the Modeling Virtual Environments & Simulation (MOVES) Institute and Undersea Warfare Center at the Naval Postgraduate School.  His research interests include underwater robotics, real-time 3D computer graphics, artificial intelligence and high-performance networking.  He is a member of the Institute of Electrical and Electronic Engineers (IEEE), the Association for Computing Machinery (ACM) Special Interest Group on Graphics (SIGGRAPH) and the American Association for Artificial Intelligence (AAAI).  Currently he leads the Extensible 3D (X3D) Working Group and directs development of the Virtual Reality Transfer Protocol (vrtp) and  Extensibleand Extensible Modeling and Simulation Framework (XMSF).DR. DON BRUTZMAN is a Navy Officer and currently a computer scientist and Associate Professor working at the Naval Postgraduate School.  His research interests include underwater robotics, real-time 3D computer graphics, artificial intelligence and high-performance networking. As MOVES Technical Director for Networked Virtual Environments and 3D Visual Simulation, he currently directs the construction and integration of internetworked physically based models for large-scale virtual environments through development of X3D and the Virtual Reality Transfer Protocol (vrtp).  HYPERLINK "http://web.nps.navy.mil/~brutzman" http://web.nps.navy.mil/~brutzman Donald H. Nelson is a Research Structural Engineer in the Survivability Engineering Branch of Geotechnical and Structures Laboratory with the U.S. Army Corps of Engineers, Engineering Research and Development Center in Vicksburg, MS.  	Mr. Nelson's most recent work involves the development of structural weapons effects algorithms for modeling and simulations. He has a B.S. in Civil Engineering from Louisiana Tech University and a M.S. in Engineering Mechanics from Mississippi State University.  He is a registered professional engineer in the state of Mississippi and a member of the Society of American Military Engineers. Michael Pace is a civil engineer with the U.S. Army Corps of Engineers, Engineer Research and Development Center (ERDC), Information Technology Laboratory in Vicksburg, MS.  He has many years of experience in the development of computer-aided analysis/design programs related to structural and geotechnical engineering that are used throughout the Corps of Engineers.  He is currently working in the area of rapid building generation for use in military simulations to support operations in urban environments.  He received his BS and MS degrees in civil engineering from Mississippi State University.   http://java.sun.com/xml/ Weekley, Jeffrey D., "Technical Report for AUVFest 2001," Center for AUV Research, Naval Postgraduate School, Monterey, CA http://www.cs.nps.navy.mil/research/auv/.Figure 1. Project Architecture Goal EMBED PBrush  Visualw/Eng PropTranslate to visual resultCompute physics-based effectsMunition-Structure interactionVisual ModelVisual Model w/Structural  Properties Engineering ModelFFigure 3.  	Building Construction Prototypes and Building Construction Example (shown here) from the Savage Authoring Tools directory provide native X3D/VRML support for expedited authoring of building models.  Authors provide dimensions of walls floors & ceilings, image textures, and openings for each wall.  The prototype then combines these inputs into a single structure as appropriate.  We are testing this prototype design by modeling academic buildings at NPS as well as training buildings in the Military Operations in Urban Terrain (MOUT) site at Fort Ord, California.  		 HYPERLINK "http://web.nps.navy.mil/~brutzman/Savage/Tools/Authoring/chapter.html" http://web.nps.navy.mil/~brutzman/Savage/Tools/Authoring/chapter.html 			Building Construction Example 		Building Construction PrototypesThe SAVAGE methodology [3] has produced hundreds of openly available X3D military models online at     HYPERLINK "http://web.nps.navy.mil/~brutzman/Savage" http://web.nps.navy.mil/~brutzman/Savage  Figure 2.	Exploding building prototype suitable for simple kinematics animation of arbitrary geometry components.  Each piece follows a near-sinusoidal trajectory between start to finish postures. Single-timer and multiple-timer versions are provided, along with a high-polygon-count example.   HYPERLINK "http://web.nps.navy.mil/~brutzman/Savage/Tools/Explosions/chapter.html" http://web.nps.navy.mil/~brutzman/Savage/Tools/Explosions/chapter.html EMBED MSPhotoEd.3  