Advanced Networked Traffic Server (ANTS):The Integration of TSIS into theIDEEAS SimulationEnvironmentDr. Dan BelkAMSRD-AMR-SS-AEDirector, USA RDECOMAMSRD-AMR-SS-AE (Belk)5425 Viper Road Room 112Redstone Arsenal, Al 35898256-876-4466dan.belk@us.army.milMr. Jacob RothMr. Mike StinsonThe University of Alabama-HuntsvilleDirector, USA RDECOMAMSRD-AMR-SS-AE (Roth), AMSRD-AMR-SS-AE (Stinson)5425 Viper Road Room 106Redstone Arsenal, Al 35898256-876-4492jacob.roth@amrdec.army.mil, michael.stinson@amrdec.army.milMr. Joe MoranMs. Mindy  NewbauerAMSRD-AMR-SS-AEDirector, USA RDECOMAMSRD-AMR-SS-AE (Moran), AMSRD-AMR-SS-AE (Newbauer)5425 Viper Road, Room 113Redstone Arsenal, Al 35898256-876-4499, 256-876-4465Joe.Moran@us.army.mil, Mindy.Newbauer@us.army.milABSTRACT: The Advanced Network Traffic Server, (ANTS) was developed in the Warfighter Protection Lab to model vehicle traffic on a road network and to support the dispatching of emergency vehicles in a virtual environment. ANTS uses the Traffic Software Integrated System (TSIS) application with a Distributed Interactive Simulation (DIS) component added to provide DIS protocol support.  The TSIS application contains a microscopic traffic simulation whereby each individual vehicle is tracked.ANTS supports dispatching requests from remote applications and simulates the dispatched vehicle and other background vehicles in order to recreate realistic traffic conditions.  The remote application used in this demonstration is Interactive Distributed Engineering Evaluation and Analysis Simulation (IDEEAS). IDEEAS was developed by Aviation and Missile Research Development and Engineering Center (AMRDEC) and is used in WPL as our in house simulation tool.  The integration of ANTS with IDEEAS has provided WPL with a flexible environment to support traffic modeling in our simulation testbed.  1. IntroductionThe Advanced Network Traffic Server, ANTS, simulates vehicles in a realistic road network.  In all emergency vehicle response situations regular traffic congests the roadways and influences the path and speed of the emergency vehicle.  To accurately simulate an emergency scenario, background traffic must be included.   The integration of ANTS and IDEEAS (Interactive Distributed Engineering Evaluation and Analysis Simulation) provides the Warfighter Protection Lab (WPL) with a flexible environment to support traffic modeling in the simulation test bed.ANTS is a modified version of Traffic Software Integrated System (TSIS), an application developed by ITT Industries for research and development use by the Federal Highway Administration.  TSIS is an application that uses a Corridor Simulation (CORSIM) modeling shell to simulate the basic types of road networks including freeways and surface streets.  The WPL modified the source code from this product allowing TSIS to support a larger road network and complete high level path calculations used to control emergency vehicles traveling from one location to another.   IDEEAS is a high-fidelity object oriented simulation environment with added capabilities for system configuration and scenario development.  It provides constructive analysis at the fastest possible speed and real-time capability with a user controlled visual interface for distributed interactive simulation or standalone experiments. Together ANTS and IDEEAS will produce a simulation of vehicles responding to an emergency with unprecedented accuracy.  This can be very useful in many situations. Some examples of situations where ANTS would be useful include an emergency during rush hour of a large city, an emergency inducing a mass exodus from one particular location or an emergency at a remote location with a high traffic volume. Because ANTS models background traffic and produces an accurate simulation, it can provide helpful information such as how long it will take help to arrive on the scene, the quickest route for an emergency response vehicle, and what traffic effects might occur after/because of the emergency.    When properly simulated, valuable information can be obtained about how to plan for and react to certain situations.  ANTS is a valuable simulation tool because it accurately represents emergency response through a traffic network.  Before ANTS was integrated with IDEEAS, an emergency vehicle could be dispatched and would be simulated until it arrived on location, but background traffic was not present. With ANTS a more realistic timeline for emergency vehicle response is available.  2. ConceptualizationBeginning in May 2004, ANTS was defined by two guidelines.  First it was expected to accurately model traffic on Redstone Arsenal in Huntsville, Alabama and secondly it was to be able to communicate with one of the simulation application in the Warfighter Protection Lab’s simulation testbed.  The TSIS software employed by the Federal Highway Administration proved to be an adequate base application for use by the WPL.  The source code was easily obtainable and WPL began to modify it to meet the objectives of ANTS.Once it was determined what application was best fit for use, the next step became surveying the traffic on Redstone Arsenal.  MrSID Geoviewer software was utilized in an effort to hand count the automobiles parked in major lots on Redstone Arsenal.  This information provided us with a relative assumption of where the major traffic was going to and coming from through the course of a day on Redstone Arsenal.         Another helpful tool in pinpointing traffic behavior on the roads came from a traffic study recently conducted in which the automobiles entering and exiting Redstone Arsenal were counted over half-hour intervals and separated according to the gate they passed through.  This data enabled an accurate estimate of the volume of traffic flow into and out of the network over the course of a day. After having an adequate understanding of the traffic properties across the arsenal, the next step was to create a road layout for the simulation.  TSIS uses TRAFED to model road networks. TRAFED is the TSIS graphical input editor used to create and edit CORSIM traffic networks. It uses a series of nodes connected by links to define road length and curvature.  Once the road layout was completed, number of lanes, speed limits and traffic signals were all input constructing a realistic Redstone Arsenal traffic simulation.  Figure 2.1   TSIS model of the Redstone Arsenal                       nodes in road network3. ArchitectureTSIS has many attributes that make it an advantageous application to use in conjunction with ANTS.  TSIS uses a Corridor Simulation (CORSIM) application to micromanage vehicles.  This includes such attributes as lane change frequency, driver aggressiveness, decision making, and size and type of automobile.  All of these things play a part in the overall representation of traffic and must be implemented in order to accurately portray the background traffic.  TSIS has an available Run-Time Extension interface (RTE) that is advantageous for creating a DIS connection between TSIS and one of WPL’s simulations.  This interface allows access to many data structures and function calls that TSIS uses, allowing extensions to be programmed into the source code forming a bridge between TSIS and DIS applications.The operator running IDEEAS will select a vehicle to dispatch and executes the dispatch command. ANTS produces a vehicle under constraints set by IDEEAS.  It then transfers ownership of the vehicle to IDEEAS where its progress is updated every second.Figure 2.2   TSIS model of the Redstone Arsenal                       road networkThe integration of TSIS and IDEEAS through ANTS delivers greater simulation value and better viewing ability by the user.  IDEEAS standalone can not control the amount of vehicle traffic necessary to conduct an accurate simulation while TSIS can not render the graphic quality and mechanics to produce an effective model.           Figure 3.1 Connectivity diagramFigure 3.2 TSIS simulation view illustrating beneficial                     ability to control large numbers of cars     4. ANTS SimplicityANTS is the link between TSIS and IDEEAS that makes it possible to view a simulation in IDEEAS involving emergency response vehicles and their interaction with other vehicles on the road.  ANTS is used on call to dispatch vehicles from one location to another.  Locations can be measured many different ways and are frequently given in different systems including UTM coordinates, state-plane coordinates, latitude and longitude, or geocentric coordinates.  ANTS implemented a tool that allows the user to input coordinate values from numerous systems and convert them with the click of a button to the TRAFED system TSIS uses.  This tool creates a user-friendly, compatible environment between ANTS and numerous software simulations.ANTS is a simple application that produces detailed results in the simulation environment.  Its base program, TSIS, makes creating a road network as simple as pointing and clicking. Traffic signs, speed limits and lane numbers are similarly easy to program.  It offers micromanagement of vehicles and turn percentages from every link.    It allows the programming of both timed and actuated controlled traffic lights and includes all the variables needed to provide an accurate representation of background traffic in any city.  Figure 3.3 IDEEAS simulation view illustrating better                        graphic enhancement5. DIS Functioning of ANTSANTS accomplishes two primary goals.  One is to provide background traffic across a road network and the other is to dispatch a vehicle from one location to another.  To do both of these things ANTS must go beyond its simple CORSIM base and convert data into recognizable PDU’s to transfer data to a machine running a DIS enabled simulation for which ANTS must either produce background traffic, dispatch a vehicle, or both.There are four PDU types that ANTS must be able process in order to interact with any DIS application.  They are the Entity State PDU, Action Request PDU, Action Response PDU, and the Set Data PDU.    The Entity State PDU defines an entity’s, location and heading.  ANTS must initiate and update Entity State PDU’s for every background traffic vehicle involved in the simulation.The Action Request and Action Response PDU’s are used in combination to send and acknowledge the dispatch request from the DIS application to ANTS.  When a vehicle is needed, the DIS simulation sends an Action Request PDU to ANTS which in turn sends an Action Response PDU back to the application to convey the message that the dispatch request was received.  Once the Action Request and Action Response PDU’s are sent, ANTS begins its calculations and sends out the Set Data PDU. EMBED PowerPoint.Show.8  Figure 5.1 Chart of PDU traffic between Traffic                   Server and DIS simulation application        The Set Data PDU is sent out by ANTS after it receives the order to dispatch a vehicle.  ANTS receives the starting and ending location of a vehicle from a PDU sent by the DIS simulation application and proceeds to calculate the closest nodes in the network to the location values.  Once it determines these nodes, ANTS goes through sets of algorithms in an effort to decide the shortest path between these nodes.  ANTS then dispatches the vehicle and publishes Set Data PDU’s with its location and heading.  It continues to update these Set Data PDU’s every second, keeping the vehicle on the predetermined path.  The Set Data PDU allows ANTS to pass ownership of the vehicle back to the DIS simulation application once it is dispatched.  After ANTS sends out the Set Data PDU, the DIS application will send out an Entity State PDU for the vehicle.  In return, IDEEAS will broadcast an Entity State PDU, with the updated vehicle status . 6. Capabilities of ANTSANTS can model background traffic for even the most complex scenarios.  ANTS is capable of producing thousands of vehicles each with independent driving behavior as well as various vehicle types.  Currently ANTS supports three different vehicle models of private cars. However others vehicle models could be added if necessary.   To model a situation as accurately as possible requires background traffic acting in a typical pattern.  Once a pattern is known, the background traffic can be set to model any situation.  ANTS allows the user to control background traffic through two different methods.  The first technique involves manually creating a set path for vehicles to follow.  ANTS allows users to create as many different paths as needed and specify any number of vehicles to follow each individual path.  This is the more advanced method and offers a more precise simulation.  The second choice involves entering appropriate percentage values for movements at intersections.  ANTS lets the user enter turn percentages for every intersection in the network.  This is not as advanced in design as the path following method, but still helpful in creating faithful simulation.  Manually setting paths is a tedious effort, but produces better than average precision.  It can be used in such scenarios where large numbers of vehicles are leaving one location and moving to another area.  Examples of such would be at the end of the work day when large numbers of cars leave the same parking lot and travel along the same path to exit the facility.  The Redstone Arsenal example depicts vehicles coming from the gates to the major workplaces on the arsenal such as Marshall Space Flight Center and the Sparkman Center.  Inputting turn percentages is a less-advanced approach to controlling background traffic.  It is used as a simple means of keeping traffic in the general areas of high concentration.  By placing turn percentages on intersections it is possible to keep traffic on the most populated roads and control the number of cars driving on roads with relatively low traffic density.  This might be better suited for a simulation in a road network consisting of three or four main roads connecting residential neighborhoods.Either method provides some structure to background traffic further enhancing the value of the simulation.ANTS is capable of sending a single vehicle from one location to another.  This is used in the deployment of an emergency vehicle to the scene of an accident.  All that is needed for ANTS to accomplish this is a starting and ending location in TRAFED units.  Once these values are given, ANTS calculates where the nearest node is and starts the vehicle there.  It proceeds to calculate the shortest path between the two locations and sends the vehicle along that path automatically.  The emergency vehicles are modeled separately and include ambulances, fire trucks and police cars.  All three have very aggressive driving characteristics and perform like they would in a real emergency situation.The use of relative traffic in emergency situations provides a more accurate depiction of what would happen in a real situation.  Not all cars stop or move for an ambulance, fire truck or police car; some drivers are oblivious to their surroundings or panic in times of uncertainty and many times background traffic greatly hinders emergency response efforts.  By modeling this in situational simulations, it is possible to know what to expect before it happens.  By simulating in a more realistic environment, it is possible to find a better route for an emergency vehicle, recognize potential problem areas near the scene, theorize where added security would be helpful in directing traffic or controlling a situation and get an accurate representation of the actual time it would take to respond to an emergency if it were to happen.7. ANTS Situational AnalysisANTS is a very useful tool in many respects and can provide helpful information in any number of situations.  ANTS provides strong support for DIS simulation in almost any instance including the following.In an evacuation scenario, when an explosive device or chemical agent is detonated and people are running to their vehicles and driving as far away as quickly as possible, ANTS can detail which way to direct traffic, where the major backup might occur, how to get an emergency vehicle on the scene, and how long it will take to get the at-risk population a safe distance away.In an emergency situation where an ambulance must reach an individual experiencing medical complication in the middle of a traffic jam on a highway or interstate ANTS can help predict the best route to the scene and how long it will take to reach the victim.In any regular emergency situation in which a vehicle must be dispatched to a certain location, ANTS helps get accurate information on how long it will take that vehicle to get there based on movement and compliance of background traffic.ANTS models traffic environments for use in DIS application in an effort to improve simulation data quality and give more credibility to the effective use of simulation.    8. ConclusionsIn the age of technology and simulation, ANTS is a valuable commodity for evaluating emergency response.  It fills a previous void in providing background traffic for DIS simulation models.  Simulation is used to model real situations before they happen or while they are happening to get a better understanding of what might occur.  The more representative of reality the simulation is, the more accurate data we receive, allowing us to more effectively plan for the situation.  ANTS gets one step closer to reality and further enhances the value of the entire simulation.   Author BiographiesDAN BELK is the Warfighter Protection Lab Manager of the Aviation Missile Research, Development, and Engineering Center (AMRDEC).  He is a graduate of the Army Acquisition Executive’s Competitive Development Group, a recipient of the ASA (FM) Competitive Professional Development program, a member of the Army Acquisition Corps.  He is certified in Program Management; Business and Cost Estimating; and System Planning, Research, Development and Engineering.  He is a graduate of the Army Management Staff College Sustaining Base Leadership Management Course and the Defense Resources Management Institute.  He holds a Ph.D. in Operations Research and an MS in System Management from the Florida Institute of Technology, and a BS in Mathematics from New Mexico Tech.  He has held positions within the Army Training and Doctrine Command, PEO Tactical Missiles, PM Theater High Altitude Air Defense, and now RDECOM AMRDEC.JAKE ROTH is a research technician for the Systems Management and Production Center at the University of Alabama in Huntsville.MIKE STINSON is a research associate at the University of Alabama in Huntsville.  He is the principle developer of the WPL Advanced Network Traffic Server.MINDY NEWBAUER started working for AMRDEC as a coop in May 2001 while working on a Bachelor’s degree in Electrical Engineering.  She graduated from University of Alabama in Huntsville (2002).  Currently, she is working on a Master’s Degree at UAH in Industrial Engineering with focus on Modeling and Simulation.Figure 6.1 ANTS 