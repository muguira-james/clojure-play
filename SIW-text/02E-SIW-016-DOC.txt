Using an HLA Maritime Combat System Simulation Environment to Investigate Force and Coalition Interoperability Sally WhiteQinetiQPortsdown Technology ParkPortsmouthHampshire UK+44 (0) 23 92 312748 HYPERLINK mailto:sawhite@qinetiq.com sawhite@qinetiq.comKeywords: C4I systems, combat system, integration, interoperability, RTI 1.3NG, federation management, scenario distribution, time synchronisationABSTRACT:  The Combat System Integration (CSI) research programme is funded by the UK Ministry of Defence and is tasked with investigating interoperability issues associated with future maritime combat systems.  Practical work is undertaken on a test bed, which provides a representative future force combat system environment.The TestBed (NOTE:  since this is how it is referred to later) comprises a significant number of legacy simulations integrated using the US High Level Architecture (HLA) standard.  This test bed has been in development for two years and is now being actively used to explore interoperability between the above and below water battlespace in the maritime environment.  Current work is focused on the data exchange between the above and below water units including issues such as: what data it is useful to exchange, and the periodicity of intermittent data exchange that can be tolerated by a platform’s picture compilation function.  The TestBed achieved a major milestone in November 2001 when the benefits of practical real time experimentation, as opposed to studies, into picture aspects were demonstrated. Experimentation requires a consistent level of detail where difficult or unclear aspects cannot be ‘glossed over’.  Also the impact and in some cases pitfalls of bringing in data from another environment which does not readily ‘fuse’ with data already available within the platform, become all too evident when viewed in real time on an operator display.  Successful integration and interoperability of future platforms will be achieved by the specification of improved user requirements and several new user requirements statements have been proposed. 1. Introduction 1.1. OverviewThis paper discusses the results and observations from the CSI TestBed milestone in November 2001, which involved a demonstration of Air/Ship/Submarine interoperability in a simulated combat system environment.  Key aspects of the work are improved situation awareness and timely exchange of information plus real-time re-scheduling of resources aspects.  The emphasis is on the data exchanged between the three domains and the resulting impact on their tactical picture.  The paper provides:An overview of the CSI TestBed, specifically the development of an HLA federation, which provides the simulation/ stimulation environment.A discussion of the results.Lessons learned from the experiments.An insight into proposed future work.An additional activity, which is being undertaken as this paper is being written, is a link with the Australian virtual ship programme in support of international research collaboration.  Some of the challenges presented by this work programme are discussed in this paper.1.2. Programme OverviewThe Combat System Integration (CSI) programme is a United Kingdom (UK) Ministry of Defence (MoD) research programme.  CSI focuses on the distributed pan-platform maritime Combat System, in line with the Network Centric Warfare and Global Information Grid concepts for supporting the future operations in which the Royal Navy will participate.  The CSI programme is concerned with the de-risking of future (distributed) combat systems through the early integration and testing of combat system elements, their integration with legacy systems, and the integration of COTS elements and technology.  The scope includes surface and subsurface platforms and maritime air.  The driver for this de-risking is the need for effective information management, assurance and exploitation across the above and under water battlespace, and with our Allies.The CSI TestBed comprises a conceptual combat system highway with representative combat system applications, interfaced using the Common Object Request Broker Architecture (CORBA) standard and a simulation environment developed as a High Level Architecture (HLA) federation.  In this context the combat system includes command and control, weapons, sensors, navigation processes, aircraft and HELOs (while under the control of the combat system) and the communications to support the exchange of tactical information (control and data).  The CSI TestBed is currently focused on the operation of surface, subsurface and maritime air platforms within a force or joint force environment.  It is capable of simultaneously representing one or more platforms within a force. EMBED PowerPoint.Show.8  Figure 1 - Overall CSI TestBed Architecture1.3 CSI TestBed OverviewThe overall architecture of the CSI TestBed is shown in Figure 1.  The TestBed can be adapted according to the experimental needs and two different configurations are presented later in this paper.For people who have read previous papers describing this programme, the difference now is that the project has stopped building and started using the TestBed “in anger”.  Hence this diagram does not show the usual ‘wish list’ of future systems planned to be incorporated into the TestBed.  Figure 1 shows the command, control, communications, computers and information (C4I) application environment with some of the applications under test and the supporting HLA federation.  HLA was chosen for the CSI TestBed since it provides more flexibility than the Distributed Interactive Simulation (DIS), specifically in the modelling of perceived data in addition to ground truth information.  HLA also supports the requirement to incorporate simulations designed to run in real time with those which normally operate with no time constraint i.e. using as much time as is required.  The HLA federation developed for the CSI TestBed provides the infrastructure to incorporate both HLA and DIS federates.  Various support and management tools are also included.  The C4I applications communicate using CORBA and the HLA federation is linked to the C4I environment by a CORBA to HLA interface function.  The aim of this approach is to minimise change on individual federates caused by the possibility of implementing different network standards instead of CORBA. Point to point connections between individual federates and real applications can be included where necessary, as shown between the Unmanned Air Vehicle (UAV) command & control (C2) application and its simulation environment.  Also the newly integrated sonar data generator has an internal link with its track processing function.The C4I applications currently incorporated in the CSI TestBed are:Automated data fusion and picture compilation for both single platform and force wide usage.Softkill weapon system command and control.Hardkill weapon system command and control.Weapon system co-ordination.Sonar processing.Data Logger (custom built).The UAV C2 system and associated simulation system could not be successfully linked for the demonstration described here.  The interactive planning tool was not directly interfaced to the TestBed for the demonstration and any picture data it required was input by the operator. In the future it is hoped to include an automated tactical picture input.  The HLA federation incorporates the following federates:scenario manager and general-purpose simulator, which is also responsible for scenario distribution;radar simulation, which provides track and plot output from a multi function radar simulation that has been adapted from a non-real time operational analysis model;electronic warfare (EW) modelling framework which provides electronic counter measures (ECM), electronic support measures (ESM) and EW C2 simulations;anti air warfare (AAW) missile simulation of a hardkill missile flyout;infra red search and track simulation;sonar data generator;DIS-HLA gateway;CORBA to HLA interface which converts HLA output to CORBA and CORBA C2 commands to HLA;data loggers for the HLA and DIS environments;federation synchroniser;visualisation in the form of a commercial 3D viewer;co-ordinate converter;track converter;federation object model (FOM) converter.The CSI TestBed also incorporates links to external TestBeds via encryption devices currently operating under the DIS protocols.  These are to:a UK Industry site. a QinetiQ aircraft (Merlin) simulation.Each link is operated via a separate and different encryption device according to the link owner.  2. Interoperability experimentsDuring the lifetime of the CSI programme, the focus of the work has moved from intra platform issues of functional partitioning, data management and use of commercial products, towards investigations into multi platform, national and coalition, interoperability.  Similarly the technology aspects i.e. use of commercial products and standards HLA, CORBA, and a wide area link are no longer of interest to the customer.  He now wishes to see the research using the TestBed to address the capability issues that face future platforms.The work conducted towards the end of 2001 culminated in the first of several customer milestones.  It addressed the interoperability between air, surface and subsurface platforms in an operational context and covered:information exchange to support improved situation awareness between the above and underwater battlespace; collaborative real-time scheduling of resources.The scenario was centred on the activities and sensors deployed on a surface platform, an air platform (HELO), subsurface platform and UAV.  The scenario includes potential threats in the air, surface and subsurface domains against which the resources of the above units are deployed with the aim of search, detect, and if possible classify.  A group of small surface craft with the characteristics of fast inshore attack craft (FIAC) was included to demonstrate the benefits of information exchange between the three domains and to demonstrate the activities of the collaborative resource scheduling tool.The work was conducted by a mix of study and experimentation.  The two specific aspects that cannot be satisfactorily addressed by study and greatly benefit from practical experimentation and demonstration are:improvements in the tactical picture on the three air, surface and subsurface platforms, by the transfer of information from the other domains;improvements offered by a collaborative real-time resource scheduling tool to the members of the command teams responsible for AAW, ASuW and ASW when real time re-deployment of units is required.The basic configuration of the demonstration system is shown in Figure 2 along with digital data connections.  There were voice links between all the different participants, i.e. operators associated with the submarine, surface platform, UAV tactical command system (TCS), and an air platform.  The basic infrastructure for the demonstration included:scenario manager,DIS-HLA gateway,DIS-HLA co-ordinate and track converters,Data logging devices on the HLA (HLAresults), DIS (custom supplied) and CORBA (custom built) networks,federation synchroniser,3D viewer.The surface platform was represented by the following elements of the CSI TestBed:simulated EW sensors to contribute to general picture and identification of units;simulated multi-function radar (MFR) simulator;simulated infra-red search & track (IRST) to contribute to general picture identification;data fusion/ picture compilation;force data fusion for processing of data link information;general modelling simulation of tactical data links, identification friend or foe (IFF), overall radar surveillance picture. EMBED PowerPoint.Show.8  Figure 2 – Interoperability Demonstration ConfigurationThe air platform was represented by the joint maritime simulation facility at QinetiQ Farnborough with the following elements:radar model;IRST model;Integrated air tracking package (IATP) track generator that takes data from the radar and IRST model and combines it to form a track passed to the CSI TestBed and input to the surface platform as data link tracks;air platform picture compilation function.The UAV platform position was provided by the scenario manager with:simulated radar provided by the general modelling capability;simulated ESM by the EW simulator.The submarine platform with sonar was modelled by the scenario manager. The demonstration made use of the link to QinetiQ Farnborough to provide a simulation of the air platform and its sensors.  Two planning servers with clients were located in the CSI TestBed for the anti-surface warfare (ASuW) and anti-submarine warfare (ASW) operators.  These systems communicate via a low bandwidth private link over the custom built tactical internet protocol (IP) net.  The planning tool was not linked to the TestBed for the initial demonstration although future enhancements will include an interface with the CORBA C4I network for provision of tactical picture information.The results of the practical investigation into the provision of additional data to a platform’s tactical picture highlighted some interesting points.  With hindsight some of the results could be regarded as obvious, but the impact of seeing a ship’s real time tactical picture flooded with UAV ESM or submarine sonar bearing lines should not be underestimated.The experimental programme considered the two extremes of no data exchange between the air, surface and subsurface platforms and full data exchange.  The track and vehicle level pictures on the surface platform were also compared, specifically to address the issue of incorporating information from off board sensors on the UAV.The addition of the surface picture to the submarine enabled ambiguities in the submarine passive picture to be resolved against the radar surface contacts.  However on the negative side, the force level pictures specifically in the submarine and HELO were not able to be resolved to the same level as the surface platform’s picture due to a lower refresh rate of data link information against that of own ship sensors. This resulted in a very ‘busy’ picture, specifically:the addition of ambiguous bearings from the submarine to the HELO and surface ship pictures did not improve their clarity;the addition of ESM data to the submarine and HELO pictures similarly did nothing to aid their clarity.The sharing of information across the three domains enabled the initial FIAC detection by the submarine to be used by the warfare commanders on the surface platforms to deploy the HELO.  The subsequent identification of the FIAC group and their split was detected by the HELO sensors and passed to the surface platform before its sensors were in range.  Each of the three domain pictures was able to consistently present the FIAC and other threats to their operators.When data from a new sensor type or from a new off board source, was received, a modification was required to the data fusion process.  The addition of an ESM sensor to the UAV initially served to confuse the picture by doubling the number of ESM detections on the ship picture, until functionality was included to fuse the ESM data from the on board and off board sensors.  This highlighted the main observation from the experimental work, that despite the fact that the data fusion process provides a more capable automated fusion process than currently exists in the fleet, even it required modification to process each new type of data presented.  This must be a key consideration when considering passing additional data across the different platform domains i.e. it should only be considered in conjunction with the necessary automated processing support.  If this cannot be provided then serious consideration must be given to not passing the additional data due to the impact on the tactical picture and the operator tasks.  In practical terms, as seen in today’s Navy, if the operator’s picture is confused, say by the addition of the data link picture, then he will simply filter out the extra data.The work determined three user requirements to be applied to future platform’s combat systems:The platform’s command and control functionality shall be capable of receiving and maintaining information concerning the status, emergency procedures, operating restrictions and capabilities of all other air, surface and subsurface units within the force including UAVs (and UUVs).  The capabilities of sensors fitted to the platform should be used to verify the position of units within the force.All manoeuvres and operations conducted by the platform should take into account the position, status, operating restrictions and capabilities of all other air, surface and subsurface units in the force, including UAVs (and UUVs), and should not endanger or adversely restrict the operational effectiveness of that platform.Automated picture compilation functionality shall be provided to enable data received from platforms in the surface, subsurface and air domains to be fused with that provided by own ship sensors.3. ObservationsThe CSI TestBed has enjoyed a number of ‘successes’ in its lifetime but, being a research tool, failures can be viewed as a successful experiment.  It successfully demonstrated its ability to support interoperability investigations in terms of force picture issues as described in this paper.  This work graphically highlighted some of the problems to be faced in future force operations.  It also appeared to dampen some of the criticisms attached to the use of modelling and simulation to address data exchange issues.  At long last the high fidelity OA radar model was successfully integrated and provides, albeit a limited number of, MFR tracks in real time.  Equally, much to the relief of the team the upgrade to NG is in hand, with the past problems associated with CORBA clashes and Allegro Common Lisp conflicts hopefully being solved.As the number of federates and applications in the TestBed grew so did the time and effort involved in actually starting up all the systems.  The prime reason for this was that all of the systems had originally been designed and used as stand alone systems with operators to stand and input all the necessary start up commands.  This became a nightmare with 11 different HLA federates, local and remote DIS systems and 5 systems connected to the CORBA net. A number of script files have gradually been developed designed to automatically start individual systems and bring the federation through its synchronisation points.The wide area network link using DIS also generated a number of observations.  After some initial teething problems, the wide area link, which was ‘piggy backed’ on the classified site wide ATM cloud proved fairly reliable.  Nevertheless on a seemingly regular basis, the HELO end failed to receive the Start PDU from the scenario manager.  It was not always clear whether the network had dropped the message, or the receiving systems were simply not ready, but the result was a shut down and re-start all of the systems.  Communications were a difficult area, with the telephone proving the best way in the end to determine whether the same point had been achieved at both ends at various points in the scenario.  A sophisticated router was included at the CSI end of the link, which turned the broadcast messages into the required point to point communications.  This failed when the Farnborough team changed their machines, until the new addresses had been provided to the router.  Very obvious after the event, another example of failed communications.  The purpose of the link was not only to enable us to make use of an off site man in the loop HELO simulator but also to experiment with wide area integration which is a key area of interest to both current and future UK naval developments.  The conclusions were that once the initial problems had been solved and perseverance exercised with the encryption devices and security procedures, there did not seem to be any real technical issues.  However, the requirement to use the link has to be very clear and supported by sufficient funding and personnel at both ends.  Trying to use it across two independently funded research programmes with different but equally pressing objectives is not recommended.  A classic example of both interoperability success and failure, driven by the projects’ shared objectives or not.The architecture of the system, governed by the number of legacy components and the amount of functionality provided (and embedded) in the scenario manager, made it difficult to undertake integration tests without the presence of all or most federates.  The ideal solution would be to break the scenario manager down into individual systems, which would facilitate modification of the configuration files and permit parts of the system to be exercised.  However, being a research organisation, the funding to undertaken ‘cosmetic’ changes is not available, one of the reasons why legacy systems have often become so big in the past.All software engineers know the importance of data loggers.  Loggers were provided at both ends of the DIS network and these log files were frequently used to confirm whether a message had been sent or received.  Data loggers were also linked to both the HLA and CORBA networks and these log files used to undertake the first level of validation testing.  The one area of data exchange that could not be logged was the private links between systems, most notably the tactical data link exchange between the scenario manager and the picture compilation function.  This proved to be a key area during integration and for future experiments the use of internal recording will be addressed.The integration with a DIS system via a DIS-HLA gateway has been achieved successfully.  One problem noted with the DIS message set was the use of the ‘free format’ Set Data PDU.  The strength of DIS is its formatted messages, but this is also its weakness since if data cannot be passed in one of the standard messages then the ‘free format’ messages are used, and these are used differently by all users, as experienced with the 3D viewer.  In addition, the CSI engineers found the fixed message formats cumbersome.  The main issue was with the DIS implementation of pure real time, which prevents starting and stopping.  The use of broadcast messages and inability to recognise time constraint also inhibited repeatability. The TestBed failed to fully exploit the potential of the 3D visualisation tool.  Since the scenario manager has a 2D viewer, known and loved by the team, it was difficult to put the effort and enthusiasm into getting the 3D viewer operational.  The cost of the models also proved to be a bit of a deterrent to its full use in the demonstration.  The 3D viewer was connected to the DIS network and problems were encountered with use of the ‘free format’ Set Data PDU since not only was it not recognised by the viewer, but it also caused the viewer to fail.  Once this was sorted, the viewer functioned satisfactory, and its most useful function was to display the position of the HELO man in the loop simulator.  This was particularly useful since this system was located on a separate site connected over a wide area network (WAN).  The viewer was use to check that the HELO platform was actually where the scenario had asked it to be, and not where the ‘pilot’ for the day had moved it.  The viewer also highlighted a C++ problem, which affected the attitude of the ship platforms.One of the last minute failures, resulted in a success.  The plan had been to present an overview of the work and the results of the study and then move the customer audience to the lab to watch a live run of the demonstration.  To avoid the inevitable problems with the wide area link, which hardly ever occurred but could be guaranteed when customers are watching, a replay was taken of each of the three pictures (ship, submarine and HELO).  However the evening before, the three systems refused to guarantee to start, two out of three would come up but never all three, so at the last minute it was decided to take snapshots of the pictures and display them simultaneously in the three screen presentation room.  This was a much better way of presenting the results, particularly since in excess of 40 customer representatives attended the presentation.  Using snapshots the presenter was able to focus on the specific points of interest.4 Future Work 4.1 Interoperability Experiments The next step is to undertake some quantitative measurement of the improvements to the different pictures using the US Single Integration Air Picture (SIAP) metrics.The follow on work will also consider the implementation of algorithms concerned with data filtering and the impact of intermittent data input to the ASW and ASuW pictures.Finally, processing will be included to enable further resolution of the force tactical picture.4.2 Verification, Validation & Acceptance (VV&A)VV&A of the CSI TestBed is recognised as being a difficult area for a variety of reasons.  The CSI TestBed contains representations of future weapons, sensors and C4I applications against which there are no real equipment or functions to measure their correctness.  In addition, when these models and application prototypes are linked together in a real time environment this may invalidate the validation status that was achieved for the stand-alone system.Interestingly for the milestone demonstration, described above, which undertook a qualitative as opposed to quantitative assessment of the picture, the validity of data provided from the sensor simulations, with one notably exception, did not impact greatly on the results.  However, for the next phase of work, which is addressing quantitative assessment, the validity of the data being provided (and used) by the sensor models and their assumptions will become more important.  In addition when experiments are run to examine data filtering and intermittent transmissions involving track repair, then the quality of the data will become more important. The approach to be taken is to compile a document for each model used in the interoperability experiments.  This document will provide:an overview of the model;summary of its functionality;summary of its strength and weaknesses;key assumptions;model history;input, output and configuration data; scenario dependencies;status of the three levels of verification: model alone, stand alone federate, integrated within the federation4.3 International Research Collaboration with Australian Virtual ShipThe TestBed is being integrated with the Australian Virtual Ship (VS) as part of an international collaborative research (IRC) programme.  An early stage of this work is to demonstrate proof of concept that two nations’ virtual platforms can be brought together with HLA.  This will then lead on to a more quantitative assessment of the data exchanged and functionality included at a later date.  Since the initial proof of concept demonstration involves an HLA environment, the existing CSI test-bed infrastructure was perceived as presenting a low risk option for achieving their programme.Figure 3 shows the proposed configuration for the demonstration.  This first stage of the research is focused on the exchange of information in the underwater battlespace.  Future phases will migrate to consider cross battlespace data exchange.There are two main platforms in the experimental configuration: an Australian platform modelled by the Australian Virtual Ship and the UK platform modelled by the CSI TestBed.  The scenario manager in the UK CSI TestBed will model the positions of all other units in the scenario.  Both systems are physically co-located within the CSI TestBed, therefore there are no wide area network considerations.In addition to the incorporation of new components from the underwater battlespace research work in QinetiQ Winfrith, this demonstration involves bringing together two existing experimental platform federations, CSI and the Australian virtual ship. EMBED PowerPoint.Show.8  Figure 3 – IRC Demonstration ConfigurationThese experimental platforms, although functionally similar, have four important differences identified to date, noting that as the engineering activity progresses more differences may be found:the FOMs: although functionally very similar, the CSI FOM is based on the real-time platform reference (RPR) FOM with additions for perceived data, the VS FOM is a custom development;time management and position data – always difficult areas;the method of synchronisation prior to going into real time;the method of scenario distribution.Since both platforms are part of existing (and separate) research programmes, the aim is to limit the modifications made to each system.  A FOM converter will be developed by the CSI team that will perform a two-way conversion between the two FOMs.  Therefore each federation will retain its own FOM.  This FOM converter could also be used to provide a bridge between different RTIs.  For synchronisation and scenario distribution it is proposed that each platform will continue with its own method.  Modifications may be required to the other platform’s systems to ensure that they are capable of at least responding to the other system’s synchronisation points, even it they take no action.  The CSI federation is to be updated to use the RTI NG software to align with the Australian virtual ship, as opposed to using the FOM converter as a bridge.  This will require an update to all the federates in the CSI TestBed and finally implementing a solution to the NG problem covered in previous papers.5. SummaryThe CSI project made the decision to use HLA, three years ago.  This decision was made for technical reasons particularly for the ability to manage time and to pass perceived data, and also to research its applicability for UK systems.  Once the steep learning curve was cleared, few problems have been found with its continued use.  HLA interface wrappers have been developed and re-used, new federates have been added and existing federates re-used in other systems.  Staff have left and joined the project fairly seamlessly, now that a core of knowledge and stable FOM are available.  For the particular applications, no serious problems or limitations have been encountered with HLA.  There has been no requirement to date to transfer large amounts of data, but the requirements are hard real time.  As can be seen from the content of this paper, the emphasis is now towards addressing capability issues associated with multi platform interoperability with the TestBed rather than exercising the technology.Author BiographySALLY WHITE joined QinetiQ (formerly DERA) 5 years ago from the UK Defence industry, where for many years she worked on the design and implementation of surface ship Command and Control and Combat Systems.  She currently works within the CSI research programme, which is investigating the key risk issues associated with future Combat System procurement, post 2015. She has been responsible for the functional and performance aspects of the work and the integration, test and evaluation aspect of the programme, which centres on practical investigation and demonstration along with the gathering of metrics, using the CSI TestBed.  In addition she was part of multi-national team working on the NATO Interoperability and Reuse study (NIREUS) and the follow on SG61 NATO Virtual Ship initiative.  Other work has included support to the UK future Carrier and future submarine programmes, and investigations into the C4I aspects of Maritime UAV..( Copyright QinetiQ ltd 2002.  The exception was the sensor output from the HELO tracker, which initially resulted in the FIACs being detected by the HELO before the submarine. 