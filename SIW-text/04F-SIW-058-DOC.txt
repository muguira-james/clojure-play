EUCLID CEPA 11 RTP 11.19 HLA Natural Environment FederationPatrice Le Leydour ‚Äì Pascal Josset ‚Äì Isabelle PicouetThales Training & Simulation1, rue du G√©n√©ral De Gaulle95523 Cergy-Pontoise, FRANCE HYPERLINK "mailto:patrice.leleydour@thales-tts.com" patrice.leleydour@thales-tts.com ‚Äì  HYPERLINK "mailto:pascal.josset@thales-tts.com" pascal.josset@thales-tts.com ‚Äì  HYPERLINK "mailto:isabelle.picouet@thales-tts.com" isabelle.picouet@thales-tts.comHans-J√ºrgen Meyer ‚Äì Franz Blens ‚Äì Dietmar WagnerCAE-GmbH11 Steinfurt52222 Stolberg, GERMANY HYPERLINK "mailto:hjmeyer@cae-gmbh.de" hjmeyer@cae-gmbh.de ‚Äì  HYPERLINK "mailto:fblens@cae-gmbh.de" fblens@cae-gmbh.de ‚Äì  HYPERLINK "mailto:dwagner@cae-gmbh.de" dwagner@cae-gmbh.deArtur Lutzenberger ‚ÄìJohann Neuhauser ‚Äì Ewald SchwabEADS Deutschland GmbH ‚Äì Military Aircraft81663 Munich, GERMANY HYPERLINK "mailto:artur.luzenberger@eads.com" artur.luzenberger@eads.com -  HYPERLINK "mailto:johann.neuhauser@eads.com" johann.neuhauser@eads.com -  HYPERLINK "mailto:ewald.schwald@eads.com" ewald.schwald@eads.comKeywords:HLA, FEDEP, FOM/SOM, SEDRIS, Dynamic Terrain, Weather conditions, Distributed SimulationABSTRACT: The work described in this paper has been performed under the European Cooperation for the Long term in Defense (EUCLID) Common European Priority Area 11 (CEPA 11 ‚Äì Modeling & Simulation) Research and Technology Project RTP 11.19 ‚ÄúHLA Natural Environment Federation‚Äù program, sponsored by the French and German MoDs. The objective of this program was to continue the SNE development made in the previous RTP 11.10 ‚ÄúDIS Environment Database Server‚Äù. The main subject of RTP 11.10 was the real-time representation of the SNE and its dynamic effects, among a federation composed of several heterogeneous interoperable and distributed simulations.The technical objective of RTP 11.19 ‚ÄúHLA Natural Environment Federation‚Äù was to adapt the development and study made in RTP 11.10 to the new emerging standards (SEDRIS for SNE representation, HLA for data interchange and interaction mechanism) and then to capitalize and to actualize the results of RTP 11.10 with the new standards.IntroductionThe objective of Euclid RTP 11.19 ‚Äú¬†HLA Natural Environment Federation¬†‚Äù was to continue the SNE development made in the previous Euclid RTP 11.10 ‚Äú¬†DIS Environment Database Server¬†‚Äù. The main subject of Euclid 11.10 was the real-time representation of the SNE and its dynamic effects, among a federation composed of several heterogeneous interoperable and distributed simulations.Euclid 11.10 ‚ÄúDIS Environment Database Server‚Äù made the requirements analysis of such SNE effects and proposed a design, an architecture, mechanisms, data representation, to support these services, then developed a proof-of-concept demonstrator to validate the proposed solutions, and to illustrate the advantage of such services for training. The conclusion of this RTP was a recommendation for the data representation and services standardization.The technology situation, and the associated risk to use it and the cost to adapt existing reusable components (e.g. existing clients) has obliged the consortium to guaranty the development by using mastered technology as DIS (HLA being at that time (1998) not sufficiently mature to be used without risk for such development).The status today has evolved: HLA technology has become to be more mature, and SEDRIS, even still in standardization process, has become to be more stable and usable. Both standards are emerging standards for future applications.The technical objective of Euclid 11.19 ‚Äú¬†HLA Natural Environment Federation¬†‚Äù was to adapt the development and study made in Euclid 11.10 to the new emerging standards (SEDRIS for SNE representation, HLA for data interchange and interaction mechanism) and then to capitalize and to actualize the results of Euclid 11.10 with the new standards.Federation ProcessDistributed Simulation is a complex domain where formal system development process is required to assist the developers to manage, specify, design, realize and test the demonstrator which is characterized by:The connection of several simulations,The interface (information exchange) between the different simulations,The monitoring and simulation management,The synchronization of the different services and effects,The dynamic consistency of the different information,The static consistency of the environment and of the tactical scenario,The management of multi-companies team.For these reasons, a development process guideline was required during the different phases of the development to ensure the team to address the essential problems in the good order.HLA standardization process addresses this problem and brings solutions and recommendations for this kind of System Development. The Federation Development and Execution Process (FEDEP) is the HLA attempt to bring methodological approach to this problem.The FEDEP draft 4 has been chosen as the guideline of the development process for the EUCLID RTP 11.19 Demonstrator. The FEDEP multi-step representation reference is the following: EMBED Word.Picture.8  Figure  STYLEREF 1 \s 2. SEQ Figure \* ARABIC \s 1 1 Seven-steps FEDEP presentationAccording to this decomposition of the development process in these seven steps, the traceability of the Demonstrator‚Äôs development, as resulting of the Work Breakdown Structure (WBS), was the following: EMBED Word.Picture.8  Technical Part of the Proposal and Technical Part of the ContractProgram Management PlanDemonstrator Definition, section Demonstrator Federation Objectives EMBED Word.Picture.8  Demonstrator Definition, section Demonstrator Conceptual Analysis EMBED Word.Picture.8  Demonstrator Design EMBED Word.Picture.8  Simulation and Static (S&SMS) Management services development, SNE Dynamic Management (DMS) services development, SNE Database Management (DBMS) services developmentLand Server (LandS) development, Meteo Server (MeteoS) development, Clients developmentLand Database SEDRIS development, Meteo Database SEDRIS development EMBED Word.Picture.8  Demonstrator Integration & Test EMBED Word.Picture.8  Demonstrator Evaluation, section Demonstrator Execution and Analysis EMBED Word.Picture.8  Demonstrator Evaluation, section Evaluation and Feedback ResultsTable  STYLEREF 1 \s 2. SEQ Table \* ARABIC \s 1 1 FEDEP Demonstrator development mappingEach step of the Development Process produces a result under the form of Technical Reports. They were associated to each activity of the WBS.Each step and activity of the Demonstrator‚Äôs development process has been detailed, in order to present the traceability of the development with the HLA FEDEP.Scenarios and EffectsScenariosTo validate and demonstrate the technology and the proposed solutions, used to satisfy the SNE dynamic representation, a set of basic scenarios has been defined, each able to demonstrate several SNE effects combined, to illustrate an operational situation or a specific technical point. Each scenario is considered as a basic experiment. Each experiment may be demonstrated separately to focus each experiment on a limited number of effects and services.IdentifierNameDefinition/PurposeScenario 1Artillery and Air support effects on ground operationResults of MBT firing and of aircraft and helicopter ground support on terrain (craters, destructions of buildings/bridges) with effect on ground operation (terrain reasoning). Storage of the dynamic effects on the terrain in database.Scenario 2Engineer support effects on ground operationDemonstration of influence of artillery support and engineer work on terrain (craters, trench, barrier) with effects on ground operation (terrain reasoning). Storage of the dynamic effects on the terrain in database.Scenario 3Precipitation effects on ground operationModification of the mobility conditions due to Meteo condition (precipitation) evolution on ground operation (terrain reasoning).Scenario 4Visibility effects on ground operationModification of local weather (fog area with different fog densities) with effect on ground operation (visibility, detection).Scenario 6Cloud effects on airborne operation (High and Medium altitude)Demonstration of the meteo effects on airborne operation, visualization of the meteo effectsScenario 13Land information usageExploitation of land information for decision making (terrain reasoning).Scenario 14 Temporal Effects initialization and scenario continuationInitialize clients and servers with pre-recorded temporal SNE effects of the actual scenario and continue the scenario execution by evolving the insertion made. The scenario shall demonstrate the capability of the DBMS to store and retrieve the SNE modification status. In co-operation with the DMS the DBMS allows re-initialization in time for clients and servers with recorded SNE effects of preceding phases of the actual scenario.Scenario 16Initialization with pre-recorded effects and execution of scenarioInitialize clients and servers with merged pre-recorded temporal SNE effects from scenario 2 and additional from scenario 1 and continue the scenario execution by evolving the insertion made. The scenario shall demonstrate the capability of the DBMS to store, merge and retrieve the SNE modification status. In co-operation with the DMS the DBMS allows re-initialization in time for clients and servers with pre-recorded SNE effects due to desired temporal instants of other scenarios. Continuing the scenario execution by evolving the insertions made will also demonstrate capabilities of servers and clients for being reinitialized at all and for consistent integration and continuation of the pre-inserted information.Scenario 17Massive SNE data exchangeThis scenario shall demonstrate the capability in providing massive SNE data (MeteoS) to a federate (MeteoV).Scenario 18Frequent SNE requestThis scenario shall demonstrate the capability in providing frequently SNE data to a federate.Scenario 19Global Meteo situation evolutionThis scenario will show the global dynamic evolution of meteorological conditions over a global combat theatre. This dynamic scenario will also illustrate the consistency and correlation between meteo and terrain using real data (for both meteo and terrain) of the same area, and the benefit for combat realism.Table  STYLEREF 1 \s 3. SEQ Table \* ARABIC \s 1 1 Scenarios identificationEffectsThe effects required for the different scenarios covered:SNE dynamic evolution (modification)SNE information (interrogation ‚Äì query/response)Tactical actions (origin of some SNE effects).A selection of demonstrative effects has been made to illustrate the concept.SNE EffectsThe supported SNE effects cover the following SNE domains:MeteoDescribes the meteorological (weather) conditionsLandDescribes the land surface and featuresSun & MoonMeteo Temperature ‚Äì Pressure ‚Äì HumidityWindVisibilityCloudMeteo PrecipitationSoil AccumulationSoil ConditionCraterBuilding/BridgeTrench/BarrierSmokeLine of SightVisible AreaTable  STYLEREF 1 \s 3. SEQ Table \* ARABIC \s 1 2 Supported SNE effectsFigure  STYLEREF 1 \s 3. SEQ Figure \* ARABIC \s 1 1 Smoke emissionFigure  STYLEREF 1 \s 3. SEQ Figure \* ARABIC \s 1 2 Crater insertionFigure  STYLEREF 1 \s 3. SEQ Figure \* ARABIC \s 1 3 Trench insertionFigure  STYLEREF 1 \s 3. SEQ Figure \* ARABIC \s 1 4 Bridge destructionSNE EffectDefinition/PurposeSun & Moon ConditionPosition of the Sun and Moon in the sky and resulting ambient luminosity.Meteo Temperature - Pressure - Humidity ConditionEvolution of atmospheric temperature, pressure, humidity, etc. due to weather conditions evolutions (depending of the time of the day, season, etc.) due to a Meteo scenario.Cloud ConditionLocal atmospheric features representing clouds of different types, and global cloud layers which impact the visibility in high altitude.Visibility ConditionEvolution of the weather conditions which affect the visibility (fog, haze) of the scene in altitude and above the terrain.Wind ConditionDirection and speed of the wind in altitude and above the terrain due to local weather conditions and its evolutions.Precipitation ConditionEvolution of the precipitation type and rain above terrain according to weather condition.Soil ConditionLocal state of soil due to the evolution of the precipitation and according to the past accumulation.Crater InsertionLocal modification of the terrain due of the explosion of a shell or a bomb on the terrain. The resulting crater is a marked (2D or 3D) on the terrain.Building/Bridge DestructionLocal destruction of planimetric features building and bridges due to an explosion of a shell or a bomb. The resulting destruction modifies the shape and appearance (deep hole) and the connectivity (e.g.: road network) of the terrain. Two objects states are taken into account, destroyed or operational.Trench/Barrier InsertionLocal linear deep or high obstruction created by Engineer task. The resulting effect modifies locally the shape (deep trench or high barrier) and the connectivity (e.g.: road network) of the terrain.Smoke EmissionLocal smoke emission from a hit SNE planimetric feature (e.g.:¬†oil tank, building).Line of Sight InterrogationInterrogation for Line of Sight between specific entities.Visible Area InterrogationInterrogation for the Visible Area from an entity.Table  STYLEREF 1 \s 3. SEQ Table \* ARABIC \s 1 3 Supported SNE EffectsTactical EffectsElementary tactical effects introduce the role of the platforms (ground or air vehicles) and of the weapon systems and their activities which have impact on the natural Environment.Tactical EffectDefinition/PurposeMoving PlatformLocation and identification of dynamic platform.Weapon FireLocation of weaponry fire (artillery).Ammunition ImpactLocation of the ammunition impact.Engineer ObstructionLocation and description of linear obstruction earthwork made by engineer system.MinefieldLocation and description of surfacic minefield.Table  STYLEREF 1 \s 3. SEQ Table \* ARABIC \s 1 4 Supported Tactical EffectsEffects MappingFor each scenario only some of the different effects are required, but with all the scenarios all the effects are illustrated. This simplifies the development and test of the different effects but allows to cover the full spectrum of the desired effects.EffectScenario Numbers12346131415171819Sun & Moon conditionXMeteo temperature-pressure-humidity conditionXCloud conditionXXXVisibility conditionXXWind conditionXXPrecipitation conditionXXSoil conditionXCrater insertionXXXXXBuilding/bridge destructionXXXXXTrench/barrier insertionXXXSmoke emissionXXXXLine of sight interrogationXXVisible area interrogationXXMoving platformXXXXXXXXXXWeapon fireXXXXAmmunition impactXXXXXXXEngineer obstructionXXXMinefieldXXXTable  STYLEREF 1 \s 3. SEQ Table \* ARABIC \s 1 5 Scenarios-Effects mappingInteroperability ArchitectureArchitecture CompositionThe Distributed SNE Server demonstrator is composed of several interoperable networked servers and clients using a distributed interactive mechanism (based on HLA) to exchange information on the tactical and the environmental situation. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 4. SEQ Figure \* ARABIC \s 1 1 Distributed SNE Server architecture compositionFederateSimulation ServiceCategorySiManManagementSNE ServersSMSDMSDBMSLandSLand SimulationMeteoSMeteo SimulationVIS1Visual SimulationSNE ClientsVIS2CGF1Tactical SimulationCGF2MeteoVMeteo VisualizationCartoVMap VisualizationTable  STYLEREF 1 \s 4. SEQ Table \* ARABIC \s 1 1 Distributed SNE Server architecture compositionThe server federates support the different services required for:The full demonstrator management,The SNE dynamic effects.Each server is dedicated to a specific simulation service (simulation management, static (initialization) management, dynamic (consistency, record/replay) management, SNE domain).The client federates represent different types of SNE user federates (e.g. sensor (visual), reasoning (CGF), etc.). The different federates cover a large scope of applications able to illustrate the use of SNE services.Following is a brief description of each federate (client/server) participating in the Demonstrator.Simulation Management (SiMan) monitors and controls the states and modes of the clients and the servers. It controls the good functioning of the federates and manages eventual failures of the federates. The SiMan centralizes the overall management of the system states (start, stop, initialization, real time execution or suspension); it manages transitions between the different states of the federates. The SiMan also manages the synchronization and time of all the connected federates.Static Management Server (SMS) manages the consistency of static SNE data for all the clients and servers. It supports version management of these data, including databases (terrain, weather) and initialization data (initial parameters) according to the exercises. The SMS stores static information needed by each client simulation and server for initialization and provides this information to them.Dynamic Management Server (DMS) in conjunction with the Data Base Management Server (DBMS) supports the Environment Database Server system by the means of logging/controlling of SNE related messages during the dynamic evolution of a distributed exercise. It provides the capability to support the Simulation Manager (SiMan) and the Static Management Server (SMS) in the initial set-up phase of an exercise by providing time and transient SNE related information from previous recorded dynamic database changes to the configured applications (servers and clients). The DMS provides the functionality to control and monitor the temporal consistency of the overall system.Data Base Management Server (DBMS) records during the runtime of an exercise those SNE effect messages, which are pushed by SNE Dynamic Domain servers and collects them in a SNE effects databank. It is able to build up different representations of the SNE modification status to the original SNE DB in terms of the recorded effect categories. These include: 1) Live representation, updated on each message propagation, for the purpose of monitoring the SNE during exercise runtime, 2) Reconstructed representations for arbitrary points in time from the runtime exercise, from a single previous or from merged multiple previous exercises. On the basis of such reconstructed representations the DBMS will be able to provide servers and clients with SNE effects up to a state which is due to a certain execution time of one or more exercises in the past (dynamic initialization). The relevant effects are propagated in the same format/structure as used for the original effect messages. The DBMS provides for local use an SNE effect query mechanism (time, geographical area) for the states due to the various effects, either from actual or from reconstructed exercises. The DBMS allows to display and monitor the live representation of the SNE state or to display any reconstructed representation for purpose of off-line inspection/analysis.Land Server (LandS) updates the land part of the SNE database. It uses the SNE database within the exercise specific gaming area in order to calculate modifications of the terrain surface and object states. The modifications are provided in a generic form. The Land Server computes visibility (line-of-sight) information between players/items. To ensure correlated LOS information within each client, the LOS computation is done centrally.Meteo Server (MeteoS) computes at every time and on the entire database, the meteorological conditions. The Meteo Server can provide data to specific clients or answer to request of clients. The Meteo Server provides local meteorological conditions, position and intensity of Sun and Moon, type, size and position of clouds.Visual1 (VIS1) displays a 3D view of the scene including terrain and moving models. The VIS1 uses for the 3D view a static observer position.Stealth (VIS2) based on ThalesView package displays a realistic 3D view of the scene including terrain and mobiles/platforms visualization. The considered military mobiles/platforms are MBT (Main Battle Tank), AICV (Armored Infantry Combat Vehicle) and Helicopters. The 3D view is manipulated by the operator using a mouse for location and orientation of a camera; this camera can be located on ground or attached to a moving entity (platform). VIS2 also offers a Plan View Display of the scene with terrain represented by a map and mobiles/platforms represented by icons.ITEMS (CGF1) (Interactive Tactical Environment Management System) is a CGF real-time simulation system. Scenario execution includes the simulation of platform and weapon dynamics, navigation, sensor target acquisition and detection, offensive and defensive decision making and damage assessment. Tactical scenarios can be defined in the domain of land and air. Platform definitions include fixed wing aircraft, helicopter, ground vehicles. Behavior of actors can be specified at platform, company and battalion level by definition of rule databases. Rules can be specified for mission actions (e.g. countermeasure activation, gun firing, maneuver performing), opponent selection, company and battalion co-ordination actions (e.g. maneuvering, sensor deployment, fire coordination). A graphical display of the simulation is provided as a TSD (Tactical Situation Display) and FVD (Forward View Display). The TSD is a 2D map view. The FVD is a 3D out-of-window view from fixed location or any individual player‚Äôs perspective.SETHI (CGF2) performs a realistic automatic dynamic behavior for military unit at platform or platoon level. The considered military units are MBT (Main Battle Tank), AICV (Armored Infantry Combat Vehicle) and Helicopters. The actions performed by the automated actors are defined in a tactical scenario and processed in real-time according to the instant tactical situation composed of all the actors (CGF internally monitored, and externally (of the CGF) constructively or virtually monitored).Meteo Viewer (MeteoV) basically offers an interactive visualization of 5D weather data sets (three space dimensions, one time dimension and one dimension for enumerating physical variables) such as those produced by numerical weather and climate models. The MeteoV shall be able to display isosurfaces, contours, colored slices and volume renderings of time-varying data on a 3D dimensional grid.Carto Viewer (CartoV) offers a Plan View Display (2D map) of the scene including a dynamic representation of terrain features (SEDRIS data representation) consistent with localization of entities. Its operational purpose is to allow an operator to view and monitor the current tactical situation. Terrain modification (craters, trenches‚Ä¶) are recorded in the database in order to be displayed later.SiManSMSDMSDBMSLandSMeteoSVIS1VIS2CGF1CGF2MeteoVCartoVEffectSun & Moon conditionPSPSSMeteo temperature-pressure-humidity conditionPSCloud conditionPSPSSSVisibility conditionPSSSSWind conditionPSSSSPrecipitation conditionSPSSSSoil conditionPSPSSCrater insertionPSPSSSSSBuilding/bridge destructionPSPSSSSTrench/barrier insertionPSPSSSSmoke emissionPSPSSLine of sight interrogationPSVisible area interrogationPSMoving platformSSSPPSSWeapon fireSSPPSSAmmunition impactSSSPPSSEngineer obstructionSPSSMinefieldPSSMechanismStatusSPPSPPPPPPPPPStatic InitializationPSPSPSPSPSPSPSPSPSPSPSPSDynamic InitializationPSPSPSPSPSPSPSPSPSPSPSTable  STYLEREF 1 \s 4. SEQ Table \* ARABIC \s 1 2 Clients/Servers support of each effectEffects dependencySNE Effects can be caused by tactical events or actions as ammunition detonation, these effects can be propagated in the different simulations and influence the following tactical actions. In the following example from scenario 1, the ammunition detonation provokes a destruction or a crater insertion which will be propagated to the Tactical Simulation and Visual Simulation. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 4. SEQ Figure \* ARABIC \s 1 2 Scenario 1 Conceptual DiagramSNE Effects can also be caused by other SNE Effects. In the following example from scenario 3, the precipitation condition from the Meteo Simulation, provokes modification of the soil condition. The precipitation and the soil condition evolution will be propagated to the Tactical and Visual Simulation. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 4. SEQ Figure \* ARABIC \s 1 3 Scenario 3 Conceptual ModelHLA ImplementationThe following approaches are commonly used or considered for developing federations:Bottom-Up Approach (creation of Simulation Object Models (SOMs) and FOMs from scratch),Single SOM/Merge SOM Approach (use of a SOM or multiple merged SOMs as a FOM),Existing/Reference FOM Approach (include of a pre-existing FOM or Reference FOM(s) as templates).Advantage was accordingly given by the Consortium to the Existing/Reference FOM Approach based on the availability of both Real-time Platform Reference and EnviroFed FOMs. Existence of similar work has also been taken into account.It was also decided to split the SNE demonstrator FOM definition into domain specific sub-FOMs to ease for legibility and further maintenance. The following sub-FOMs were then considered:LandMeteoTacticalManagement (initialization and monitoring aspects of the federation).Additional building agreements were reached prior to start the FOM definition phase:Agreement to extend the RPR-FOM naming conventions (issued from the HLA Object Model Data Dictionary ‚Äì OMDD) to the entire content of the demonstrator FOM; this should apply to all ‚Äúpieces‚Äù extracted from the EnviroFed FOM and to new building blocks,Agreement to update existing EDCS references to match the latest version of the Environmental Data Coding System (EDCS), part of the latest SEDRIS v3.1.0 version; this should apply to all relevant description field and referenced Enum types of Land and Meteo sub-FOMs object\attributes or interaction\parameters.Furthermore the following paragraphs detail specific sub-FOMs decisions such as the appropriate way to implement previous RTP 11.10 SNE effects using either an object or an interaction. They also point out the differences between both RTP11.10 and agreed RTP11.19 effect representations.LandThe approach followed was to consider existing FOMs, like RPR FOM, EnviroFed FOM and EFR FOM, and to identify whether existing interactions/objects could be adapted for RTP11.19 or whether evolutions/adaptations or new interactions/objects were needed. The result of this work is summarized below.The first column of the following table shows the SNE effects, that will be needed for the LandS. The second and the third columns respectively introduce the RPR and the EnviroFed FOM representations of these SNE effects.Not all representations are provided by these two FOMs or the representation doesn‚Äôt fit to the LandS. So the Consortium had to take a decision whether an existing representation is relevant, must be enhanced or a new representation has to be implemented. The Consortium selection is shown in the fourth column. In the case of the SNE effect Soil condition the Consortium decided to use an object for the representation. For all other SNE effects, interactions were chosen.SNE effectsRPR FOMEnviroFed & EF FOMConsortium selectionSoil conditionNo representationInteraction (EAC_Terrain_Surface‚Ä¶) - detailed descriptionObjectCraterObject (CraterObject) - only one attribute CraterSizeInteraction (ECC_Terrain_Crater) - detailed descriptionCraterInsertion interactionBridgeNo explicit representation (OtherPointObject ?)Interaction (ECC_Bridge‚Ä¶) - detailed descriptionDestruction interactionBuildingNo explicit representation (OtherPointObject ?)Interaction (ECC_Building) - detailed descriptionDestruction interactionTrenchObject (BreachObject or BreachableLinearObject ?) - useless attributesInteraction (ECC_Breach_Point‚Ä¶) - detailed descriptionObstructionInsertion interactionBarrierObject (BreachObject or BreachableLinearObject ?) - useless attributesInteraction (EAC_Obstacle_Type‚Ä¶) - detailed descriptionObstructionInsertion interactionSmokeNo explicit representation (OtherPointObject ?)Object (Smoke) - time-varying representationSmokeEmission interactionLine of sightNo representationNo representationInteractionVisible areaNo representationNo representationInteractionTable  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 1 Land FOMs comparisonMeteoLike for the previous parts of the FOM, the existing reference FOMs are RPR FOM, EnviroFed FOM and Enduring Freedom FOM.The different effects that the MeteoS has to manage have been identified. They are listed in the following table:Sun & MoonPositions can be supplied by the (date, time) information which satisfies both VIS1 & VIS2. An EphemerisTime interaction, with Date and Time parameters, is proposed. An object, which managed astral position, is still proposed.Single cloudThey have to be viewed as entity-like objects. They only represent cumulus and cumulonimbus.Cloud layer (0D)For the purposes of Visual Simulation, a simple cloud layer that covers the entire database is needed. An object including the following BaseHeight, TopHeight, CoverRate and Type attributes is created.Cloud layer (2D)For the purposes of Meteo Visualization, a more precise cloud layer can be provided by MeteoS. 3 different layers (low, middle and high) that do not interlace are represented by a 2D grid. Each cell has its own attribute (base and top altitude, type of clouds).Weather conditionsThe different needs are listed (see the next table). Two kinds of subscribers need these information: Visual Simulation, which needs weather conditions at a point, Land Simulation, which need needs information in a volume. The Weather condition can be provided either at a local point or in 3D grid. A mechanism has to be defined.PrecipitationThe precipitation sent is the precipitation received on the terrain altitude. The precipitation is managed in a 2D grid.Table  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 2 Meteo effects descriptionThe Sun & Moon positions, single clouds and cloud layers are defined like objects. They are created, managed and deleted by the MeteoS. The different clients subscribe to these objects.Different implementations were discussed to define the meteo temperature-pressure-humidity condition, visibility condition, wind condition and precipitation condition effects:A full interaction implementation. This implementation could correspond to the exact translation of Euclid 11.10 PDUs and mechanisms. A client sends a request (once or cyclic) to the MeteoS, the MeteoS responds with a corresponding response interaction.A request and response mechanism based on a mix of interactions and objects. A client sends a request (once or cyclic) to the MeteoS, the MeteoS responds with an interaction in case of a one shot request and with an object in case of a cyclic request.A full object implementation. The client creates the object it wants to be updated and it transfers several attributes to the MeteoS (use of HLA Ownership management mechanism).It is this last solution that the Consortium chose to implement. The benefits of this solution were fewer objects and interactions to implement and to test the use of a mechanism provided by HLA, which did not exist with DIS. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 5. SEQ Figure \* ARABIC \s 1 1 Meteo mechanism activity diagramTacticalLike for the Enduring Freedom FOM, the tactical part is issued from the RPR FOM. The Consortium chose to use the last draft of the FOM: RPR FOM version II draft 14.The following modifications were introduced in order to cover the needs of the Euclid 11.19 federation.The tactical sub-FOM content is basically limited to the Euclid 11.19 specific study,Two new values were added to the existing list of the Reason parameter of the StopFreeze interaction: 10 for FreezeToStaticInitialisation and 11 for FreezeToDynamicInitialisation,Two interactions (TrenchCreation and BarrierCreation) were added to allow the creation of engineer obstructions (trench or barrier) by a CGF. These requests are sent to the LandS, which evaluates the terrain and creates the corresponding trench or barrier.ManagementFor the implementation of the Status mechanism and the Initialization mechanism the following possibilities have been taken into account:1.	Use of RTI inherent Federation Management synchronization functions,2.	Re-use of already existing objects/interactions from the RPR FOM, EnviroFed FOM respectively,Adaptation of the corresponding Euclid 11.10 messages.Because not all demonstrator requirements could be fulfilled with the HLA federation management mechanisms (e.g. to display the current status of each federate in the SiMan of the data transfer during initialization), the existing Euclid 11.10 management messages were adapted.FOMThe following tables sum up traceability information between SNE objects/interactions and Euclid11.19 federates, ordered by sub-domain:C means that the federate creates the object (ownership of some attributes is intended to be transferred to a SNE server for regular update);P means that the federate publishes the object/interaction;S means that the federate subscribes to the object/interaction;[P] (respectively [S]) refers to the dynamic initialization phase and means that the federate publishes (respectively subscribes to) the object/interaction during this phase.SiManSMSDMSDBMSLandSMeteoSVIS1VIS2CGF1CGF2MeteoVCartoVCloudS[P]PSSSCloudLayer0DS[P]PSSCloudLayer2DCGridInfoSPCloudLayersFeaturePSMoonS[P]PSPrecipitationCCCGridInfoPSPPPrecipitationFeatureSPSSSunS[P]PSWeather0DCCCCLocationSPPPPMinimumPeriodSPPPPOriginatingFederateSPPPPObjectIDSPPPPHumidityPPrecipitationPSSPressurePTemperaturePVisibilityPSSSWindPSSSWeather3DCGridInfoSPHumidityPSPressurePSTemperaturePSVisibilityPSWindPSAbsoluteTimeS[P]PSSTable  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 3 Meteo Objects/interactions and federates mappingSiManSMSDMSDBMSLandSMeteoSVIS1VIS2CGF1CGF2MeteoVCartoVSoilConditionS[P]P[S]S[S]S[S]BarrierInsertionS[P]P[S]S[S]S[S]SCraterInsertionS[P]P[S]SS[S]SS[S]SDestructionS[P]P[S]SS[S]SSLineOfSightRequestSPLineOfSightResponsePSSmokeEmissionS[P]P[S]SS[S]TrenchInsertionS[P]P[S]S[S]S[S]SVisibleAreaRequestSPVisibleAreaResponsePSTable  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 4 Land Objects/interactions and federates mappingSiManSMSDMSDBMSLandSMeteoSVIS1VIS2CGF1CGF2MeteoVCartoVAircraftSSSPPSSAmphibiousVehicleSPSSGroundVehicleSSSPPSSMinefieldObjectPSSMultiDomainPlatformSPSSMunitionSPSSSpacecraftSPSSSubmersibleVesselSPSSSurfaceVesselSPSSBarrierCreationSPSMunitionDetonationSSSPPSSTrenchCreationSPSWeaponFireSSPPSSTable  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 5 Tactical Objects/interactions and federates mappingSiManSMSDMSDBMSLandSMeteoSVIS1VIS2CGF1CGF2MeteoVCartoVFederateStateSPPSPPPPPPPPPFederationStaticInitialisationRequestPSFederateStaticInitialisationRequestPSSSSSSSSSSFederateStaticInitialisationDataPSSSSSSSSSSFederateStaticInitialisationDataEndPSSSSSSSSSSFederateStaticInitialisationEndSPPPPPPPPPPFederationStaticInitialisationEndSPFederationDynamicInitialisationRequestPSSFederateDynamicInitialisationRequestPSSSSSSSSSFederateDynamicInitialisationDataEndSPSSSSSSSSFederateDynamicInitialisationEndSPPPPPPPPPFederationDynamicInitialisationEndSPStartResumePSSSSSSSSSSStopFreezePSSSSSSSSSSTable  STYLEREF 1 \s 5. SEQ Table \* ARABIC \s 1 6 Management Objects/interactions and federates mappingSEDRIS ImplementationThis part of the Demonstrator was dedicated to studying and experimenting the capacity of SEDRIS to represent SNE data required for the different types of simulation belonging to the Demonstrator SNE federation. The used SEDRIS API version was the 3.0.CartoV SEDRIS DatabaseThe goal was to evaluate the ability of SEDRIS Data Model and SEDRIS API to support real-time execution and database modification. This evaluation has been performed based on the development of a client federate: CartoViewer.The CartoViewer federate reads a Land SEDRIS database, displays it as an electronic map and performs modifications in real-time of the Land SEDRIS database when SNE effects are received through HLA.The first step was to create a Land SEDRIS database. It has been created from existing HASPAGS database delivered in previous Euclid 11.10. The figure below depicts the structure of the corresponding transmittal.Figure  STYLEREF 1 \s 6. SEQ Figure \* ARABIC \s 1 1 Land SEDRIS database structureThe created SEDRIS database consists of a set of <Union Of Features>, one for each classification. For example, forests are defined by a Union of Feature with the classification ECC_FOREST. Inside a Union of Feature three representations are made available: Point, Linear and Areal representations (e.g. an ECC_LAKE is represented using an Areal representation). The classification data list used in the SEDRIS database is defined in the following table (<CONCEPT> means that existing concept in the EDCS were reused.):FeatureEDCS classificationEDCS definitionLakeECC_LAKEAn <INLAND_WATER> without significant flow, surrounded by <LAND>; a lake.RoadECC_ROADA <TERRAIN_TRANSPORTATION_ROUTE> maintained for <MOTOR_VEHICLE> use; a road.RiverECC_RIVERA natural flowing <WATERCOURSE>; a river or stream.BridgeECC_BRIDGEA <STRUCTURE> that connects two <LOCATIONS>s and carries pedestrian or <VEHICLE> traffic over a <TERRAIN_OBSTACLE> such as a <WATER_BODY>, a declivity, or a <ROAD>; a bridge.DuneECC_SAND_DUNE_REGIONA <REGION> covered by <SAND_DUNE>sForestECC_FORESTA <REGION> of <LAND> containing a substantial number of closely spaced <TREE>s; a forestTownECC_TOWNA concentration of <DWELLING>s, businesses, industry and other <STRUCTURE>s where people have settled that is larger than a settlement and usually smaller than a city or urban <REGION>, and with a population of less than 25.000 inhabitants; a town.Table  STYLEREF 1 \s 6. SEQ Table \* ARABIC \s 1 1 HASPAGS Land SEDRIS database features.The following figure shows HASPAG SEDRIS database using the visualization tool SEE-IT.Figure  STYLEREF 1 \s 6. SEQ Figure \* ARABIC \s 1 2 HASPAGS Land SEDRIS database visualization using SEE-ITThe second step was to modify the property of an object and study how SEDRIS implements this modification The CartoViewer for that used <Control Link> objects for dynamic modification of the SEDRIS database.MeteoS SEDRIS DatabaseMeteoS uses real meteorological data as input data. These data are obtained with the Master Environment Library (MEL). Nevertheless MeteoS do not use all information provided by the MEL. It uses only state parameters and other parameters are computed from state parameters with the MeteoS meteorological models. Only the following parameters are retained in the MeteoS transmittals: air temperature, dew point temperature, relative humidity rate, geopotential height dimension, terrain height dimension, U and V wind components rate.Because data provided by the MEL cover a very wide area, an extraction can eventually be performed to obtain meteorological information only for the wanted region and for the wanted period. The three previous operations can be performed with the MEL2MSTF tool. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 6. SEQ Figure \* ARABIC \s 1 3 MEL data to MeteoS data conversionThe MeteoS transmittals are created, modified and read using an API called MSTF (for Meteo STF). This API is shared by all MeteoS data manipulation tools and MeteoS. EMBED Word.Picture.8  Figure  STYLEREF 1 \s 6. SEQ Figure \* ARABIC \s 1 4 Application manipulating MeteoS transmittals architectureThe MSTF API has two goals: it forces the client application to respect the MeteoS transmittal format and it provides the client application some functionality making the creation, the modification and the reading of MeteoS transmittals easier. Especially, the client application does not need to know all the part of the DRM used by MeteoS transmittals to manipulate them. It also reduces the cost of development for application using MeteoS transmittals.In the other hand, the addition of a layer between the application and the SEDRIS API is not free: it reduces the performances of the application. For the batch tools, it is not really a problem since they are not real-time applications. For MeteoS, it is also not problematic because the MeteoS transmittals are only read during static initialization phase, so that MeteoS do not suffer from this additional layer during the next phases.EDCSThe SEDRIS EDCS (Environmental Data Coding Specification) takes an important place in the real-time aspect of the SEDRIS evaluation since it is used as a reference in the enumerated datatypes of the FOM (Federation Object Model).The main remark one can evoke is that the EDCS is often too rich compared with the Demonstrator needs. As an example, the precipitation types proposed by the EDCS 2.9 are:Unknown No precipitation Rain Snow Freezing rain Sleet Hail Graupel Other MeteoS takes only three precipitation types into account: No precipitation, Rain and Snow. At least, one can add that it is important to specify the used version of the EDCS because two consecutive versions of the EDCS are not necessary compatibleConclusionsThe Demonstrator has proven the concept for a HLA (Local network) Natural Environment Server to support Land and Meteo services. It has also proven the possibility to provide these services to existing federates without deep design modification and transformation and to new federates. HLA demonstrated its capacity to support enhancements to answer precisely to the SNE requirements.Nevertheless some points have been identified during the study, the design, the implementation and the experimentation of the Demonstrator. These points are:The experimentation, oriented on the test and validation of the different effects and services, has not introduced scenarios with simultaneous great number of entities and natural events. The measurements provided by the experiments illustrate the few objects scenarios and the results would be different if a great number of tactical and natural objects would be introduced in the scenario. The scalability of the solution has not be tested and validated.The correlation between the entities updates network traffic and the synthetic natural environment (SNE) resulting network traffic has not been evaluated, but the first partial results indicate augmentation of SNE traffic due to the increase of tactical actors (increase the number of objects like Weather0D).The network load and the server workload are very sensitive to the chosen data distribution management: possible optimization and tuning of the network load may be obtained by using Data Distribution Management HLA services.To reduce the network workload, dead reckoning for continuous evolution object (e.g. cloud, physical parameters evolving with time (e.g. temperature, precipitation)) could be introduced, as for moving entities. Specific dead reckoning algorithms have to be provided to support physics effects in complement of actual dead reckoning algorithms, which are principally oriented for entity position.AcknowledgmentsThe authors thank DGA (Mr Lui Kam), and BWB (Dr Helmut Holthusen), for sponsoring this work.References[1]	Draft Recommended Practice for High Level Architecture (HLA) Federation Development and Execution Process (FEDEP) Model, Draft 4, 3 June 2002[2]	Gustavson Paul L., et al:. ‚ÄúBase Object Models (BOMs): Reusable Component Objects for Federation Development‚Äù - 1998 Fall Simulation Interoperability Workshop Papers (98F-SIW-034), September 1998[3]	O'Connor Michael J., et al. ‚ÄúBuilding on the Realtime Platform Reference and EnviroFed FOMs‚Äù ‚Äì 2001 Spring Simulation Interoperability Workshop Papers (01S-SIW-041), March 2001[4]	Guidance, Rationale, and Interoperability Manual for the Real-time Platform Reference Federation Object Model (RPR FOM) ‚Äì version 2.0D14v2, 11 March 2002[5]	Peyronnet Pascal, et al. ‚ÄúEUCLID CEPA11 RTP11.10 Distributed SNE Server‚Äù ‚Äì 2000 Fall Simulation Interoperability Workshop Papers (00F-SIW-006), September 2000[5]	EnviroFed Phase III Demonstration CD, Integrated Natural Environment (INE) program by the Defense Modeling and Simulation Office (DMSO), 8 November 2001[6]	Vector Product Format (VPF) products, general specification for. MIL-PRF-0089049 (NIMA), 24 November 1998[7]	User Guide for the Synthetic Environment Evaluation ‚Äì Inspection Tool (SEE-IT) Version 1.7a. December 23, 2002AbbreviationsAICV	Armored Infantry Combat VehicleBWB	Bundesamt f√ºr WehrtechnikCartoV	Carto ViewerC	CreatedCGF	Computer Generated ForcesDBMS	Data Base Management ServerDGA	D√©l√©gation G√©n√©rale pour l‚ÄôArmementDIS	Distributed Interactive SimulationDMS	Dynamic Management ServerDMSO	Defense Modeling & Simulation OfficeDRM	Data Representation ModelEDCS	Environmental Data Coding SystemEUCLID	EUropean Co-operation for the Long-term In DefenceFEDEP	Federation Development and Execution ProcessFOM	Federation Object ModelFVD	Forward View DisplayHLA	High Level ArchitectureLandS	Land ServerLOS	Line Of SightMBT	Main Battle TankMEL	Master Environment LibraryMeteoS	Meteo ServerMeteoV	Meteo ViewerOMDD 	Object Model Data DictionaryP	Published[P]	Published during initialization phasePDU	Protocol Data unitRPR-FOM	Real-time Platform Reference FOMRTI	Real-Time InfrastructureRTP	Research and Technology ProgrammeS	Subscribed[S]	Subscribed during initialization phaseSEDRIS	Synthetic Environment Data Representation & Interchange SpecificationSiMan	Simulation ManagementSISO	Simulation Interoperability Standard OrganizationSMS	Static Management ServerSNE	Synthetic Natural EnvironmentSOM	Simulation Object ModelTSD	Tactical Situation DisplayVIS	VisualWBS	Work Breakdown StructureAuthor BiographiesPATRICE LE LEYDOUR is the Program Manager of the EUCLID CEPA 11 RTP11.9, with Thales Training & Simulation.PASCAL JOSSET is a Technical Manager with Thales Training & Simulation.ISABELLE PICOUET is a senior software engineer with Thales Training & Simulation.HANS-J√úRGEN MEYER is a Program Manager with CAE Elektronik GmbH.FRANZ BLENS is a Technical Manager with CAE Elektronik GmbH.DIETMAR WAGNER is a senior software engineer with CAE Elektronik GmbH.ARTUR LUTZENBERGER is Program/Technical Manager with EADS.JOHANN NEUHAUSER is senior software engineer with EADS.EWALD SCHWAB is senior software engineer with EADS.