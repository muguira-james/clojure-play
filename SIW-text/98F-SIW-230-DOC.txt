Creating a Simulation Laboratory to Live Range Exercise - The ProcessGerald M. SantosNaval Undersea Warfare CenterDivision Newport1176 Howell AveNewport, RI  02841-1708401-832-5800 HYPERLINK mailto:Santosgm@npri70.npt.nuwc.navy.mil Santosgm@npri70.npt.nuwc.navy.mil, Larry W. RothsteinNaval Undersea Warfare CenterDivision Newport1176 Howell AveNewport, RI  02841-1708401-832-5300 HYPERLINK mailto:Rothsteinlw@npri70.npt.nuwc.navy.mil Rothsteinlw@npri70.npt.nuwc.navy.mil, Rosemary EnrightLOGICON Syscon, Inc10 John Clarke RoadMiddletown, RI  02842401-849-6270 HYPERLINK mailto:Enrightr@npri70.npt.nuwc.navy.mil Enrightr@npri70.npt.nuwc.navy.milKey words:T&E, Training, Ranges, Live, HWIL, HLA TransitionABSTRACT:  A Navy team working with DMSO has used the HLA to interoperate a high fidelity Hardware-in-the-Loop (HWIL) weapon simulator at the Naval Undersea Warfare Center (NUWC) Division Newport with a live submarine on an at-sea test range at the Atlantic Undersea Test & Evaluation Center (AUTEC). As part of the Common Test and Training Range Architecture (CTTRA) workshop in July 1998, the team was asked to facilitate a CTTRA workgroup to create a workup for a similar exercise  including the negotiation and federation processes. In order to emulate the actual process the workshop facilitators were given strategies and suggested questions and themes to enable the workshop participants to understand and appreciate the strengths and difficulties of creating such interoperable linkages for live facilities such as Ranges. Workshop participants were further exposed to ongoing developments in the T&E community, such as the Test & Training Enabling Architecture (TENA) which are intended to extend the HLA to the needs of the Test and Training communities. The application of HLA guidance and T&E interpretations together with the recorded comments, critiques and observations of the Workshop attendees are discussed. The difficulties, lessons learned and perceived value of this "group think" as an HLA transition tool are assessed.Introduction:  Synthetic Environment Tactical Integration (SETI)The Synthetic Environment Tactical Integration (SETI) Virtual Torpedo (VTP) project promotes the use of Advanced Distributed Simulation (ADS) capabilities by creating high fidelity Antisubmarine Warfare (ASW) training and testing opportunities using live targets, synthetic torpedos, and onboard submarine tactical and training systems in realistic external environments. The goal of the SETI VTP is to enable the real-time interaction of live submarines with high fidelity simulated torpedos. On 18-19 June 1998, the SETI VTP capability was deployed at the Atlantic Undersea Test and Evaluation Center (AUTEC) in the Bahamas.  A live submarine, operating on the AUTEC range, tracked and targeted a surface craft.  When the combat control crew on the submarine issued weapon preset and launch commands through their tactical equipment to the on-board weapon simulation interface, the fire control orders were forwarded to a high-fidelity hardware-in-the-loop torpedo simulation facility, known as the Weapon Analysis Facility (WAF), at the Naval Undersea Warfare Center (NUWC) in Newport, Rhode Island.  The combat control commands and the telemetry data from the torpedo were transmitted from and to the submerged submarine via an acoustic modem designed by the NUWC SETI team.Figure 1 shows the assets used in the exercise and the data flow through the distributed system.  A detailed description of the SETI VTP exercise scenario can be found in the companion paper Report on a Live Range Exercise: The Synthetic Environment Tactical Integration (98F-SIW-237).SETI HLA Federation Development The SETI VTP capability had been experimentally implemented by NUWCDIVNPT using Distributed Interactive Simulation (DIS) protocols, and proof-of-concept demonstrations were held in September 1997 and April 1998.[1]  Under the auspice of the Foundation Initiative (FI) 2010 project of Central Test and Evaluation Investment Program (CTEIP), an HLA compliant version of the core capability was developed in FY98.   CTEIP is an OSD Test and Evaluation (T&E) and range improvement / modernization program under the Director, Test, Systems Engineering and Evaluation (DTSEE), Office of Resources and Ranges.  The FI 2010 project was established by CTEIP to exploit distributed interactive simulation for T&E and training and to define the architecture and develop the products to enable use of live, constructive and virtual resources assembled into a system of systems to support a specific test mission or training exercise.The HLA implementation of SETI used the tested DIS version as a baseline. DMSO, through its DMSO Cadre group which was formed initially to support FI 2010, provided guidance in the application of the DMSO Federation Development Process (FEDEP), figure 2, to the re-engineering process.  Following the successful HLA federation test in June, the SETI FI team analyzed differences between the DMSO FEDEP process and the process that we followed in creating the SETI federation.Requirements DefinitionThe overarching SETI requirements were established for the DIS implementation, and we did add to these during the HLA FEDEP.  The overarching requirements are:Provide effective on-board training for the submarine Combat Control team Reduce the cost for torpedo / combat control trainingIncrease the training effectiveness of real torpedos by augmenting them with realistic virtual torpedosIncrease training opportunities by augmenting the real torpedos available for firing with realistic virtual torpedosFrom these overarching requirements, a second tier of requirements were developed that drove the definition of the federates.  Tactical Equipment.  Effective training required that tracking, localizing, and targeting the threat be done using tactical equipment Fast attack submarines are not equipped with on-board trainers that can stimulate the tactical suite, so a live target is necessary.  Weapons commands entered through the tactical Combat Control system can, however, be captured for processing by a simulator.  Torpedo Post-launch.  The Mk 48 ADCAP torpedo is a wire-guided weapon.  Pre-sets are sent across the wire to the weapon in the tube prior to launch.  After launch, the weapon sends sensor and positional data through the wire to the Combat Control system.  In addition, although the ADCAP has internal logic that controls its search and attack phases, the Combat Control team can override the weapon logic, sending control signals across the wire.  The sensor and positional data needs to be captured and displayed to the Combat Control team and the control signals need to be seen to effect the torpedo in a realistic manner.  Multiple Torpedos / Salvos.  Although submarine tactics permit multiple torpedos to be fired at close time intervals, salvos are seldom practiced on the range because of the limited availability of exercise torpedos.  The use of simulated torpedos overcomes that limitation.Shipboard Debrief.  The improved communication between ship and shore required for training effectiveness can also be used to advance the shipboard debrief capabilities.  Identified requirements include actual versus perceived target position at launch, torpedo track and telemetry data, weapon presets and wire guide commands, and hit / miss information.Range Enhancements.  The integration of the range with remote simulations  is a leave-behind product that can be reused for other applications.  To make maximum use of this capability and its own resources, the range identified new data recording requirements because new information, such as weapon telemetry, was now available.  To ensure range safety, the range displays had to be able to differentiate between live and simulated objects and to display either or both, as desired.As a result of the SETI test, we also recognized a requirement for a common “business process” between the simulation and range communities.  In particular, a common understanding of test scheduling and test planning needs to be developed.  Merging the “cultures” of the science-focused RDT&E laboratory and the measurement-service oriented T&E / training ranges presents both process challenges and exploitation opportunities we’ve only begun to address.Conceptual Model DevelopmentThe development of the conceptual model presented several difficulties for both range and laboratory personnel.  We are used to thinking in terms of sensors that detect the data we are interested in collecting on the range.  In developing the conceptual model, we had to ignore the source of data and look at the entities in the real world.  We addressed this issue in two ways:First, we stripped our scenario of both range and simulation information and looked at the “real world” as we envisioned it for this exercise.  A pictorial vision of this world is shown in figure 3.Second we defined the interchanges between these real world objects that need to exist in order for the scenario to work.   Two types of interchanges were defined: data and event.  Table 1 shows the data exchange requirements.Table 1.  Data Exchange Requirements for SETI             TO       FROM                        SHOOTERTARGETWEAPONOBSERVESHOOTERDescriptiveDescriptiveDescriptiveNo data exchangedTSPI + DynamicsTSPI + DynamicsTSPI + DynamicsDescriptiveDescriptiveDescriptiveTARGETTSPI + DynamicsNo data exchangedTSPI + DynamicsTSPI + DynamicsAcoustic SignatureAcoustic SignatureDescriptiveDescriptiveDescriptiveWEAPONTSPI + DynamicsTSPI + DynamicsNo data exchangedTSPI + DynamicsTelemetryTelemetryOBSERVEDoesn't send dataDoesn't send dataDoesn't send dataDoesn't send dataSince we completed this exercise, we have had several discussions, both within the SETI development team and with DMSO and other developers on the FI 2010 project, about the difference between data and events, or in HLA terms interactions.  The distinction seems to be one of convenience.  According to DMSO, the current implementation of the RTI does not distinguish between objects with attributes and interactions with parameters.   The FI 2010 team at Eglin AFB implemented a simulation-only exercise that is quite similar to SETI without using interactions.  In SETI, we separated discrete changes, which we considered interactions (events), from continuously varying information about an entity, which we considered object attributes (data).  For example, an order from Combat Control to the weapon is an interaction and the contents of the order are the parameters of that interaction. The continuous flow of positional data from the weapon to Combat Control are treated as attributes of the torpedo, even though in the tactical system this data is transferred in discrete messages.Federation DesignOur conceptual model showed three exercise objects, plus an observer. Because of the DIS implementation of the SETI scenario, we had a basic design for the federation in place.   In allocating responsibility for our objects to our existing DIS applications, we had to revise our view of what a federate is and revisit our understanding of the relationship between objects and federates.  SETI FederatesThe SETI objects were allocated to federates mostly as a result of software concerns.  However, the ease with which a federate could be reused also affected our design.  Figure 4 depicts our initial view of the federate / object relationship.Weapon Simulator Federate.  The Weapon object has the least complex object-to-federate relationship.  The object is owned by and totally controlled by the Weapon Simulator Federate.  In addition, all data required from or by the Weapon Simulator had been defined for the baseline DIS implementation.Range Interface and Combat Control Federates.  When we looked at the data coming from the range, that is live data that came into the federation from a source on the range, we found it fell into two classes and affected two objects:Tracking data (Time-Space-Position-Information, or TSPI) that described the position of the target. Tracking data that described the position of the shooter.  Combat control commands that initiated at the shooter.The only data returning to live objects was the weapon telemetry data generated by the Weapon Simulator Federate and returned to the shooter.The initial design created a Range Surrogate, that is a single federate that handled all data and interactions to and from live objects.  As the Simulation Object Model (SOM) for the Range Surrogate Federate was developed, however, the federate was divided into two federates: the Range Interface Federate and the Combat Control Federate.The Range Interface Federate is a simplified Range Surrogate that creates and owns the target and shooter objects and is responsible for updating the id and positional, or TSPI, attributes of those objects.  The Combat Control Federate is responsible for the other data and interactions originally assigned to the Range Surrogate.  The Combat Control Federate  processes the commands from the live combat control system and the simulator weapon telemetry data that is returned to the submerged submarine on the range.  The shooter, therefore, exists in both the real (range) world and the simulation world. The division of processing between the two federates makes the Range Interface Federate more widely applicable.  Using the Range Interface Federate alone, the AUTEC range can now provide all normally available range tracking data to any federation.  The more specialized Combat Control Federate is used for SETI VTP specific functions and could become part of other submarine, combat control system, or sonar system federations.Display Federate.  The observer object is more complex than initially expected because the range uses its display systems as exercise control tools.  HLA tools to support exercise control are not available and the range tools were modified / expanded to support SETI’s requirements. The observer object incorporates three elements: An interface to legacy data displaysAn interface to legacy data collection and storage utilities An HLA exercise control system, which includes the generation of exercise control messages.All these requirements were included in the Display Federate.The interfaces to legacy display systems allow the data subscribed to during the exercise to be displayed on the AUTEC range displays, the JMCIS tactical display, and the NUWC-unique 3D Omniview undersea warfare display. The AUTEC displays incorporate the range safety requirement for easy identification and suppression of data from digital simulations.  The data collection system currently records only data recognized by the legacy range systems.  Since the legacy systems did not have access to the telemetry and weapon command data processed by the Combat Control federate, this data cannot be collected by the Display federate.   The exercise control system allows the four sites on the SETI network to send preformatted or free form text messages to all or a subset of sites.  Embedded exercise control is a requirement for SETI because T&E needs to archive this support data.  In addition, our experience with distributed simulation has shown that voice communications tend to be less focused.  The preformatted messages are particularly useful for communication to the submarine because the underwater communication link is restricted by the underwater physics to a narrow bandwidth. Federate DevelopmentThe above discussion of our federates is much more reasoned than the process we followed.  We began by defining to Federation Object Model (FOM) that was needed to duplicate the DIS SETI exercise.  The initial FOM contained essentially all the data required by DIS.  The DIS model also influenced our understanding of the difference between objects and interactions.  Using the FOM as the basis, the Weapon Simulator Federate, the Display Federate, and the Range Surrogate identified the objects / data and interactions / parameters for which they were responsible.  The further subdivision of Range Surrogate into Range Interface Federate and Combat Control Federate followed the same process. Federation Integration and TestThe final configuration of software and hardware for the SETI HLA exercise in is shown in figure 5.  In putting together the actual exercise, the SETI team was concerned about a large number of hardware and software issues that had little to do with HLA itself.  For example, RTI version 1.0.2 required patches to handle the longer delays experienced across the wide area network.  Version 1.3 incorporates these corrections.  The patches were provided by the OSD Joint Advanced Distributed Simulation (JADS) program, a Joint Test and Evaluation (JT&E) program that is investigating the applicability of distributed technology, including HLA, to T&E issues.  The availability of suitable hardware at AUTEC required that the Range Interface and Combat Control Federates be run from the same hardware platform (“Host 1” in figure 5), although the processing for the Combat Control Federate was offloaded for encryption purposes to an HP platform for which RTI software does not exist.  The Range Interface and Combat Control Federates are currently undergoing HLA compliance testing.  The Weapon Simulator Federate is pursuing the possibility of both classified and unclassified compliance certifications.  Classified. The Weapon Simulator Federate when interfaced to the HWIL simulator operates only at a Secret level. Possible methods under investigation for compliance in the classified mode include using SIPRNET to support remote compliance testing and adding the compliance software to the WAF network and conducting the test locally.Unclassified.  The Weapon Simulator Federate can function as a standalone software interface package, providing “canned,” unclassified data instead of the classified simulated data. The standalone software package was used during SETI test workups and was particularly helpful for modeling the exercise in the Development Test Cell. Execute and Analyze ResultsThe SETI federation was executed in the at-sea test on 18-19 June.  The full report of the test is included in 98F-SIW-237.  As part of our analysis of our SETI HLA effort, we created a day-long workshop for the Common Test and Training Range Architecture (CTTRA) working group. A large part of the FEDEP analysis embodied in this paper was developed in preparation for the CTTRA presentation.CTTRA VIII FEDEP WorkshopThe Common Test and Training Range Architecture (CTTRA) is an OSD-sponsored initiative.  The premise of CTTRA is that a “common range architecture [is] required to achieve efficiency in range instrumentation and to ensure interoperability.” [2] The strategy used to work toward a common architecture has been to hold periodic workshops that focus the expertise of the test and training community on architecture requirements and interface standardization.  Like the SISO workshops, the intent is to attract a representative segment of the community, in this case test and training ranges, to get community input and transition. CTTRA has been the sounding board for the Test and Training Enabling Architecture (TENA) being developed by FI 2010 and was the source of the initial requirements for that effort.A SETI-based federation development exercise was conducted as part of the CTTRA VIII workshop, held at Eglin AFB 21-23 July. [3] The exercise involved over 100 range personnel from test and training ranges across the DOD in an interactive application of the FEDEP process to a simple “shooter-target-weapon” scenario using the SETI exercise as an example.  Because of the number of participants, three parallel groups were formed, each of which followed the same “lesson plan” but with slightly differing outcomes depending on the participant’s FEDEP choices.  The objectives of the CTTRA VIII workshop exercise were [4]Step through the building of an HLA exerciseUse DMSO Federation Development ProcessWith SETI as the sample problem Capture architecture needs for TENAGet feedback on using HLA at rangesThe CTTRA SETI exercise was divided into six sessions.   At each session, the SETI group leader introduced an HLA FEDEP process issue, provided a portion of the SETI solution, and led the group in a discussion of the complete solution.  The sessions paralleled the FEDEP process with two sessions being devoted to Federation Design, one for SOMs and one for FOMs.   On the assumption that “learning by doing” is the most effective road to understanding and to generating feedback, work sheets were filled in on-line by the workshop participants. A number of insights were gained from the interactive sessions.  These are a few.Range RequirementsAfter the SETI group leader presented the SETI customer objectives, the CTTRA participants were asked to identify some range objectives.  For many this was a non-productive process.  Others, however, came up with a variety of possible advantages accruing to the range, many of which involved expanding the range business base either directly, through the leave behind capability, or indirectly, through increased saleable knowledge. Most of the groups recognized that the new process adds new concerns beyond the immediate need to satisfy the customer.  The additional level of complexity makes tools to simplify interoperability activities essential.  TENA’s object model and the FI 2010 products are designed to satisfy these range needs.Perceived DataRanges and testers deal in perceived data.  The reference truth position is derived from range sensors and much of the debrief and analysis focuses on the difference between system operator perception and the range’s derived measurement perception, which is treated as ground truth.  If more than one sensor is perceiving the same object, more than one set of data can describe the object.  Therefore, although the object has, for example, only one position, it may have multiple perceived positions that are attributes of the object.  Understanding that the multiple perceived positions are attributes of the object not of the sensors that perceive the object comes primarily in the Conceptual Model Development phase and one of the CTTRA groups spent an extended period on this concept.Environmental DataEach group wanted to include the natural environment in the federation in some way. One of the SOMs described the environment object as the responsibility of the Range Interface Federate, but did not include it in the FOM.  The SETI group leaders recognized this as a route that they too had taken, but rejected because the environment is exchanged prior to the exercise and is not part of the run-time considerations.  As an alternative, we had done extensive work in pretest to normalize the live / simulation environment. The capability to incorporate the environment is very important and the SETI solution works only for simple scenarios. Tools are required to effective simulation-simulation and simulation-live normalization. The TENA object model is addressing environment considerations.Selecting a Simulation to Perform as FederateOne work sheet presented the opportunity to choose the weapon simulation that would be used by the Weapon Simulator Federate. “Fact Sheets” for four possible simulations were distributed.  These sheets were artificially adjusted to facilitate the decision process for an audience mostly unfamiliar with torpedos.One group read the Fact Sheets and pointed out that only one of the simulators fulfilled the major requirement of providing weapon telemetry data to the shooter.  This group saw no reason to evaluate the simulations at a more detailed level.  A second group evaluated each simulation in detail and ended by selecting a lower cost simulation that provided the majority of the data even though weapon telemetry was missing.This difference in reaction was based in part on the identification and understanding of customer and range objectives that had been conducted early in the process.HLA / RTI ConcernsThe SETI group leaders did not directly address the real-time capabilities of the RTI because the SETI exercise had been conducted with the already outdated RTI 1.0.2.  However, the CTTRA participants expressed concern that the RTI cannot and will not be able to handle live range data.  They recommended “getting HLA on the street” to  leverage users’ development and evaluation efforts.  They urged OSD and Service support of exercises like SETI to create and foster this leverage.CTTRA OutcomeThe CTTRA SETI exercise proved helpful to everyone involved, including the DMSO Cadre who provided HLA guidance and know-how to the groups.  A complete analysis of the feedback from the workshop, and particularly of the application of the HLA experience to TENA, is still on-going as this paper is being completed.References[1] See 97F-SIW-075. [2] Newcomers Briefing, Fifth CTTRA Workshop, May 1996.[3] Agenda for the Eighth Common Test and Training Range Architecture (CTTRA) WorkshopEglin AFB, FL 21-23 July 1998.[4] SETI: Synthetic Environment Tactical Integration, the Virtual Torpedo, CTTRA VIII, presentation by Gerald M. Santos. Author BiographiesGERALD M. SANTOS is presently Manager of the NUWCDIVNPT Undersea Battlespace (USB) initiative, Navy Deputy Executive Agent of the OPNAV T&E Modeling and Simulation Management Office (TEMS MO) and a Navy Lead for the CTEIP Foundation Initiative 2010.  The USB comprises the networks, communication standards / protocols and interoperability infrastructure needed to support distributed simulation of undersea warfare.  He has led Undersea Warfare participation in major distributed simulation exercises such as STOW-Europe and the Joint Precision Strike Demonstration ACTD.  He is co-author of the Navy T&E M&S Master Plan, served on the team that wrote the PEO-USW Master Plan, and is currently assisting with the Navy HLA Transition Plan.LARRY W. ROTHSTEIN is the Project Manager for the implementation of the FI 2010 Development Test Cell at NUWCDIVNPT and the lead Software engineer for the SETI VTP.  As NUWC test director for the SETI HLA test in June 1998, he was responsible for range / simulation communication and coordination.ROSEMARY ENRIGHT, a Senior Principal Analyst at Logicon Syscon, Inc, has supported advanced distributed simulation efforts at NUWCDIVNPT since 1993.  In support of the FI 2010, she was responsible for coordinating the SETI VTP test plans for both the April DIS test and the June HLA test.  She was internal test coordinator for NUWC participation in STOW-E, Kernel Blitz 1995, and the Joint Precision Strike Demonstration 1995 and 1996. Figure 3. The real world modeled for SETI EMBED Word.Picture.8  Figure 5. Distribution of federates and objects during the June testFigure 4.  SETI view of the exercise objects related to simulation / live range spaceFigure 2.  The FEDEP proceeds in five steps from customer requirements to results analysis.Figure 1.  SETI connects the live shooter on the range with a hardware-in-the-loop torpedo simulation in Newport, RI.