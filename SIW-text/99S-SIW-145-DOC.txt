AC-130U Testbed Migration to HLASusan HarkriderRodney Long(nice try for anonymity!)Robert MillerU.S. Army Simulation, Training,And Instrumentation CommandOrlando, FL 32826407-384-3926, 407-384-3928, 407-384-3685 HYPERLINK mailto:susan_harkrider@stricom.army.mil susan_harkrider@stricom.army.mil  HYPERLINK mailto:rodney_long@stricom.army.mil rodney_long@stricom.army.mil HYPERLINK mailto:robert_miller@stricom.army.mil robert_miller@stricom.army.milKeywords:FEDEP, DIS, Migration, FOM, Legacy System, RPR-FOMABSTRACT:  The U.S. Army Simulation Training and Instrumentation Command (STRICOM) and the US Special Operations Command  (USSOCOM) utilized the High Level Architecture (HLA) Federation Development and Execution Process (FEDEP) to migrate a DIS-based legacy system to an HLA federate.  This migration was performed primarily to satisfy the HLA mandate, however the education achieved far surpassed the need for compliance.  This paper takes a realistic look at the many design issues and tradeoffs associated with the development of an HLA federate and federation for training.The AC-130U testbed is the USSOCOM training system for the Navigator/Fire Control Officer and the Sensor Operator.  Since this system is currently in use for training, it was required to remain intact during the HLA migration.  Special emphasis was placed on development from a Special Operations Forces (SOF) Federation perspective rather than the individual federates.  The development process was complicated by many design considerations: the maturity of HLA applications and their ability to interface with versions of the RTI and the maturity of HLA tools and their implementation in the FEDEP process.  Of most importance was the USSOCOM user that will receive and utilize the HLA compliant training system.IntroductionTo meet the DoD’s HLA mandate, USSOCOM tasked STRICOM to implement an HLA capability for the U.S. Army’s Special Operations Forces (SOF).  STRICOM, as the procurement agent, formed an Integrated Product Team, or IPT, consisting of STRICOM, USSOCOM, and the Advanced Distributed Simulation Technology (ADST II) contractor team.  The IPT’s primary goal was to develop a  Federation to train special operations forces by applying the Federation Development and Execution Process (FEDEP), shown in Figure 1.  The IPT’s secondary goal was to leverage existing SOF distributed simulations.The Federation Development and Execution Process, or FEDEP, is a guidance document that describes a high-level process for developing HLA federations.  The FEDEP can be broken down to 5 major steps:Step 1: The federation sponsor and federation development team must define and agree on a set of objectives, and document what must be accomplished to achieve those objectives.Step 2: A representation of the real world domain of interest (entities and tasks) is developed, and described in terms of a set of required objects and interactions.Step 3: Federation participants are determined (if not previously identified), and a Federation Object Model is developed to explicitly document information exchange requirements and responsibilities.Step 4: All necessary federation implementation activities are performed, and testing is conducted to ensure interoperability requirements are being met.Step 5: The federation is executed, outputs analyzed, and feedback provided to the federation sponsor.2. Requirements DefinitionThe first step in Requirements Definition is to have the Sponsor develop a Problem Statement, which identifies items such as any Critical Systems of Interest, Fidelity/Resolution of the simulated Entities, resources (funding) available, and due dates.  Once this is done, the Federation Development Team can work with the Sponsor, translating these high-level needs to measurable federation objectives.  The results of this effort could include a Prioritized List of Measurable Objectives, Federation Development Plan, identification of Sponsor Furnished Equipment, and the Operational Context of the simulation, including details such as the geographical region, environmental conditions, threats, and tactics to be modeled.The Sponsor of the SOF Federation specifically identified the AC-130U Aircrew and Avionics Maintenance Training Device, located at Hurlburt Field, Ft. Walton Beach, Florida, as the critical system of interest.  The AC-130U is a man-in-the-loop (MITL) simulator for operator training and mission rehearsal specifically supporting the Navigator/Fire Control Officer and the Sensor Operator stations.  Since this system is currently in use for training, it was required to remain intact, with full simulation capability, during the HLA migration.  Using this Problem Statement/Definition as a starting point, STRICOM, USSOCOM, and the ADST II team began working on a Federation Development Plan.  The AC-130U was an existing distributed simulation based on the Distributed Interactive Simulation (DIS) protocol which would be migrated to use the HLA.  Other existing simulations and supporting tools currently being used at Hurlburt Field were also identified for possible use in the federation including Modular Semi-Automated Forces (ModSAF) and Simulyzer, which is a stealth, data logger and exercise management tool.  USSOCOM provided an existing scenario to be used for the Federation Execution.The scenario was based on an imagined situation in which scenario intelligence data reported that communist guerrillas in the Barstow area were preparing for a major offensive against UN Forces in the Ft. Irwin/National Training Center area.  Advanced firepower, stockpiles of weapons, ammunition and other articles of war were believed to be stored at the Barstow airport.  The armed guerrilla team consisted of highly skilled and mission ready crews who were well-versed in offensive type activities.  Known air and ground vehicles in possession of the adversaries included MIG-29s, MI-24s, MI-8s, T-72s, T-80s, BMP, BTR60s, and ZIL 131s.  The AC-130U was tasked to provide support for an airfield seizure and an airbase defense activity, along with the destruction of assigned targets.  Additional tasking included combat recovery/combat search and rescue for downed friendly aircraft.  The scenario took place during daylight hours, with unlimited visibility and favorable weather conditions.3. Conceptual Model DevelopmentThe goal of the Conceptual Model Development phase is to create a representation of the real world domain of interest (entities and tasks), described in terms of required objects and interactions.  3.1 Scenario developmentThe exercise scenario identifies the major entities that must be represented by the federation and the relationships between the entities over time.  The effects of environmental conditions on entity behaviors should also be captured.  For the SOF Federation, USSOCOM provided an existing SWUSA scenario used for training, which was described previously.3.2 Conceptual analysisThe focus of Conceptual Analysis is to utilize the scenario to identify federation objects, static and dynamic relationships between object classes, and behavioral aspects of each object class.  When these elements are documented in the Object Model Template format, it is considered an ideal FOM, since it was generated independently of whether there are existing simulations that can support it.  Because the SOF Federation was centered around legacy DIS simulations, the conceptual analysis was completed informally, using the pre-existing Real-Time Platform Reference Federation Object Model, or RPR FOM.  The RPR FOM maps simulation data exchanged between legacy distributed simulations using the DIS protocol into object classes and interactions.  The companion document to the RPR-FOM is the Guidance, Rational, and Interoperability Modalities for the Real-time Platform-level Reference Federation Object Model and captures how the data in the RPR FOM is to be used.4. Federation DesignThe primary purpose of the Federation Designused in the Federation.  Simulation Object Models (SOMs) can be used to assess whether an existing simulation supports the federation objects and interactions of interest.  The Object Model Library (OML), a repository of HLA Object Models, can support this activity.  The sponsor of the SOF federation had specifically identified the DIS-based legacy simulations and tools that were currently being used by USSOCOM: the AC-130U Testbed, two Modular Semi-Automated Forces (ModSAF) Systems, and a Simulyzer Stealth, Data Logger and Exercise Manager.  Since these systems had worked together using DIS, interoperability issues such as terrain correlation and environment representation had already been addressed and development could be focused on HLA migration strategies. 5. Federation DevelopmentDuring the initial development of the SOF Federation, the IPT considered the options to migrate the DIS legacy systems to HLA.  The team limited the options for migration of the Federates to a DIS-HLA gateway product or an HLA middleware product.  The decision to limit to these two choices was made due to ability of these products to be rapid and cost-effective adaptations to DIS based legacy systems.   There are many DIS-to-HLA gateways and middleware solutions available on the market, and also many compatibility issues associated with the use of each.  For example, the IPT found that as RTIs evolve, many of these implementation tools lag the RTI development.  Since current copies of the RTI are not backward compatible with older versions of that software, this lag prevented the SOF Federation from using the latest version of the RTI.  The IPT also found  that many of the current HLA implementation tools are FOM dependent.  These FOM dependencies  restricted the SOF federation to the RPR  FOM and in turn restricted access to some of the capabilities of the HLA.  The IPT determined that the HLA services that could be accessed using the RPR FOM were sufficient for the SOF federation and the services that could not be accessed were not necessary for a real-time, DIS based legacy system.   The IPT also found that some of the HLA tools are further limited in the hardware platforms and operating systems supported.   Given the many compatibility issues among HLA tools, RTIs and HLA federates, the IPT determined that Federate migration to HLA must be done while simultaneously considering the issues of the entire federation.Another very important consideration in federation development is the evaluation of legacy federates that are not currently HLA compliant and are not within the control of the sponsor.  Although these applications are still useful in training exercises, they pose a problem to HLA federation designers.  For example, there are several DIS-based commercial-off-the-shelf or government-off-the-shelf (COTS/GOTS) applications that are not yet (and may never be) HLA compliant.  There are also large simulation programs that are still in the process of migrating to HLA.  Within the SOF Federation there were multiple federates within this category.  Each of these federates required a DIS to HLA gateway to allow them to participate in the federation.  Use of a DIS to HLA gateway limits the capabilities of the federation but it is a viable interim solution and a tradeoff that must be made while the DoD and Industry transition to HLA.  6. Federation Integration & TestThe goal of the Integration & Test phase is to ensure that all Federation implementation activities have been performed and that Federation interoperability requirements are being met.  During Execution Planning, all information required to support Federation Execution is captured, including performance requirements for the hosts computers and network.  In the Integration & Test phase, all federation participants are brought together, into a common operating environment, to test that the federates can interoperate to the degree necessary to meet federation objectives.6.1 Federation execution planningThe Federation Execution Planning Workbook provides a common structure to capture essential performance and implementation requirements of the RTI and individual federates.  The manual version of the Workbook was  completed under the initial phase of the SOF federation, but it was not critical to the  exercise success.  The FEPW Editor will be used during further development as the federation grows larger and more complex. In addition to the Workbook, the RTI Initialization Data (RID) file, FOM, and the Federation Execution Details (FED) file provide the Federation Developer with all the execution-specific information needed to operate and monitor the federation.6.2 Federation integration and testThe FEDEP defines three levels of testing: Compliance, Integration and Federation testing.  Compliance testing is performed on the individual federates and ensures that the Federate can properly use the RTI services and has documented its Simulation Object Model, in accordance with the Object Model Template.  Integration Testing brings the federates together as a whole to determine if the federates can exchange data as described in the Federation Object Model.  And finally, Federation testing determines if the federation can interoperate to the degree necessary to execute the federation scenario and meet all federation objectives.6.2.1 HLA compliance testingThe goal of the SOF Federation was to have the AC-130U federate certified for HLA compliance.  The other supporting simulations and tools would be used in the Federation through the HLA Gateway, but would not be certified (the HLA Gateway had been certified with another DIS-based simulation).During Compliance Certification Testing, Federates are tested to the HLA Specifications, including the RTI Interface Specification, the Object Model Template, and the HLA Rules.  The Certification testing process is straightforward and is supported by automated tools to reduce time and cost associated with testing.  The Federate Under Test (FUT) submits a description of its capabilities via a SOM and a Conformance Statement (CS) to the Certification Agent.  The Certification Agent  then tests the SOM for compliance with the Object Model Template.  Also a sample of the SOM is selected for demonstration by the Federate during Interface Testing.  During this test, the Federate will go on-line with the Certification Center and demonstrate that it can properly use the RTI services for the selected SOM data.  The Certification agent verifies that the federate conforms to the specifications by analyzing logged test data.The AC-130 Certification testing was performed on-site at Hurlburt Field, due to the security classification of the building, along with the classified nature of most training exercises.  The SOF IPT determined that the best method for demonstrating the use of the RTI services was to develop a compliance test scenario.  The test scenario consisted of the federate actions required to invoke the RTI services under test.  This test scenario greatly expedited the compliance test process and allowed the test team to replicate the test as needed.   Each run of the test scenario was completed in approximately 40 minutes.  6.2.2 Integration testing A testbed was created for the SOF federation at the ADST II facility in Orlando, FL.  The testbed consisted of identical hardware and software available at the Hurlburt Field training facility.  A host emulator for the AC-130U man-in-the-loop simulator was available and allowed much of the HLA development and integration to be performed at the development site versus the training facility.  The Host Emulator was updated  to accept ownship movement, to include host control data input screens, and to interact with the HLA Interface Unit (HLA-IU).  The HLA-IU is a modification to the pre-existing VR-Link middleware implementation, so that HLA objects and interactions could be utilized in the exercise.  The software changes made to the existing code were stored on removable disk drives, in order to facilitate integration at the site.  Once at the training facility, the implementation of software changes was a minimal effort, and other tasks were limited to network configuration changes to the router, and the installation of a new Ethernet card.  Implementation and testing was completed during off-shifts, and the existing capability was restored prior to each training day.Some interaction with tool vendors was required during integration testing to provide a consistent HLA representation across all federates.  The major inconsistencies requiring consultation with the vendors included DIS Protocol Data Unit (PDU) representations and RPR FOM implementation discrepancies. 6.2.3 Federation testingFederation testing was completed both at the ADST II testbed and at the training facility.  Federation testing consisted of execution of the actual SWUSA scenario, to ascertain if the federation interoperated to the degree required to achieve the exercise objectives.  The AC-130U subscribed and published interactions successfully in accordance with the RPR FOM.  7. Federation ExecutionThe objectives of the federation execution for the SOF Federation included a proof of principle of the HLA concepts and a comparison of HLA to the existing DIS infrastructure present at the training site.   The initial goal was for the new HLA infrastructure to be transparent to the training audience, proving that HLA was just as capable as the DIS implementation it was replacing.  This transparency was easily proven.  The real benefits of the HLA in the Federation Execution will be noticeable after an upgrade to the AC-130U system that will come in follow-on work on this project.8. Lessons LearnedThis migration was performed primarily to satisfy the HLA mandate, however the education achieved far surpassed the need for compliance.  Special emphasis was placed on development from a Federation perspective rather than the individual federates.  Much of the success of this effort stemmed from the ability to replicate capability in a testbed, and then transferring that capability to the training site.  Training capability is maintained, while the limited system time available is maximized.  Configuration management during and after development and implementation is critically important. The development process was complicated by many design considerations: the maturity of HLA applications and their ability to interface with versions of the RTI, and the maturity of HLA tools and their implementation in the FEDEP process. The versions available for GOTS and COTS software created dependencies for related software, and was sometimes confusing.  The software versions chosen are included in Figure 2.  Secondly, the HLA-IU was developed as a removable interface for exercises, allowing the reversion to the previous protocol as necessary.  However, due to the success of the implementation of HLA, the HLA-IU will become a part of the AC-130U baseline software.SoftwareVersionRPR-FOM VersionCompilerOperating SystemRTI1.0.3N/AIRIX IRIX 6.2VR-Link3.20.3IRIS 7.1IRIX 6.2 or 6.4HLA Gateway2.10.3IRIS 7.1IRIX 6.2Figure 2 - Finally, the user of the system can be a major factor in the path selected for migration to HLA.   The USSOCOM user required that a DIS capability be maintained, that the integration be done on a non-interference basis and that legacy tools remain available for use.  These constraints played a major role in the selection of the DIS-HLA gateway and the VR-Link product for the HLA migration.     The USSOCOM user  as well as the USSOCOM sponsor, were comfortable with the simulation capability already in place and skeptical of the HLA implementation.    The HLA implementation effort was designed to minimize interruption and prove the merits of HLA, while providing additional simulation capacity.  The success of the task proved the initial transparency of the capability to the user, but will allow a more robust training experience in the next phase of implementation. 8.1 MetricsCost of HLA compliance is always a significant issue in the development of a federation.  SOF HLA provided insight into multiple cost issues.  The cost of federation development may be broken down into several different categories, including education costs, federate development costs, integration costs, and testing costs. Education Cost – Education costs include the time to educate a well-versed software development team in HLA concepts.   The SOF HLA IPT spent approximately 480 staff hours to thoroughly understand the HLA and the issues surrounding HLA development.  Federate Development Cost - The developer of an HLA federation must address each application that will be included in the HLA federation.  These applications will typically include simulators, simulations, Semi-Automated Forces (SAF), and tools such as data loggers, stealths, and plan view displays.  The cost for integrating each federate into the HLA federation varies depending on the implementation method used.  Implementing a DIS to HLA translator, i.e., the HLA Gateway, takes approximately 40 Staff Hours.  Implementation of a translator that uses the data output of the simulation, i.e., VR Link, takes approximately 400 Staff hours.     Integration Cost – Integration costs include the time to work out any inconsistencies discovered among the federates and the time to update the implementation tools.  The SOF_HLA federation required approximately 440 staff hours for integration.  Other integration costs to consider include hardware to host the Gateway or additional hardware to support the integration.  For example, the HLA Gateway requires an SGI Indy host at a minimum, but it can be hosted with another application with sufficient memory.Testing Cost – SOF compliance testing costs were minimal because the Defense Modeling and Simulation Office (DMSO) tested the SOF systems free of charge.  The only support required was the SOF IPT staff to help run the test.  The SOF HLA federation required approximately 40 staff hours to support the testing.  The SOF HLA Federation was completed from project initialization through compliance testing in approximately 6 months.SummaryThis paper examined many design issues and tradeoffs associated with the development of an HLA federate and federation for training.  The real advantage of the HLA is the way it lends itself to composing a training system to meet the training need.  After the completion of this first phase of the SOF Federation, STRICOM and USSOCOM intend to continue to enhance the federation to completely exploit many aspects of the HLA.  Future plans for the SOF Federation include improvements to simulation fidelity, expanding scenarios, evaluating bandwidth usage, and increasing the number of HLA compliant players in the training event.  In addition there are plans to upgrade to the latest version of the RTI and switch to new and improved HLA tools.References[1] U.S.Department of Defense:  “HLA Federation Development and Execution Process Model, Version 1.2”, 26 May 1998.[2] U.S.Department of Defense: “High-Level Architecture Object Model Template Specification, Version 1.3”, February 1998.Author BiographiesSUSAN HARKRIDER is a Systems Engineer employed by the US Army Simulation, Training and Instrumentation Command.  Ms. Harkrider divides her time between the SOF Federation development and the Close Combat Tactical Trainer (CCTT) production.  Ms. Harkrider holds a B.S and a M.S. degree in Engineering from the University of Central Florida.RODNEY LONG is a Computer Engineer for the U.S. Army Simulation, Training, and Instrumentation Command.  Mr. Long holds a B.S.E in Computer Engineering from the University of South Carolina and has 11 years of experience in modeling and simulation for the training community.ROBERT MILLER is an Electronics Engineer for the U.S. Army Simulation, Training, and Instrumentation Command.  Mr. Miller is responsible for HLA research and development for transition to STRICOM training systems.  Mr. Miller holds a B.S. in Electronics Engineering from George Mason University.            Figure 1 - The 5 Step Federation Development and Execution Process EMBED Word.Picture.8  