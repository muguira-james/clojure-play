Support Infrastructure At The MWTBPaul C. ColonnaPaul MondayLockheed Martin Technology Service Group2021 Black Horse Regiment AvenueP.O. Box 613Fort Knox, KY 40121502-942-1092 HYPERLINK mailto:paul.c.colonna@adstii.com paul.c.colonna@lmco.com,  HYPERLINK "paul.monday@lmco.com" paul.monday@lmco.comKeywords:DIS, NTP, Infrastructure, Site Support, ADS, Non-HLAABSTRACT: This paper describes the development and implementation of an infrastructure supporting distributed simulation experiments at the Mounted Warfare Test Bed (MWTB) center at Ft. Knox, KY, consisting of an intranet web site/server, Time Control System (TCS),  and network segmentation via routers.The intranet web site/server provides centralized sources of site information, experiment results, documentation, software downloads, and message boards greatly enhancing the flow and dissemination of information and support at the site.  Productivity, efficiency and versatility were significantly improved through its use as a configuration management resource allowing for quick and controlled downloads of experiment specific software versions and their subsequent revisions.  Hosted on a single dedicated workstation, users can access a wide variety of site specific information, download revised versions of ModSAF software, terrain databases and other experiment specific software/data.  In addition, operators and technicians can quickly and easily set experiment options, configure workstations, read software documentation/operator hints and view experiment results.The Time Control System (TCS) provides a single accurate time source that is used for wall displays, computer systems, data loggers, and video recorders. It continuously synchronizes all systems to a GPS time source that generates IRIG-B time code signals.  Several synchronized digital wall clocks are located throughout the building providing accurate visual time references.  NTP servers that get their time from the IRIG-B network provide time synchronization for workstations, personal computers, and simulators.  Video inserters utilizing this same signal can add time information to video signals for recording by VCR’s.Through the use of a series of Cisco 2500 routers and different domain addresses, the site can support concurrent DIS experiments throughout the building.  PDUs generated for one particular experiment will not interfere with those of a different experiment, yet all workstations can utilize the other infrastructure supports such as the TCS and the intranet web site.  This connectivity enhances the network structure and aids in the control and management of multiple simultaneous experiments.Improving the support structure enables the testbed site to increase its efficiency and versatility to support a multitude and variety of experiments.  These components provide efficient and cost effective utilities toward that end.1. IntroductionAs part of an ongoing effort to maximize the facility's resources and provide an efficient and cost effective environment for the implementation of ever-increasing complex DIS simulations, a number of effective tools have been developed at MWTB.  The Time Control System, intranet website, and network segmentation additions to the support infrastructure have enabled the site to provide more comprehensive and accurate support to the numerous and varied experiments conducted over the past year.1.1 TCS ArchitectureThe Time Control System (TCS) provides a single accurate time source that is used for wall displays, computer systems, data loggers, and video recorders.  Once installed, it continuously maintains all systems to a GPS time source without operator intervention. The architecture of the TCS is based on a single, accurate GPS clock that generates IRIG-B time code signals.  Five IRIG-B synchronized wall clocks are located throughout the site providing accurate visual time references.  A Network Time Protocol (NTP) server that gets its time from the IRIG-B network provides time synchronization for workstations, personal computers, and simulators. Video inserters add time information to video signals for recording by VCR’s.The elements of the MWTB TCS are:Network Time Protocol (NTP)Global Positioning System (GPS)  ReceiverIRIG-B Security InterfaceTime Code RegeneratorLarge Display Wall ClocksVideo InsertersNTP ServersIRIG-B Signal Conditioner.Figure  SEQ Figure \* ARABIC 1.1: TCS Architecture1.2 Network Time ProtocolCentral to the TCS is the Network Time Protocol (NTP) which is used to synchronize the time of a computer client or server to another server or reference time source, such as a radio, satellite receiver or modem. It provides client accuracy typically within a millisecond on LANs and up to a few tens of milliseconds on WANs relative to a primary server synchronized to Coordinated Universal Time (UTC) via a Global Positioning Service (GPS) receiver, for example. It takes into account variations in network delay and latencies in computer hardware and software (jitter), as well as clock oscillator instability (wander).  It makes very low demands on network bandwidth.  Public domain software is available for nearly all computers in use today, and many operating systems now include NTP.The standard timescale used by most nations of the world is Universal Coordinated Time (UTC), which is based on the Earth's rotation about its axis, and the Gregorian Calendar, which is based on the Earth's rotation about the Sun. The UTC timescale is disciplined with respect to International Atomic Time (TAI) by inserting leap seconds at intervals of about 18 months. UTC time is disseminated by various means, including radio and satellite navigation systems, telephone modems and portable clocks.Synchronization protocols work in one or more association modes, depending on the protocol design. In client/server mode, a client synchronizes to a stateless server as in the conventional RPC model. NTP also supports symmetric mode, which allows either of two peer servers to synchronize to the other, in order to provide mutual backup. NTP supports a broadcast mode, which allows many clients to synchronize to one or a few servers, reducing network traffic when large numbers of clients are involved. [1]Additional information about NTP and a listing of sources of primary time servers can be found at  HYPERLINK "http://www.eecis.udel.edu/~mills/ntp/index.htm" http://www.eecis.udel.edu/~mills/ntp/index.htmThe NTP at the site works in a server-client relationship and gets its time directly from a W. Clark GPS-200 Master Clock. A NTP client runs on every computer that should be synchronized, including workstations, simulators, and personal computers.  At boot time, the NTP client sets the system clock from the NTP server.  Then the client process periodically polls the NTP server for time information and uses the information to adjust the system clock, taking into account clock offset and drift.  Once configured, NTP continuously keeps each client machine synchronized without any operator actions.1.3 GPS Time Code GeneratorGlobal Positioning System (GPS) satellites send signals that contain accurate time information.  This time is based on onboard cesium and/or rubidium clocks, with correction factors to US Naval Observatory time clocks uploaded once per day.  The GPS time is accurate to < 1 microseconds.  The MWTB uses a W. Clark GPS-200 Master Clock.  Figure 1. SEQ Figure \* ARABIC 2: GPS-200 Front viewThe GPS time code generator reads the satellite signals via a small antenna on the outside of the building, and transmits time code signals in an IRIG-B format.  During the 1960’s, the InterRange Instrumentation Group developed a series of time code formats now referred to as IRIG Time Codes.  IRIG-B is one of these formats, and consists of an amplitude-modulated 1000 Hz sinewave, where each symbol is encoded as ten full carrier cycles, or 10 ms in duration. The IRIG-B time code signals are carried throughout the building via coax wire.  There are no special constraints on the connections or the configuration of the network.1.4 IRIG-B Security InterfaceIn order to prevent any possibility of computer signals being leaked onto the GPS antenna, staff at the MWTB is developing the IRIG-B Security Interface.  It will provide a one-way interface using optical couplers between the generated IRIG-B signals (GPS clock) and the IRIG-B network.  The development of this fiber optic system offers the further enhancement of time signal transmission over other fiber optic networks.1.5 Time Code RegeneratorThe Time Code Regenerator is really just a conventional time code generator that is synchronized to the GPS clock.  This device ensures that continuous time signals will be transmitted over the IRIG-B network, even if the GPS clock fails.  Use of this device is optional.The MWTB is using a Datum 9700 PTS for this function.Figure 1. SEQ Figure \* ARABIC 3: Datum 9700 PTS1.6 Large Display Wall ClocksMWTB uses large-format wall clocks from W. Clark: TCD-6 (8”) and TCD-46 (4”) making it easy to read the current time from anywhere in the simulator bay.  They automatically synchronize themselves to the IRIG-B signal.  The large (8”) clock indicates synchronization by flashing the colon for one second on the minute. Figure 1. SEQ Figure \* ARABIC 4: TCD-86 Clock with 8” digitsFigure 1. SEQ Figure \* ARABIC 5: TCD-46 Clock with 4” digits1.6 Video InserterVideo recordings are commonly made during exercises, either from a video camera, or from a computer image generator.  In either case, the video inserter can be used to overlay the video image of the time (HH:MM:SS.SSS) onto the video image before it is recorded.  Then the time can be viewed whenever the recording is played back.  A special VCR is not required.The video inserter accepts IRIG-B time code signals, and an input video signal.  It combines the two, and outputs a video signal that can be viewed and/or recorded. EMBED Word.Picture.8  Figure 1. SEQ Figure \* ARABIC 6: Video Inserters – Front & Rear ViewsSince the video inserters use the IRIG-B signal, it should describe local time.  This is different from the typical approach, where the IRIG-B is of UTC (GMT) time.  This use of a local time complicates the NTP server somewhat, requiring that the GPS Time Code Generator be configured to compensate.  There are a few internal jumpers that control the output format and time zone, which can be set to reflect local time. 1.7 NTP ServersAt the MWTB, Sun IPX workstations are used as dedicated NTP servers.  Even though commercial NTP servers are available, the use of the Sun IPXs allows separate servers to be used for each subnet if necessary.The NTP server includes software to read IRIG-B time code signals via the audio port.  This software was modified to add debugging information, and additional capabilities.  Each Sun IPX then acts as a Stratum 1 server, and all of the servers get their time from the IRIG-B network.  Note that any Sun running Solaris 2.5.1 or later could be used as a server.Figure 1.7: Snapshot of “ntp” screen1.8 IRIG-B Signal ConditionerSince the Sun’s audio port has low impedance, connecting it directly to the IRIG-B network would greatly reduce the signal strength to other devices.  It would be much worse if three or four Suns were connected to the IRIG-B network.  To prevent this effect, the IRIG-B Signal Conditioner was developed.  Each Conditioner amplifies the signal separately to four channels.Figure 1.8: IRIG-B Signal ConditionerThe amplifier changes the 3-5 Vpp high impedance signal at the input to a 100 mV low impedance signal, and allows adjustment of the signal from 0 to ~400 mVpp.  In addition, the signal conditioner provides a minimal load on the IRIG-B network.  A power indicator and connection fault indicator for each output allows troubleshooting.2. Intranet Web Site/ServerThe intranet web site/server provides a centralized source of site information, experiment results, documentation, software downloads, and message boards greatly enhancing the flow and dissemination of information and support at the site. Hosted on a single dedicated workstation, running Apache 3.6 webserver software, users can access a wide variety of site specific information, download revised versions of ModSAF software, terrain databases and other experiment specific software/data.  In addition, operators and technicians can quickly and easily set experiment options, configure workstations, read software documentation/operator hints and view experiment results.Developed initially and first used for collecting participant feedback and distribution of satellite pictures in support of an experiment, it has expanded over time into an indispensable tool central to the site's successful implementation and conduct of experiments.  Acting as a central repository of programs and information, the server now performs a large number of functions essential to the site's operations.  Productivity, efficiency and versatility were significantly improved through its use as a configuration management resource allowing for quick and controlled downloads of experiment specific software versions and their subsequent revisions.Figure 2.1 Index PageAs can be noted from the site's index page, the user can access a wide variety of information about the MWTB site as well as view previous and current experiment results, documentation, etc. This provides for timely dissemination of results as well as permitting continual updating of changing information.However, the most significant utilization of this component lies in its ability to serve as a configuration management resource.  From the index page, the user can access a page with links to download software revisions unique to a particular type of hardware and experiment protocol.Figure 2.2 Download pageSubsequent revisions and updates can be quickly and easily propagated and do not require extensive operator knowledge.  To download a ModSAF revision, the operator merely clicks on the link for the specified hardware type and a script will remote copy the tarred and gzipped file to the station, unzip and untar it into the proper directory.  There are currently over ninety versions of ModSAF on the server covering releases 3.0 through 5.0.  An added benefit of this central repository of software, is the ability to easily reconfigure a machine to a prior experiment's particular vehicle models and other special software enhancements.  Any prior version's executable and/or data files can be downloaded and installed simply with a couple of clicks.Significant improvements in both speed and quality control were accomplished in the site's ability to adopt and implement changes both before and during experiments.  In one recent experiment, the customer was requesting new vehicles be developed and added on the next run or that a current vehicle type be enhanced in some manner. During the execution of a trial (usually lasting 60 to 90 minutes) a developer would make the requested change(s) and post it to the server (see Figure 2.3).  On the break between runs, ModSAF operators would download and install the new revision, which resulted in minimal disruption and downtime despite thirty such revisions onto twenty machines of varying types.Figure 2.3 ModSAF PatchesThis same approach is used for downloading new or revised terrain databases or other miscellaneous files necessary for the workstation configuration and operation.  Our site currently has over thirty different ModSAF terrain databases in both big endian and little endian formats.Figure 2.4 Terrain DatabasesIn addition, an operator can utilize the same methodology to display and/or set a wide variety of ModSAF parameters.  By clicking on the relevant link an operator can set ModSAF command-line arguments.  This enables the operator to individually tailor a workstation for any number of different parameters and/or roles.  In effect, this provides ModSAF with a user-friendly graphical interface for configuration arguments.  Again, significant savings in time and quality control were achieved, especially in one recent experiment which involved over sixty ModSAF workstations, each of which was unique in its configuration parameters.  ModSAF operators also used this same option to send core dump files and/or messages for debugging and problem fixing by an engineer (see figure 2.5).Figure 2.5 Operations and ParametersAs a tool for dissemination of information, the server aids both the experiment participant and operator/engineer.  For the operator/engineer, a manual page provides access to over twenty-five documents containing software manuals, user guides and information documents.  This provides easy access to needed information from anywhere within the site.Figure 2.6 DocumentationThe experiment participant can access a wide variety of information relevant to that experiment such as was recently utilized in the following experiment page.  Timely posting of results and other information greatly enhanced the communication between participants and site support personnel.Figure 2.7 Experiment ResultsThe improvement and updating of this component continues as its versatility and usefulness lends itself to many different situations.  New applications and uses are being developed regularly as each new experiment provides further insights and new utilizations.3. Network SegmentationSupport for conducting different experiments simultaneously is accomplished through network segmentation via routers, which allows for non-interference from varied DIS experiments while maintaining connectivity across the network.  MWTB maintains and supports a heterogeneous Ethernet network that is independent of operating systems and architectural differences. Different experiments are assigned a unique Class C domain address and all of the hosts are assigned a permanent address.  Therefore equipment, whether it be a simulator or workstation can be assigned to a particular experiment by altering its Class C domain address to match. Utilizing a series of Cisco 2500 routers as gateways, all of the sites' hosts remain connected thereby enabling utilization of the other infrastructure supports such as TCS and the intranet website.ModSAF Protocol Data Units (PDU) generated by a machine in one particular experiment will be delivered across that experiment's network according to the TCP/IP protocol.  However, these same PDUs will not be delivered onto another experiment's network which contain a different Class C domain address.  Hence, the various experiments remain isolated as if on different physical nets, yet are still connected for other network functions.  This same functionality could be accomplished using different experiment ID's or UDP port numbers.  However, these techniques would impose a larger load on the bandwidth or machine's processor, both critical elements in experiments involving large entity counts.This methodology greatly facilitates the site's ability to support simultaneous large-scale experiments.  Any platform can be quickly configured for use in a particular experiment by changing its IP domain to the chosen experiment's domain.  Using the site's intranet webserver, relevant software and configuration information can be downloaded and set.  Particular care must be  taken with respect to maintaining an updated host table.  To that extent, the site's intranet  website can be used to maintain and download the correct version.The use of the routers and network segmentation in combination with the intranet website has greatly enhanced the ability of the site to support concurrent experiments and allow for greater flexibility in hardware utilization as well as ease of setup. 4. ConclusionThese additions to the site's support infrastructure have resulted in significant improvements. Its ability to support larger and more varied experiments in an efficient and cost-effective manner has been greatly enhanced through the use of these utilities.  Hardware setup and changes were simplified, all workstations are time-synched and communication and coordination throughout the site improved.  This system continues to evolve with each subsequent experiment as new uses and improvements of these components are discovered and developed.5. References[1]   HYPERLINK "http://www.eecis.udel.edu/~mills/ntp/index.htm" http://www.eecis.udel.edu/~mills/ntp/index.htmAuthor BiographiesPAUL COLONNA is an Operations Research Analyst at the Mounted Warfare Test Bed, Ft. Knox, KY.  He has been working on data analysis and simulation software for the ADST program for 2 years.PAUL MONDAY is an Operations Research Analyst at the Mounted Warfare Test Bed, Ft. Knox, KY.  He has been working on ModSAF, data analysis, and simulation software for the ADST and SIMNET programs for 12 years.