Using SEDRIS for Rrepresentation and Iinterchange of Eenvironmental Ddata insignatureSignature Pprediction and Ssensor Ssimulation AapplicationsMr. Long NguyenNaval Air Warfare Center, Training Systems DivisionOrlando FL HYPERLINK mailto:nguyen@nawctsd.navy.mil NguyenLK@navair.navy.milMr. Russ Moulton, Jr. JRM Technical and Defense Services, Inc.Suite 1A 1 Hemlock Ct.Fredericksburg, VA HYPERLINK mailto:russ.jrm@eosoft.com russ.jrm@eosoft.comKeywords:  sensor simulation, SEDRIS, IR, thermal, signatureAbstract: The SEDRIS Programproject has done much to advanced a much-needed standard environmental data representation and interchange mechanism withinfor  the M&S community. Several significant "out-the-window" native environmental database formats have already been successfully translated into other native formats via the SEDRIS data model and API. Release 2.0 of SEDRIS substantially extended its capability in accommodating military-relevant sensor representations.  Among these extensions include multi-dimensional data-tables and axes, reference vectors, and the SEDRIS Environmental Data Coding Standard (SDCS), which provides for the necessary sensor-related classification and property, and  classifications , and attributions of the environmental data.  These surface-optical, thermo-physical and electro-magnetic properties, and other data representational extensions, support common end-user signature synthesis models to simulate FLIRs, NVGs, radars and other sensors through which the combatant views his environment. Herein the authors present some common technical issues surrounding the capture of environmental data for sensor representations in SEDRIS.  By manner of illustration of these issues and the aforementioned extensions in the SEDRIS data representation model, a complete mapping of the NVESD's Paint-the-Night (PTN) thermal IR database format to SEDRIS 2.0 is also presented.IntroductionSensors are the means by which we perceive and interact with our world, or in military parlance, the battle-space.  Whether we rely on our unaided eyes, contact lenses, glasses, our ears, night vision goggles (NVGs), a FLIR, a laser, a radar, or a sonar, the mechanism is the same: the energy emitted or returned defines our environment representation.  Passive sensors like our eyes, a FLIR, or a passive transducer collect energy emitted from objects in the environment or  the environment itself; while active sensors like a laser, a radar and or an active sonar transducer capture reflected energy they projected into through  thethrough the environment.   In either case, they the results are used to evaluate these objects and define what is relevant about the environmental representation to the viewer.Synthetic environments (SE) are no different in this regard. All simulated representations of the natural environment happen with some form of sensor model.  Whether these models take the form of an “out-the-window” viewing frustum through the unaided eye, direct view optics (DVO), FLIR, radar or computer-generated forces (CGF) line-of-sight (LOS) calculation, all of these sensor models involve some determination of the energy collected from the SE by the viewer.  These models attempt to capture the appropriate representation of the synthetic environment by approximating some known physical phenomenon.  RGB texture is an example of a sensor model toward the unaided eye out-the-window view.  A CGF LOS calculation is an example of a sensor model describing whether or not there is direct propagation of energy between two points.A sensor model is the translation of the SE into an entity’s perception of that SE.  In general, a sensor model can be thought of in 3 phases: (1) an SE signature, source signature or quantity synthesis portion, (2) an SE propagation portion, and (3) a sensor processing portion. SE databases attempt to capture to some level of fidelity of the environmental characteristics that drive support the environmental data needs for Phase (1) and (2) models.   (Russ, for me the differentiation between Phase 1 and 2 is king of difficult to relate to…but tried to conform. ) Polygons, textures, colors, features, materials, and electro-magnetic (EM) properties are examples of SE quantities that drive Phase (1) models.  Aerosol distributions, smoke cloud spectral transmissivity, water salinity, and density, temperature, and roughness and smoke cloud spectral transmissivity are examples of SE quantities that drive Phase 2 models.  Optical transfer functions, antennae array gain, detector noise profiles, electronic filters and display characteristics are examples of quantities that drive Phase 3 models.  This final phase typically leads to some ambiguity in the M&S community, as the R&D sub-community refers to this portion as the “sensor model”.   It is therefore important to draw a distinction between sensor-related SE quantities involved in Phases 1 and 2, and the quantities describing the sensor itself in Phase I3.   Every native SE database has some typically unique approach to capturing sensor-related quantities that support some form of run-time Phase 1 and Phase 2 models.  Frequently, there is great commonality among native models, and similarities in the associated types of SE sensor-related quantities.  Perhaps no-where is this more apparent than in visible spectrum modeling, where the consistent use of textures, polygon RGB colors, and light sources has become ubiquitous thanks to industry standards such as OpenGL.  The SEDRIS program has successfully demonstrated a standard SE data representation model that captures these visible quantities. With SEDRIS 2.0, support has been added to now better represent SE quantities in support of other military-relevant sensors, like FLIRs, NVGs, radars and sonars.  SEDRIS concerns itself exclusively with Phase 1 and 2 SE quantity representation and data modeling; Phase 3 modeling is left to the native IG implementation.The SEDRIS Associates Technical Team has pioneered the effort to extend the SEDRIS data model to support sensor-related environmental  databasesenvironmental databases (i.e. environmental databases used by the sensor simulation community). A list of environmental properties uniquely significant to sensor simulations has been developed and has now been incorporated into the SEDRIS data model as part of the SEDRIS Data Coding Scheme (SDCS) [1].  This list borrowed extensively from the SISO (Simulation Interoperability and Standards Organization) EO/IR Data Dictionary [2]  and other sources for the necessary thermophysical and surface optical properties needed to capture environmental IR database information, such as that in PTN databases.  This approach leads to a highly flexible approach towards supporting the addition of needed envionmentalenvironmental properties without impacting the SEDRIS Data Model.  Below we afford some background on the SEDRIS Data Representation Model support for sensors, and a detailed example of how it is being used to capture high-resolution PTN thermal sensor SE databases for M&S community interchange.2. Difficulties in Sensor Database ExchangeHistorically, databases used by electromagnetic (EM) sensor simulations in the training communitys contain what the environment looks like rather than the intrinsic characteristics that defines the natural environment itself.  These databases and the tools from which they are developed are generally packaged to provide sensor displays for specific purposes instead of providing basic environmental characteristics that affects all EM sensors.  Some tools are turn-keyturnkey systems and provide offer displays for a specific weapons system type.  An example of a database produced from this would be an image for a PVD (plan view display) for radar.  Other tools are tailored for specific trainers or vehicle platforms.  Data captured in these systems would be useful for multiple sensors but only on a tank trainer, for example.  Still others provide more realism by highlighting effects from a limited number of specific features in the environments.  An example would be the effects of shore brightening on an airborne radar display.  Each of these databases contains data representing the effects of the environment tailored for particular displays instead of the enivronment’senvironment’s natural characteristics which is independent of the sensor display types or specific feature types.Extremely cost effective for their intended purposes, these databases and tools have fast editing capabilities and are closely intertwined with their sensor models. These tools are generally off-the-shelf, licensed in large quantities and reasonably priced.  Widely used raw databases such as DTED and DFAD [Notes 1,2] can be imported and edited quickly to produce the final results observed by the sensor operator.  The effects of adding to or altering the environment can quickly appear on the synthetic sensor displays.  These databases have been providing the perfect solution for the stand-a-lone simulation system in a procurement environment that demands full functionality with limited cost and development time.Reuse and interchange among different systems is another story, however.  With the efficiency of fast editing and the close link with sensor models comes the price of limited editing and expansion capabilities.  Only a few canned built-in effects are available for editing.  Often times, it is faster to use another tool that accommodates the new feature and develop the new database.   This problem is compounded for database interchange among different sensor simulations or vehicle platforms.  In order to share the data with other sensor types, the database would have to be stripped of its built-in sensor parameters before it has meaning to a different sensor.  This is nearly impossible since the data has no meaning without the context of the sensor types or vehicle plat-form parameters from which it is built.3. Standardized EM Representations in SEDRISSEDRIS is tasked to standardize SNE database interchange including SNE databases for Electromagnetic (EM) sensor simulations.  In doing so, SEDRIS matured in four stages.  It first looked at EM standards or pseudo-standards in the industry and carved out intrinsic characteristic of the environment that are relevant to sensor simulations.  In parallel, the SEDRIS Associates [Note 3] developed the SEDRIS Data Reference Representation Model (SDRM) to accommodate conventional databases described in the previous section.  This is accomplished through the creation the Color, Light, and Image classes [Note 4].  As described in [1], the SDRM  isSDRM is then improved to include the relevant intrinsic EM terms in the Data Table family of classes and the SDCS.  Finally, the SDRM is polished to accommodate a variety of database producers by adding a Qualified Property Description Class.  Each stage is explained below.In an effort to standardize EM interchange SEDRIS referenced journals published in the simulation community, widely used references and handbooks, and military standard and specifications.  One effort to standardize EM terms was presented by the IR Posse group at a previous SIW conference [2].  In this paper, a comprehensive data dictionary was provided for EM terms.  Part of this data dictionary contained environment characteristics that can be grouped into five categories of properties– temporal variation, surface optical, thermal fluid dynamics, geometric, and meteorological.  From the commercial industry, the Photonics Dictionary and different versions of EO/IR/RADAR handbooks provided the widely used definitions.  From the military industry, mil-std-141, DIGEST Part IV, DFAD specification, and mil-hdbk-850 were referenced extensively.As early as Fall of 97, the SEDRIS SDRM was robust enough to capture the conventional databases used in sensor simulations.  Back then, version 1.04d, the SDRM included the Color, Light, and Image family of classes. These covered one band in the EM spectrum and accommodated the visual database interchange adequately.  Also part of these families of classes are Included in these are the Emissive, Specular, Diffuse, and Alpha Classes, the Candela field, and the Presentation Domain enumerations.  These classes and fields parallels the first order characteristics of the environment that affect all EM sensors – emissivity, specular and diffused components of reflectivity, transmissivity, and radiance, respectively.  Theyis fully accommodates the range of sensors that are based on the visual band, including image intensifiersdirect view optics (DVO).  These characteristics could also be used to derive or approximate the same parameters for use in EM sensor simulations of any other bands.  The Presentation Domain enumeration provides the list of sensor types to which the above classes and fields could apply.Also apparent early in the process of developing the SDRM for sensor simulation was the need for a large number of terms and to qualify these terms with each other, i.e., defining dependent and independent variables in a multi-dimenstional graph, table, or function.  To illustrate the explosion of terms one can describe the basic reflection characteristics with a number of types of reflectivity including spectral, directional, diffused, specular, band-integrated, long-wave-IR-, etc., or some combination of these.  The reflectivity characteristics, or signature element, is also often a function of many other terms or axes, including incidence angle, reflection angle, polarization, wavelength, or type of material, to name a few.  To accommodate for the large number of characteristic terms that describe the environment, SEDRIS created the SDCS for version 2.0.  In addition, to capture the dependency relationships of these attributes, the Data Table family of classes in SDRM arefamily of classes in SDRM is used.  Multiple tables and sub-tables, i.e., tables within tables or tables referencing tables, are also accommodated for the most complex environment representations.SEDRIS’s most recent change in progress involving EM sensors addresses the need to accommodate sensor-related environment characteristics without the use of the classes mentioned above.  This necessity arose from SEDRIS users that require associations of dependent and independent EM terms with only one or a very few number of data points for each term.  Instantiating Data Table classes for such purposes would be needlessly extravagant.  Instead, the Qualified Property Description Class was created to simply provide a way of associatingportray express dependency of one EM term with another. 4. SEDRIS Approach to Sensor-related SE Representation and InterchangeIt is important to recognize that sensor-related SE data can often be isolated from geometry and feature data and thus be represented and interchanged via a separate SEDRIS transmittal.  PTN thermal sensor-related SE attribution, for example, can be isolated from the terrain skin and associated features, and mapped directly to SEDRIS data tables the SDRM. In this manner, sensor models can be exported to other native environments without impractical wholesale changesgeometry and feature adjustments in the native run-time format or and IG hardware. This approach is recommended, as it fosters greater M&S interoperability and re-use.  For example, it is conceivable that a SIMNET simulator, deriving its run-time database from a SEDRIS transmittal, could also use a PTN SEDRIS thermal model transmittal to upgrade its thermal sensor modeling; however, it would be impractical for a SIMNET application – which depends using on thean S1000 TIN’d terrain skin construction – to utilize the regular, T-meshed grid terrain characteristic of an entire PTN SEDRIS transmittal.5.  A SEDRIS Thermal Sensor SE ExampleTo illustrate the SEDRISDRM support for sensors, let us consider the example of capturing NVESD’s PTN thermal IR database in SEDRIS Transmittal Format (STF). PTN was selected as athe candidate IR database model to “prove out” the SEDRIS 2.0 data representation model utility in capturing IR environment information.  The first step in this process was to map PTN model objects and classes to those in the new SEDRIS data model, and to recommend any changes via SEDRIS Change Requests (SCRs) that might be required to complete this mapping.  This mapping and SEDRIS sensor data model improvement activity was partially funded under a contract with Naval Air Warfare Center Training Systems Division (NAWC-TSD), and completed with additional investment by JRM Enterprises, Inc.A PTN-SEDRIS import utility is presently under development.  We begin by describing the PTN thermal SE and associated sensor-related attributes.  Next, we present the proposed PTN SE mapping to SEDRIS 2.0 to illustrate how thermal sensor-related attributes are captured for interchange.5.1 NVESD “Paint the Night” Thermal SEPTN version 2.0 uses a fast signature model calledknown as SigSim to calculate long-wave and mid-wave IR thermal signature energy from the SE to the viewer.  These signatures are synthesized dynamically from four PTN SE database files: SGI (Silicon Graphics Inc) Performer Fast Binary (*.pfb)EO/IR Texture files (*.int)EO/IR material system files (*.ir)Meteorological Data files (*.met)	Each of these files can be mapped separately into SEDRISthe SEDRIS DRM and are described briefly below. 5.2 PTN SGI Performer Fast Binary Files (*.pfb) and IR Texture Files (*.int)PTN uses the Silicon Graphics Performer Fast Binary (PFB) format to capture the basic natural environment geometric primitives, sensor-band attributes, textures, and relationships.  As its name implies, PTN PFB’s are SGI Unix-IRIX binary files which are compiled from raw environment data. They consist of basic scene objects that are hierarchically organized into a Scene Graph.  These basic objects include pfLODs, pfGroups, pfGeodes, pfGeoSets, pfGeoStates, and pfMaterials.  The *.pfb files include three classes of model objects: terrain surfaces, tree structures, road networks, rocks and buildings.  The geometries for these model objects are comprised of sets of attributed vertices, normally grouped into tri-meshes for optimized run-time rendering on OpenGL graphics platforms.  Texture information is captured in the typical fashion of file pointers and associated geometric texture mapping coordinates.  PTN natural environmental sensor databases are offered either as a completely integrated PFB file, or separately as terrain skin, forest, and road network PFBs. Often, vertices from objects like terrain surfaces, trees and road networks are grouped together into higher-level objects called tri-meshes, or collections of contiguously stripped vertices.  These tri-meshes then comprise a complete terrain, forest of trees, or road network.5.3 PTN EO/IR Material System files (*.ir)The EO/IR material system file describes all the materials, material configurations, material properties, and other parameters used in the PTN SE for simulating electro-optic and infrared sensor-band signatures.  These sensor-band signatures include thermal (i.e. long-wave and mid-wave FLIR), near-IR (i.e. image intensifiers/NVGs), and visible (Direct View Optics-DVO, black and white day TV, and low-light TV-LLTV).   The EO/IR material system file is an ASCII file, and is space-delimited (space or tab), with each row defining a material system, and each column defining appropriate parameters.  These parameters include the surface optical, thermophysical, dimensional and boundary condition properties of the material thermal system, and are completely described in Table 1 2 below. 5.4 PTN Meteorological File (*.met)The *.met files contain the relevant meteorological inputs to drive the SigSim signature model.  The file is in simple tab-delimited ASCII format.  It includes time-dependent influences such as ambient air temperature and pressure, relative humidity, direct and diffuse solar insolence, and down-welling (long-wave) irradiance.  A typical two-day cycle *.met file for Fort-Hunter Liggett is shown in Table 23 below.Table 1EO/IR Material System File PropertiesEO/IR material system parameterHeader descriptorDatatypeUnitsValue RangeDefinitionindexindexlongEnum0-max-longindex for pfMaterial referencematerial system namematerialstringChar0-50 charactersName of the material systemaltitude (optional)altdoubleMeterMetersAltitude above mean sea levelboundary condition 1 (bc 1 “top surface)bc1integerenum0-50=surface fixed at temperature T11=surface convective cooled by air at Tair and Vair2=surface forced convective cooled at T1 and V13=surface forced convective cooled at Tair and V14=surface aerodynamically heated5=surface fixed to air temperatureboundary condition 2   (bc 2 “bottom” surface)bc2integerenum0-50=underlying surface in contact with infinite heat capacity material at T21=underlying surface ambient air convective cooled at Tair and Vair2=underlying surface forced convective cooled/heated at T2 and V23=underlying surface forced convective cooled/heated at Tair and V24=underlying surface aerodynamically heated5= underlying surface in contact with infinite heat capacity material at Tairbc 1 temperature T1doubledeg C-273.15 – max doubletemperature referenced at the “top” surface of the material system bc 2 flow velocityV1doublemeters/second0.0 – max doublevelocity referenced at the “top” surface of the material systembc 2 temperature T2doubledeg C-273.15 – max doubletemperature referenced at the underlying surface of the material systemTable 1 (con’t)EO/IR Material System File PropertiesEO/IR material system parameterHeader descriptorDatatypeUnitsValue RangeDefinitionbc 2 flow velocityV2doublemeters/second0.0 – max doublevelocity referenced at the underlying surface of the material systemsolar absorptivityaSdoubleunit-less0.0-1.0scalar governing the fraction of solar flux (0-3 um) absorbed vs that of a blackbodylongwave emissivity (3-inf um)eLdoubleunit-less0.0-1.0scalar governing the fraction of  flux emitted in the 3-inf um band vs that of blackbody longwave-IR emissivity (8-12 um)eLWIRdoubleunit-less0.0-1.0scalar governing the fraction of flux emitted in the 8-12 um band vs that of blackbody midwave-IR emissivity (3-5 um) eMWIRdoubleunit-less0.0-1.0scalar governing the fraction of flux emitted in the 3-5 um band vs. that of blackbodynear-IR (.7-1.3 um) reflectivity (diffuse)rNIRdoubleunit-less0.0-1.0near-IR band reflectivity reflectivity visible red (diffuse)rVISrdoubleunit-less0.0-1.0red visible spectrum reflectivityreflectivity visible green (diffuse)rVISgdoubleunit-less0.0-1.0green visible spectrum reflectivityreflectivity visible blue (diffuse)rVISbdoubleunit-less0.0-1.0blue visible spectrum reflectivityspecularityspecdoubleunit-less0.0-1.0fraction of reflectivity that is directional versus diffuseconvection coefficienthcdoubleunit-less0.0-max doublescalar governing rate of convective heat transferthermal conductivitykdoubleW/m-K0.0-max doublethe rate of heat flux conductance through a materialspecific heatchdoubleJ/kg-K0.0-max doubleamount of heat it takes to raise the temperature of one kilogram of the material one degree K (C) density pdoublekg/m30.0-max doublekilograms per cubic meterdepthddoublem0.0-max doublethickness of the material thermal systemshininess shinedoubleunit-less0 – 128integer governing the width of the lobe of the specular reflectanceReynolds numberrtypedoubleunit-less0.0-1.0scalar governing degree of turbulence of flow across air-foilStanton numberS#doubleunit-less0.0-1.0scalar governing the coefficient of aerodynamic heatingshadow flagshadenumenum0,10=not shaded from sun1=shaded from sunTable 12EO/IR Material System File PropertiesEO/IR material system parameterHeader descriptorDatatypeUnitsValue RangeDefinitionindexindexlongEnum0-max-longindex for pfMaterial referencematerial system namematerialstringChar0-50 charactersName of the material systemaltitude (optional)altdoubleMeterMetersAltitude above mean sea levelboundary condition 1(top surface)bc1integerenum0-50=surface fixed at temperature T11=surface convective cooled by air at Tair and Vair2=surface forced convective cooled at T1 and V13=surface forced convective cooled at Tair and V14=surface aerodynamically heated5=surface fixed to air temperatureboundary condition 2   (bottom surface)bc2integerenum0-50=underlying surface in contact with infinite heat capacity material at T21=underlying surface ambient air convective cooled at Tair and Vair2=underlying surface forced convective cooled/heated at T2 and V23=underlying surface forced convective cooled/heated at Tair and V24=underlying surface aerodynamically heated5= underlying surface in contact with infinite heat capacity material at Tairboundary condition surface 1 temperature T1doubledeg C-273.15 – max doubletemperature referenced at the “top” surface of the material system EO/IR material system parameterHeader descriptorDatatypeUnitsValue RangeDefinitionBoundary condition surface flow velocityV1doublemeters/second0.0 – max doublevelocity referenced at the “top” surface of the material systemboundary condition surface 2 temperature T2doubledeg C-273.15 – max doubletemperature referenced at the underlying surface of the material systemboundary condition surface 2 flow velocityV2doublemeters/second0.0 – max doublevelocity referenced at the underlying surface of the material systemsolar absorptivityaSdoubleunit-less0.0-1.0scalar governing the fraction of solar flux (0-3 um) absorbed vs that of a blackbodylongwave emissivity (3-inf um)eLdoubleunit-less0.0-1.0scalar governing the fraction of  flux emitted in the 3-inf um band vs that of blackbody longwave-IR emissivity (8-12 um)eLWIRdoubleunit-less0.0-1.0scalar governing the fraction of flux emitted in the 8-12 um band vs that of blackbody midwave-IR emissivity (3-5 um) eMWIRdoubleunit-less0.0-1.0scalar govering the fraction of flux emitted in the 3-5 um band vs that of blackbodynear-IR (.7-1.3 um) reflectivity (diffuse)rNIRdoubleunit-less0.0-1.0near-IR band reflectivity reflectivity visible red (diffuse)rVISrdoubleunit-less0.0-1.0red visible spectrum reflectivityreflectivity visible green (diffuse)rVISgdoubleunit-less0.0-1.0green visible spectrum reflectivityreflectivity visible blue (diffuse)rVISbdoubleunit-less0.0-1.0blue visible spectrum reflectivityspecularityspecdoubleunit-less0.0-1.0fraction of reflectivity that is directional versus diffuseconvection coefficienthcdoubleunit-less0.0-max doublescalar governing rate of convective heat transferthermal conductivitykdoubleW/m-K0.0-max doublethe rate of heat flux conductance through a materialspecific heatchdoubleJ/kg-K0.0-max doubleamount of heat it takes to raise the temperature of one kilogram of the material one degree K (C) density pdoublekg/m30.0-max doublekilograms per cubic meterdepthddoublem0.0-max doublethickness of the material thermal systemshininess shinedoubleunit-less0 – 128integer governing the width of the lobe of the specular reflectancereynolds numberrtypedoubleunit-less0.0-1.0scalar governing degree of turbulence of flow across air-foilstanton numberS#doubleunit-less0.0-1.0scalar governing the coefficient of aerodynamic heatingshadow flagshadenumenum0,10=not shaded from sun1=shaded from sunTable 23Sample PTN Met FileFort_HL_261_89.met EMBED Excel.Sheet.8  Every PTN vertex in a *.pfb file is associated with a material system from the EO/IR material system file.  At run-time, SigSim predicts the sensor-band dynamic radiant emittance and reflection at the surface of each material system as a function of surface normal, time-of-day, time-of-year, meteorological condition and weather condition. The model includes a real-time 1-D thermal model which is used to predict the surface temperature of the material system in the emittance calculation. Materials are modeled as one-dimensional structures with boundary conditions at the both ends of the 1D structure.  SigSim then maps these quantities into OpenGL emission, ambient, diffuse and specular r,g,b attributes for the associated vertices in a rendering call-backcallback routine. Sample SigSim run-time signature data, and corresponding FLIR sensor views from the Fort Hunter-Liggett PTN SE are depicted graphically below in Figures 1 and 2.  For the signature modeling enthusiast, Appendix A offers a technical presentation of the SigSim analytical forms and OpenGL mapping. It’s convenient at this point to interject a key benefit of PTN for synthetic environment database reuse and exchange.  The four images in Figure 2 could have been easily approximated, captured as snap shots, and accessed as images during run-time.  This is typically done for lower fidelity simulations.  However, there would be little value in exchanging these IR snap shots with simulations of other weapon system types such as radar or millimeter wave that use different display types.  PTN databases, on the other hand, contain intrinsic material properties that are  much more valuablusefule.  The images rendered, whether  IR from PTN, or Radar from another consumer of PTN databases, would be highly correlated and consistent since it is based on the same physical properties.EMBED Excel.Sheet.8Figure 1. SigSim Diurnal Cycle 8-12 um Thermal Emission August 89 Fort Hunter-Liggett PTN SEFigure 2.  August 89 Fort Hunter-Liggett PTN SE – 4 Times of Day6. PTN Thermal SE – SEDRIS 2.0 MappingTable 3 below details the proposed a partial mapping of PTN IR database classes and objects to SEDRIS v2.0 classes, fields, enumerations and codes.  Due to space limitations of this paperrestrictio,ns on space, the meteorological mapping has been excluded fromis not included in the table.  This mapping is presently being used to develop a PTN-SEDRIS import utility based on the SEDRIS version 2.5 Write API.The left side of the table shows the PTN quantities and the right side the corresponding SEDRIS modelclasses or codes quantities.  The second row denotes the object hierarchy relationship which in this case is a “one-to-many” relationship.  An An asterisk  denotes a pending SEDRIS Change Request (SCR) to the SDRM to resolve the a mapping difficulty.  , and the second row shows the level of PTN SE hierarchy.The hierarchy is important as it details the relationship and level of  aggregation of PTN objects that obviously must be preserved in the STF.  In the write API, objects and associated fields are added to a SEDRIS transmittal through successive calls to SE_CreateObject(), SE_PutFields(), and SE_AddToTransmittal().  Same level and lower level objects are added by calls to SE_AddAssociate() and SE_AddComponent(). Note that there are two objects assigned at the level one hierarchy, one for the PFB scene graph which is predominantly geometry, and one for the EO/IR material system files.  This mapping was selected to separate out the sensor-related PTN SE quantities for ease in creating sensor-only SEDRIS transmittals, in keeping with the aforementioned approach. The PTN terrain skin is a T-meshesd (, regular gridded terrain skin), are nicely which is accommodated by the SEDRIS Finite_Element_Mesh data class.  Color characteristics are captured in a conventional way by the family of color classes.   Property Tables with SDCS SEDRIS Attribute Codes (SACs) provide the primary mechanism for capture of sensor-related SE attributes.  The aforementioned work in incorporating the EO/IR Data Dictionary terms into SDCS and the existing families of color and data table classsesclasses in the SDRM made mapping the sensor-related PTN terms to SEDRIS relatively straightforward.[6]  The requested changes to SEDRIS to accommodate additional PTN IR terms involve only SAC codes in the SDCS.  These changes do not affect the SDRM, STF or API, and will be reflected in a future SDCS release.  A benefit of this SEDRIS design approach is that attributes may be easily added to accommodate native database conversions without new releases of the APISTF, SDRM or API.	The PTN terrain skin is a T-meshed, regular gridded terrain, which is accommodated by the SEDRIS Finite_Element_Mesh data object.[Long]  Table 3 needs to be collapsed so as to eliminate a bunch of blank boxes.Table 3.  PTN to SEDRIS MappingPaint-the-Night SESEDRIS 2.0 DRM12345Scene GraphSynthetic_Environment <> Environment_RootpfLOD, Group, Geode,  pf Union_of_Primitive_Geometry,Level_of_Detail_Geometry,Classification_Related_GeometrypfGeoSetFinite_Element_Meshvertexi, j, kVertex_With_Component_Indicesnormal i, j, kReference_Vector  SE_RENDERING_NORMALtexture s,tImagepfGeoState,MaterialProperty_Table_Reference,Property_Tablematerial indexRegular_Axis,SE_SAC_Indexemission r,g,bEmissive_Color, RGB_Colorambient r,g,bAmbient_Color, RGB_Colordiffuse r,g,bDiffuse_Color, RGB_Colorspecular r,g,bSpecular_Color, RGB_ColorEO/IRMaterialSystemFileSynthetic_Environment <> Environment_Rootmaterial system nameProperty_Table<>SE_SCC_MATERIAL_CHARACTERISTICSSE_SAC_INDEXaltitude (optional)Table_Property_Descriptionboundary condition (BC 1)SE_SAC_SUPPORT_TEMPERATURE_CODE_TOP_SURFACE *boundary condition (BC 2)SE_SAC_SUPPORT_TEMPERATURE_CODE_BOTTOM_SURFACE*BC1 tempSE_SAC_TEMPERATURE_SURFACEBC1 flow velocitySE_SAC_WIND_SPEED_TOP_SURFACE*Table 3.  PTN to SEDRIS Mapping (con’t)Paint-the-Night SESEDRIS 2.0 DRM12EO/IRMaterialSystemFileSynthetic_Environment <> Environment_RootBC2 tempSE_SAC_TEMPERATURE_TOP_SURFACE*BC2 flow velocity SE_SAC_AIR_FLOW__BOTTOM_SURFACE*solar absorpSE_SAC_SURFACE_ABSORPTIVITY_SOLARor SE_SAC_ABSORBTIVITYwith SE_SAC_WAVELENGTHlongwave emissivity (3-inf um)SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHlongwave-IR emissivity (8-12 um)SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHmidwave-IR emissivity (3-5 um) SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHnear-IR (.7-1.3 um) reflectivity (diffuse)SE_SAC_SURFACE_REFLECTIVITY_DIFFUSED& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible red (diffuse)SE_SAC_SURFACE_REFLECTIVITY_DIFFUSED& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible green (diffuse)SE_SAC_SURFACE_REFLECTIVITY_DIFFUSED& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible blue (diffuse)SE_SAC_SURFACE_REFLECTIVITY_DIFFUSED& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHspecularitySE_SAC_SURFACE_REFLECTIVITY_SPECULARconvection coefficientSE_SAC_CONVECTION_COEFFICIENTthermal conductSE_SAC_THERMAL_CONDUCTIVITYspecific heatSE_SAC_SPECIFIC_HEATdensity SE_SAC_MATERIAL_DENSITYdepthSE_SAC_THICKNESSshininess SE_SAC_SHININESS*reynolds numberSE_SAC_REYNOLD’S NUMBER*Stanton numberSE_SAC_STANTON_NUMBER*shadow flagSE_SAC_SHADOW_FLAG*Table 4.  PTN to SEDRIS MappingPaint-the-Night SESEDRIS 2.0 DRM123456Scene GraphSynthetic_Environment <> Environment_RootpfLOD or pfGroup Union_of_Primitive_GeometrypfGeodepfGeoSetFinite_Element_Meshvertexi, j, kVertex_With_Component_Indicesnormal i, j, kReference_Vector  SE_RENDERING_NORMALtexture s,tpfGeoStatepfMaterialmaterial indexProperty_Table_Referenceemission r,g,bEmissive_Color, RGB_Colorambient r,g,bAmbient_Color, RGB_Colordiffuse r,g,bDiffuse_Color, RGB_Colorspecular r,g,bSpecular_Color, RGB_ColorPaint-the-Night SESEDRIS 2.0 DRM123456EO/IRMaterialSystemFileSynthetic_Environment <> Environment_Rootmaterial system nameProperty_Table<>SE_SCC_MATERIAL_CHARACTERISTICSSE_SAC_INDEXaltitude (optional)Table_Property_Descriptionboundary condition 1SE_SAC_SUPPORT_TEMPERATURE_CODE_TOP_SURFACE *boundary condition 2SE_SAC_SUPPORT_TEMPERATURE_CODE_BOTTOM_SURFACE*BC surface temp 1SE_SAC_TEMPERATURE_SURFACEBC surface flow velocity 1SE_SAC_WIND_SPEED_TOP_SURFACEBC surface temp 2SE_SAC_TEMPERATURE_TOP_SURFACEBC surface flow velocity 2SE_SAC_TEMPERATURE_BOTTOM_SURFACEsolar absorpSE_SAC_SURFACE_ABSORPTIVITY_SOLARor SE_SAC_ABSORBTIVITYwith SE_SAC_WAVELENGTHlongwave emissivity (3-inf um)SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHlongwave-IR emissivity (8-12 um)SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHmidwave-IR emissivity (3-5 um) SE_SAC_EMISSIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHnear-IR (.7-1.3 um) reflectivity (diffuse)SE_SAC_SURFACE_REFLECTIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible red (diffuse)SE_SAC_SURFACE_REFLECTIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible green (diffuse)SE_SAC_SURFACE_REFLECTIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHreflectivity visible blue (diffuse)SE_SAC_SURFACE_REFLECTIVITY& SE_SAC_ELECTROMAGNETIC_BANDor SE_SAC_WAVELENGTHspecularitySE_SAC_SURFACE_REFLECTIVITY_SPECULARPaint-the-Night SESEDRIS 2.0 DRM123456convection coefficientSE_SAC_CONVECTION_COEFFICIENTthermal conductSE_SAC_THERMAL_CONDUCTIVITYspecific heatSE_SAC_SPECIFIC_HEATdensity SE_SAC_DENSITY*depthSE_SAC_DEPTH_BELOW_SURFACE_LEVELSE_SAC_THICKNESSshininess SE_SAC_SHININESS*reynolds numberSE_SAC_REYNOLD’S NUMBER*Stanton numberSE_SAC_STANTON_NUMBER*shadow flagSE_SAC_SHADOW_FLAG*7. References[1] Birkel, P. “SEDRIS Data Coding Standard (SDCS)”, Proceedings of the Spring Simulation Interoperability Workshop, 1999 (on CD-ROM)[2] Moulton, R. et al. “Towards Standards for Interoperability and Reuse in IR Simulation”, Proceedings of the Fall Simulation Interoperability Workshop, 1998 (on CD-ROM)[3]  Laurin, T. et al. The Photonics Dictionary, 34th edition, Laurin Pulishing Company, Inc, 1988.[4] US Department of Defense, MIL-STD-1241 - Military Standard, Optical Terms and Definition, US Government Printing Office, 1967[5] Digital GeogrphicGeographic Information Working Group, The Digital Geographic Information Exchange Standard (DIGEST) Part 4, Edition 2.0, 1997 ( HYPERLINK http://www.digest.org www.digest.org)[6] Connors, P. “Extending The Synthetic Environment Data Representation and Interchange Specification (SEDRIS) for the Representation of Sensors in the Synthetic Environment, University of Central Florida, Spring 19998. Notes1. DFAD (Digital Feature Analysis Data) is a database consisting of selected natural and cultural planimetric features, type classified as point, line, or area features as a function of their composition and size.2. DTED (Digital Terrain Elevation Data) is a uniform matrix of terrain elevation vlaues produced by NIMA (National Imagery and Mapping Agency).3. SEDRIS Associates are members of private companies, educational institutions, research laboratories, or government agencies who participates in the development of SEDRIS.4. Color, Light Source, and Image are three families of classes within the SEDRIS Data Reference Model (SDRM) that are germane to visual synthetic environment databases.  The Color classes define the object’s color, Light Source classes affect the brightness and the color, and Image classes provide textures. Sensors in the Synthetic Environment, University of Central Florida, Spring 19998. Notes1. DFAD (Digital Feature Analysis Data) is a database consisting of selected natural and cultural planimetric features, type classified as point, line, or area features as a function of their composition and size.2. DTED (Digital Terrain Elevation Data) is a uniform matrix of terrain elevation values produced by NIMA (National Imagery and Mapping Agency).3. SEDRIS Associates are members of private companies, educational institutions, research laboratories, or government agencies who participates in the development of SEDRIS.4. Color, Light Source, and Image are three families of classes within the SEDRIS Data ReferenceRepresentation Model (SDRM) that are germane to visual synthetic environment databases.  The Color classes define the object’s color,; Light Source classes affect the brightness and the color,; and Image classes provide textures.Author BiographiesLONG NGUYEN is an Electronics Engineer at the Naval Air Warfare Center Training Systems Division, Modeling and Simulation Development Branch.  He holds an M.S. Degree from the University of Central Florida and has contributed to Mr. Nguyen has been involved in various major Modeling and Simulation Research effortsprojects including SEDRIS, STOW, JSIMS, and ASTT, SEDRIS as ann acquisition or simulation engineer.RUSS MOULTON is President of JRM Enterprises, Inc.  He specializes in military sensor modeling and simulation, and has developed many related simulation products for government and industry. Appendix A – SigSim Thermal Model DescriptionSigSim, the Paint-the-Night real-time thermal model, is a 1D solution to the heat diffusion equation, utilizing inputs from the EO/IR material system file (Table 1) and meteorological data file (Table 2).  It runs as a background process on the PTN IG and translates its output to OpenGL constructs for real-time IR visualization.Equations 1-14 below afford a technical development of the SigSim analytical forms for spectral thermal signature synthesis, driven by the PTN SE data.  Equations 10-20 detail how these dynamically calculated signature quantities are then mapped to OpenGL constructs. SigSim starts with a steady-state temperature solution for the Table 1 material system, based on a quadratic approximation for thermal emission:EMBED Unknown							(1)where Tsurf is the surface temperature of the EO/IR material system at boundary surface 1. The scalars q, r, and a are functions of the boundary temperatures and coefficients and the surface and bulk material properties from Table 1, and the meteorological SE data from Table 2. The solar absorptivity is given by ( and  is the angle between the direct solar insolence (Esun_dir) and the material surface normal.  Substituting EMBED Unknown									(2)in equation (1) yieldsEMBED Unknown	.							(3)Expanding the numerator under the radical in a Taylor series expansion in about  2(, the cosine term can be isolated from the scalars yieldingEMBED Unknown									(4)whereEMBED Unknown									(5)andEMBED Unknown									(6)Tbase represents the “base” surface temperature of the material and T( represents “additional” surface temperature contribution due to surface normal dependent thermal loading. These quantities must be converted to radiant emittance in the sensor spectral band.  The radiant exitance within a given band is related to the temperature by the integral of the Plank function or EMBED Unknown	(W/m2)						(7)where (1 and (2 are the wavelengths defining the band and T is the temperature. The constants c1 and c2 are such that the units are watts per meter squared. A fast taylor-series expansion of the Plank function is used to compute the integrated in-band blackbody emittance and the integrated thermal derivative (ITD) which is given byEMBED Unknown.							(8)The ITD is critical because T( is a differential that must be referenced to an absolute temperature; its contribution is an additional radiant emittance that adds to the contribution from Tbase. For a given FLIR sensor spectral band [(1, (2], the total possible thermal emission is in two terms as follows:EMBED Unknown						(9)Equation (10) is the total emission from a perfect emissive body. Real materials deviate from this condition and equation (10) must be modified by the emissivity of the material. Using a crude sky model and simple background model to predict the apparent Tsky and Tbackground, in-band irradiance from these sources may be predicted as well.EMBED Unknown									(10)EMBED Unknown							(11)The integrated sensor band emissivity of a surface is related to the total integrated surface reflectivity byEMBED Unknown								(12)where ( is the emissivity and the subscripts indicated band integrated quantities. It is while equation (13) describes the total reflectivity, physical realism demands that the spatial distribution of that reflectivity be accounted for. If there is some directional nature to the reflectivity, then a reasonable approximation might be to establish a “specular” percentage of the total integrated surface reflectivity that is directional, such thatEMBED Unknown									(13)EMBED Unknown									(14)where ( is the fraction of the total integrated surface reflectivity that is specular. This is similar to the Phong model in computer graphics. Equations (1) – (14) comprise a reasonable approximation to the thermal phenomena governing infrared scene formation. The OpenGL lighting model is a straightforward implementation of a single-lobe BRDF model. Sources having ambient, diffuse, and specular components interact with geometric representations of scene objects. Each object has an attendant set of ambient, diffuse, and specular material parameters that control the intensity of the interaction. The equation governing the interactions isEMBED Unknown			(15)where T(u,v) is the texture modulation as a function of the texture coordinates u,v. Ia, Id, and Is are the ambient , emissive, diffuse and specular light intensities respectively. (a, (e, (d, and  (s are, respectively, the ambient, emissive, diffuse, and specular materials properties of the object, and ( is the shininess. The vectors l, n, and s are as defined in Figure 2. EMBED PowerPoint.Show.8Geometry of OpenGL rendering equation.FLIR sensors have a limited dynamic range with respect to temperature. If the temperature range is defined by the interval [Tmin,Tmax], then the corresponding radiant emittance range is [Mmin,Mmax]. Since the OpenGl parameters must map into the interval [0,1], the values obtained using equations (1)-(11) must be scaled appropriately. Taking the scaling into account, the following mapping of the radiometric quantities from the steady state model into OpenGL is obtained.EMBED Unknown								(16)EMBED Unknown								(17)EMBED Unknown									(18)EMBED Unknown										(19)EMBED Unknown							(20)Note that the diffuse light term Id is set to unity and that equation (20) defines an identical mapping for the ambient and specular light terms. Shininess is the only OpenGL parameter unmapped at this point. Since OpenGL shininess is in the range [0.0,128.0], mapping the width of the BRDF lobe to an OpenGL shininess value is simplyEMBED Unknown									(21)where ( is the solid angle of the lobe.Appendix A – SigSim Thermal Model DescriptionSigSim, the Paint-the-Night real-time thermal model, is a 1D solution to the heat diffusion equation, utilizing inputs from the EO/IR material system file (Table 1) and meteorological data file (Table 2).  It runs as a background process on the PTN IG and translates its output to OpenGL constructs for real-time IR visualization.Equations 1-14 below afford a technical development of the SigSim analytical forms for spectral thermal signature synthesis, driven by the PTN SE data.  Equations 10-20 detail how these dynamically calculated signature quantities are then mapped to OpenGL constructs. SigSim starts with a steady-state temperature solution for the Table 1 material system, based on a quadratic approximation for thermal emission:EMBED Unknown							(1)where Tsurf is the surface temperature of the EO/IR material system at boundary surface 1. The scalars q, r, and a are functions of the boundary temperatures and coefficients and the surface and bulk material properties from Table 1, and the meteorological SE data from Table 2. The solar absorptivity is given by ( and  is the angle between the direct solar insolence (Esun_dir) and the material surface normal.  Substituting EMBED Unknown									(2)in equation (1) yieldsEMBED Unknown	.							(3)Expanding the numerator under the radical in a Taylor series expansion in about  2(, the cosine term can be isolated from the scalars yieldingEMBED Unknown									(4)whereEMBED Unknown									(5)andEMBED Unknown									(6)Tbase represents the “base” surface temperature of the material and T( represents “additional” surface temperature contribution due to surface normal dependent thermal loading. These quantities must be converted to radiant emittance in the sensor spectral band.  The radiant exitance within a given band is related to the temperature by the integral of the Plank function or EMBED Unknown	(W/m2)						(7)where (1 and (2 are the wavelengths defining the band and T is the temperature. The constants c1 and c2 are such that the units are watts per meter squared. A fast taylor-series expansion of the Plank function is used to compute the integrated in-band blackbody emittance and the integrated thermal derivative (ITD) which is given byEMBED Unknown.							(8)The ITD is critical because T( is a differential that must be referenced to an absolute temperature; its contribution is an additional radiant emittance that adds to the contribution from Tbase. For a given FLIR sensor spectral band [(1, (2], the total possible thermal emission is in two terms as follows:EMBED Unknown						(9)Equation (10) is the total emission from a perfect emissive body. Real materials deviate from this condition and equation (10) must be modified by the emissivity of the material. Using a crude sky model and simple background model to predict the apparent Tsky and Tbackground, in-band irradiance from these sources may be predicted as well.EMBED Unknown									(10)EMBED Unknown							(11)The integrated sensor band emissivity of a surface is related to the total integrated surface reflectivity byEMBED Unknown								(12)where ( is the emissivity and the subscripts indicated band integrated quantities. It is while equation (13) describes the total reflectivity, physical realism demands that the spatial distribution of that reflectivity be accounted for. If there is some directional nature to the reflectivity, then a reasonable approximation might be to establish a “specular” percentage of the total integrated surface reflectivity that is directional, such thatEMBED Unknown									(13)EMBED Unknown									(14)where ( is the fraction of the total integrated surface reflectivity that is specular. This is similar to the Phong model in computer graphics. Equations (1) – (14) comprise a reasonable approximation to the thermal phenomena governing infrared scene formation. The OpenGL lighting model is a straightforward implementation of a single-lobe BRDF model. Sources having ambient, diffuse, and specular components interact with geometric representations of scene objects. Each object has an attendant set of ambient, diffuse, and specular material parameters that control the intensity of the interaction. The equation governing the interactions isEMBED Unknown			(15)where T(u,v) is the texture modulation as a function of the texture coordinates u,v. Ia, Id, and Is are the ambient , emissive, diffuse and specular light intensities respectively. (a, (e, (d, and  (s are, respectively, the ambient, emissive, diffuse, and specular materials properties of the object, and ( is the shininess. The vectors l, n, and s are as defined in Figure 2. EMBED PowerPoint.Show.8Geometry of OpenGL rendering equation.FLIR sensors have a limited dynamic range with respect to temperature. If the temperature range is defined by the interval [Tmin,Tmax], then the corresponding radiant emittance range is [Mmin,Mmax]. Since the OpenGl parameters must map into the interval [0,1], the values obtained using equations (1)-(11) must be scaled appropriately. Taking the scaling into account, the following mapping of the radiometric quantities from the steady state model into OpenGL is obtained.EMBED Unknown								(16)EMBED Unknown								(17)EMBED Unknown									(18)EMBED Unknown										(19)EMBED Unknown							(20)Note that the diffuse light term Id is set to unity and that equation (20) defines an identical mapping for the ambient and specular light terms. Shininess is the only OpenGL parameter unmapped at this point. Since OpenGL shininess is in the range [0.0,128.0], mapping the width of the BRDF lobe to an OpenGL shininess value is simplyEMBED Unknown									(21)where ( is the solid angle of the lobe.