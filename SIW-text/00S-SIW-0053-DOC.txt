Architecture and Approaches Used in Acoustic ASW TrainersRobert J. Howard Doug ClarkTerry ForemanAnalysis&Technology/AnteonCentury Building, Suite 12502341 Jefferson Davis HighwayArlington, VA 22202-3809703-418-2800 HYPERLINK mailto:rhoward@atinc.com rhoward@atinc.comKeywords:Man-in-the-loop, Hardware-in-the-loop, Architecture, Design, ASW, Acoustics, Ocean, SOMAbstract: Abstract: This paper uses Anti-Submarine Warfare (ASW) real-time acoustic training system design to illustrate how Simulation Object Model (SOM) requirements and interoperability considerations affect training system design choices.  The paper identifies critical design considerations for ASW trainers that influence the choice of time models and device architecture.ASW trainers normally model the sonar contacts, the environmental acoustics, and portions of the sensor system.  Trainer designs have been implemented that range from partial system simulation to full stimulation of tactical hardware.  The hardware and software architecture is highly variable, depending on the specific trainer requirements, the state of technology at design, and the designer’s preferences.  Unless a modular design is mandated, the contact, environment, and sensor software segments will usually be merged to save hardware, severely compromising code re-use ability and interoperability.Trainer design decisions involve hardware cost and performance trade-offs among data channel bandwidth, memory, and simulation versus stimulation, time versus frequency-domain approaches to synthetic sound generation, and many others.  These trade-off decisions strongly affect the attributes that can economically be included in the SOM and the options available for inter-operability.  If inter-operability and SOM requirements are unavailable at the beginning of the design, important options may be permanently foreclosed.While this paper uses an ASW example for purposes of illustration, similar considerations affect other stimulation-based trainer communities.IntroductionThis paper addresses design considerations for team trainers with man-in-the-loop and hardware-in-the-loop simultaneously. The specific examples used for illustration are drawn from experience in the design and development of Anti-Submarine Warfare (ASW) team trainers. ASW trainers are of two kinds,  shore based and “on board”.  In either case a significant feature of these trainers is they are stimulation devices rather than simulation systems.  Stated simply, they provide a continuous time domain waveform to the tactical hardware representing the signal and noise that would be available to the tactical system.  Trainers of this type have been developed by the US Navy’s submarine, surface ship and aviation communities.  Although these communities have significantly different requirements for number of contact-sensor-pairs (acoustic channels) and sensor-specific behavior, they share many common requirements imposed by the nature of underwater acoustics and the environment.As an overview, consider the simplified architecture shown in  REF _Ref471716943 \h  \* MERGEFORMAT Figure 1.  This diagram shows typical, major components of an acoustic ASW trainer.  The number of contacts range from a few to more than fifty. The number of sensors varies from a few to thirty or more.  The gaming area ranges from tens of nautical miles to over a thousand.                  EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 1 Simplified Acoustic ASW ArchitectureThe submarine community generally trains on the assumption that ownship will perform independent ASW operations.  Even when submarines operate in the company of other assets, a battle-force operation, they generally attempt to avoid the search area of other platforms.  When a submarine is below periscope depth, sonar becomes the primary search and tracking sensor.  Sonar teams are often faced with large numbers of acoustic contacts, particularly when near shipping lanes.  Submarines tend to depend on passive sensors and to avoid using active acoustics, except in very well defined, specialized circumstances.  This general situation is depicted in  REF _Ref471717200 \h  \* MERGEFORMAT Figure 2. EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 2 Submarine Acoustic ASW ChannelsSurface ASW teams face many of the same challenges as the submarine community, with some relaxation of constraints and some additional requirements.  Surface ships tend to have the same types of sensors as submarines; however the available hull sensors are designed for active prosecution at the expense of passive capability.  Except for a greater dependence on active sensors and the addition of high-resolution sonars (e.g., mine hunting) the ASW problem faced by an individual surface ship platform is very similar to that of a submarine. Cross platform coordination, however, for surface ASW is significantly greater. Surface ASW forces often have access to or control of air ASW assets.  Surface ASW can simultaneously involve several ships and aircraft prosecuting a contact.  Because surface ASW units can receive sensor feeds from air ASW assets, surface ASW units inherit many of the same requirements as their air ASW counterparts.  This general situation is depicted in  REF _Ref471717218 \h  \* MERGEFORMAT Figure 3. EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 3 Surface Ship Acoustic ASW ChannelsAir ASW units, fixed and rotary wing,  typically operate by deploying fields of sonobuoy sensors.  The sonobuoys may be either active or passive and have a wide range of sophistication. The primary characteristic of air ASW is a large number of contact-sensor pairs.  Sonobuoys tend to have shorter detection ranges compared to shipboard sensors, due to the smaller size of the acoustic arrays and simpler beamforming.  The use of dipping sonars (rotary wing aircraft) also occurs in air ASW.  These operations can be either solo or team efforts involving several helicopters.  Recently the development and deployment of multi-static active prosecution has greatly increased ASW trainer signal concurrency requirements.  This general situation is depicted in  REF _Ref471717240 \h  \* MERGEFORMAT Figure 4. EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 4 Air Acoustic ASW ChannelsASW teams (submarine, surface, or air) must perform a common set of tasks.  These include detection, tracking, classification, prosecution of contacts, and area surveillance..RequirementsBefore discussing the architecture of the acoustic ASW trainers it is necessary to identify those requirements that affect trainer architecture and design.  The following list, although not exhaustive, presents those requirements that have a major impact on trainer design: wall clock time model, fidelity and realism, number of acoustic channels (contact-sensor pairs), acoustic bandwidth, signal continuity, tactical equipment interfaces, COTS requirements, and interoperability.Wall Clock Time ModelWall clock time is typically used for acoustic ASW trainers for two different reasons.  First acoustic ASW trainers inject signals into the tactical equipment which have an inherent notion of time.  Second, acoustic ASW teams perform time critical and time constrained tasks.  In general, acoustic ASW trainers cannot tolerate any measurable slow-down or speed-up relative to wall clock time.  Because acoustic ASW trainers rely heavily on maintaining wall clock time they are usually designed as “real-time” systems.  In most cases a frame based or time-sliced architecture is used.  In this approach each task is allowed a pre-determined fraction of a frame.  When it has used up its allocation the task is switched out and the next task in the que is started.  Each task also has an execution rate.  If a task fails to complete at its allocated rate the trainer’s performance is degraded.  There are two approaches to dealing with tasks that fail to complete.  The first is to abort the calculation and start over; the second is to raise an alert and continue the task to completion.  A consequence of either approach is glitches and artifacts that are detectable by the student.  As yet no solution to this problem has been found.The wall clock time model imposes hard real-time requirements on the trainer architecture and translates directly into hardware costs.  Trainer performance is sacrificed before glitches and artifacts are accepted.Freeze-Run CharacteristicsASW acoustic trainers are usually designed to support some type of freeze capability.  This often involves modification to the tactical software loads, particularly when equipment (e.g., navigation equipment) contains checks for time continuity and discontinuities.  The freeze capabilities included in acoustic ASW trainers have a certain amount of indeterminate behavior that must be selected by the designer.  The usual practice is to freeze entity positions and possibly kinematics. Since it is impossible to freeze many tactical processors (acoustic processors in particular) the designer has to make some difficult choices.  On the one hand, the acoustic generation could be turned off.  This will corrupt the data buffers used to integrate the acoustic data and the student will have to wait before the processors return to full sensitivity following a freeze.  An alternative is to continue generating acoustic at the contact’s last position (and, with some models, speed).  This will generate artifacts both when the trainer enters and leaves freeze.While it is possible to operate most ASW acoustic trainers with periodic or even episodic freezes, the operator will receive little in the way of useful training during such a mode of operation.   Freeze-run constraints will generally prevent acoustic ASW trainers from joining federations that require frequent freezes or use the time advance grant mechanisms of HLA.Causality and DeterminismStrict causality in the HLA sense is generally not needed for acoustic ASW trainers.   Rather, when a training mission is re-run, the results must be “identical” to within the sensor and students’ capabilities to detect differences. Historically, the acoustic ASW community has not attempted to measure or repeat scenarios exactly.  The ambiguities of man-in-the-loop and hardware-in-the-loop make such measurement difficult at best.  On the other hand, many acoustic ASW trainers are equipped with some version of way-points, replay or similar capabilities.  These capabilities allow the instructor to reset the problem to some time in the past and restart.  Once the acoustic processor integration has stabilized the student’s displays are expected to be the same as they were in the proceeding run.  Note that this is not the same as requiring strict causality. The effect of causality and determinism requirements on acoustic ASW trainer architectures is usually limited to some type of re-play capability.  The impact of adding strict causality requirements would be minimal as long as problem control is limited to pre-defined scenarios.  However, instructor control of scenarios is a common feature of acoustic ASW trainers.Fidelity and RealismFidelity and realism are driving considerations in the design of acoustic ASW trainers.  Fidelity and realism are generally judged to be “high” when a team of experienced operators cannot tell the difference between a real signal and a generated one, when played through the target tactical system.  Thus, human subject matter experts have typically been used as the referent.  The process used to assess fidelity pre-date the HLA  fidelity working group’s efforts.  The actual process used to define “fidelity and realism” for acoustic ASW trainers has typically been a combination of ensuring that certain key parameters are “sufficiently accurate” and determining fitness for use within the constraints of available budgets and technologies.  To date, application of formal techniques have not been widely attempted or achieved acceptance in the acoustic ASW trainer community.The fidelity and realism required of an ASW team trainer depends on the tasks that it is required to perform.  Detection training can be performed at the simplest levels with very limited realism; however, signature characteristics and environmental simulation requirements increase dramatically if the team is to be trained to exploit them.  This requirement can be broadly stated as “the trainer must provide detection ranges consistent with the crew’s tactics, the simulated environment and the expected contact signatures.”   Training a crew to track contacts requires most of the performance required for detection, however different, and usually more complete simulation of the tactical system is required.  Classification training hierarchy of levels, each with more sophisticated contact models required.In many ASW acoustic trainers the developers go to considerable effort to duplicate the students’ operational work environment.  The intention is to cause the student to forget that he is in a trainer, with the hope that the skills learned will immediately transfer to the tactical systems.  The intention is to stimulate the student visually, aurally, tactically, and spatially as if in the real system.Fidelity and realism requirements impact every part of acoustic ASW trainer design.  These requirements impact modularity, computational load, latency requirements, and the types of processing selected.Number of Acoustic Channels and Channel Bandwidth The product of the number of acoustic channels (contact-sensor-combinations) and their bandwidths controls the majority of the architecture decisions associated with the design of acoustic ASW team trainers.  With modern computers and peripherals it is possible to produce several fully modular acoustic channels with a common desktop PC.  If modularity constraints (discussed below) are ignored it is possible to generate about three times as many acoustic channels on the same PC, but at the loss of maintainability and upgradability.   The architectural problems are significantly different for devices designed for a relatively small number of acoustic channels with limited bandwidth (e.g., a submarine training device) as compared to a device with a large number of moderate to wideband channels (e.g., an air ASW trainer).When dealing with a trainer that simulates a small number of nearly co-located sensors the most economical approach is usually signal generation at the tactical system signal injection point.  Variations on this approach have been used in some submarine acoustic trainers. Early, shore-based, acoustic ASW trainers for submarines attempted to stimulate at the displays, but were forced by high upgrade costs to either emulate the tactical equipment or to stimulate it.  These upgrades were forced by updates to the tactical software load that caused changes to the tactical system well before the displays.As the number of acoustic channels increase simulation at the source becomes more economical.  At about eight or so passive sensors simulation at the source generally is selected.  This is highly dependent on the number of aspect (angle off the bow of the contact) sectors used to describe the contact.It is not uncommon to see generation at the source used for passive signatures, while generation at the tactical system signal injection point is used for active (pulse-like) signals.  This is primarily due to the finer aspect resolution required to describe active echoes and the lower duty cycle of active sensors.  The total number of contact-sensor pairs and bandwidth drive the hardware requirements.  They also result in complex time-memory-bandwidth trade-offs that are strongly coupled to the capabilities and cost of state-of-the-art hardware.Gaming Area ExtentThe size of the gaming area can range from tens of nautical miles on a side to over 1000 nautical miles, depending on the capabilities of the sensors and the platforms being simulated.  Large gaming area size increases run times for the propagation kernel and increases memory sizes for the digital delay lines (if used).  Memory requirements will depend on the number of delay lines (contact-sensor pairs), the sample frequency (signal bandwidth), and the size of the gaming area.  Large gaming areas can also cause coordinate system compatibility problems.Signal ContinuityIn general, acoustic ASW trainers must present the student with a simulation that is free of artifacts and glitches.  These distract the student.  At worst they can provide false clues or even prevent useful training.  Artifacts can be introduced by the models themselves, by discontinuities in signal generation, by freezes, by frame over-runs, etc.  This means that an acoustic ASW trainer must be designed to avoid artifacts from the outset.  In general, the acoustic ASW community is willing to sacrifice signal generation capability, training capability and even some special purpose sensors before they will accept artifacts and glitches.Signal continuity is a critical requirement for acoustic ASW trainers.  The entire hard-real-time computational approach is designed around this requirement.  The impact is seen in the selection of data and signal processing bus architecture and the operating system, which together determine the hard-real-time model implemented in the architecture.Tactical Equipment InterfacesWith any hardware-in-the-loop simulation it is necessary to select signal injection points.  With acoustic ASW trainers the tactical system injection points are highly varied, but once selected they strongly influence the remaining design.  Tactical system injection points range from the wet side of the sensor (hydrophone) all the way through to painting the screen of the tactical display.  The most common injection points, in recent designs have been either directly before or directly after the sensor’s beamforming for shipboard systems, and at the receiver outputs for aircraft systems.  These injection points are generally selected to minimize the impact of tactical system hardware/software upgrades.  However, trainers have been built that inject at various other points in the tactical equipment.  Any identifiable processing stage in the tactical equipment can serve as an injection point, even the display drivers for the screens.The interoperability impact of signal injection point selection can be significant  If signals must be provided from the simulated portion of a tactical system, additional hardware or software may be needed.  Further,  the signals that are available between the wet side of the sensors and the injection point may be restricted, or contain processing that is undesirable or detrimental to other federates wishing to use them.  In a simple example, consider a signal that is injected after a beamformer.  If a second federate requires the signal as it would appear in the water (e.g., as an unmodified plane wave), then the processing, shading and gain characteristics of the tactical system prior to the beamformer must all be backed out of the signal before the second federate can use it.  Failure to do so will result in inconsistencies between the federates.COTS RequirementsIn recent years, DoD has strongly encouraged the use of COTS hardware and software.  The acoustic ASW community has adopted the COTS hardware approach in almost all-new designs.  COTS operating systems and utilities have also been adopted.  Less success has been experienced in adopting COTS stimulation and signal generation software.  These trends have had significant impacts on trainer design and architecture. Perhaps the largest impact has occurred in software design.  The COTS environment places a premium on code reuse and modularity because the COTS market changes so quickly compared to the development time of an acoustic ASW trainer.  COTS vendors are constantly making “improvements.”  These often cause problems if the hardware is being used to capacity or if features are  used that are not supported by the vendor’s Higher Order Language (HOL) software libraries.  These problems are compounded by the fact that obsolescence cycles for COTS are generally on the order of 18 to 24 months, while the development time for a major acoustic ASW trainer will be on the order of 48 to 60 months.  The acoustic ASW trainer community is attempting to deal with these problems by careful selection of vendors and by designing technology refresh cycles into the system development plans.  There are two important impacts of COTS on trainer’s software architectures.  First, there are strong incentives to avoid assembly language and use of low level hardware features.  Second, is the incentive to design software so that it can easily be ported to new hardware environments.  The alternative is to pre-buy a significant quantity of spares, knowing they will be obsolete before the device is even delivered.The technology refresh cycles generally do not provide any opportunity to change the architecture or the requirements of a well-designed system.  By the time the first refresh occurs the vendors have generally committed to an architecture that is intended to survive through the life cycle of the trainer.  In the case of acoustic ASW trainers this can be on the order of 10 to 20 years.  Whether these types of device/architecture life times can be achieved remains to be seen.  Devices that were designed for these types of life times during the cold war, in a pre-COTS environment were often scrapped after as little as five years due to evolving requirements.InteroperabilityInteroperability and coordinated operations requirements have added significant new constraints to the design and development of acoustic ASW trainers.  New data outputs and processing  is necessary to satisfy these requirements.This is not to imply that force interoperability has not been a consideration in past acoustic ASW trainers.  Quite the contrary.  In fact many acoustic ASW trainers have had high level requirements for interoperability.  In the past these were too poorly defined for economical implementation, and were dropped before the design was finalized.  AntiSubmarine Warfare Team Trainer ArchitectureBasic ArchitectureAcoustic ASW trainer architectures have been strongly influenced by the high level requirements discussed in the preceding section.  REF _Ref471115581 \h  \* MERGEFORMAT Figure 5 presents a common architecture for an acoustic ASW trainer. Physical DataThe physical data used to describe the environment usually includes the Sound Speed Profile (SSP), back-scatter coefficients, sea surface characteristics, bottom characteristics, bathymetry, shipping noise, and ambient (sea-state) noise.  Other noise sources, features and biologics may be added as overlays on top of the basic databases to enhance spatial and temporal resolution as needed to provide specific training features.Data ServerThe physical data used in acoustic ASW is generally drawn from many sources and must be normalized and edited to ensure consistency.  Discontinuities, missing data and unrealistic data must be removed or edited.  Further, the server is usually responsible for filtering the data and servicing requests for data at specific locations.Propagation EngineThe propagation engine has at least three distinct parts.  These are the propagation loss kernel, a reverberation module and an ambient noise module.  The propagation loss kernel may be separate and service the needs of the other modules, or it may be common.  The raw, physical data is input to the algorithms that make up the propagation engine.The propagation kernel produces propagation loss, often with arrival structure data.  Arrival structure includes the travel times, arrival angles, propagation loss, phase, etc. for each arrival path between a contact and a sensor.  Examples of arrival paths include direct path, surface reflected paths, etc.The reverberation module is responsible for computing the back-scatter from active pulses.  Reverberation is normally applied at the tactical system signal injection point.  This may involve a different signal channel than that used for the passive signatures. EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 5 Notional Acoustic Stimulator ModulesThe noise modules take on several forms.  These include sea state noise, rain noise, biologics and shipping noise.  The degree of sophistication and computational loading varies widely with the requirements.  The most complex (and expensive) simulations include vertical and horizontal directivity as a function of location.  In most architecture the noise is applied at the tactical system signal injection point and uses a different signal channel than the passive signatures, though it may be combined with the one used for the reverberation.For modern trainers that must train shallow, range-dependent oceans, the physical data, the data server and the propagation engines are usually separate.  For trainers that were designed before shallow and littoral requirements became important the usual practice was to combine the various sub-modules discussed above and to pre-compute the trainer quantities.  Contact Signature DataContact signature data is normally stored in a database on the trainer.  Common database formats have only come into wide use in the last 10 to 15  years.  Even with these there is little commonality in the actual database fills across trainers.  This has a significant, negative impact on interoperability.  Many trainer convert the common format into a trainer unique format before using it.Contact Signal GenerationContact generation includes all of the operations required to produce a time-series data stream at one yard from the contact.  This includes both active and passive signature elements. A notional acoustic contact generator is shown in  REF _Ref471115788 \* MERGEFORMAT Figure 6.  There are many variations of acoustic contact generators in current use.  Many of the implementation details have been omitted from this figure for clarity.  This figure illustrates one of the problems encountered when attempting to enforce modularity.  The delay line shown in  REF _Ref471115788 \* MERGEFORMAT Figure 6 is used by both the signal generation and the propagation loss modules.  The designer must assign it to one or the other of these modules if modularity is to be maintained. EMBED PowerPoint.Show.8  Figure  SEQ Figure \* ARABIC 6 Notional Acoustic ASW Contact Signal GenerationReal Time Propagation SimulationThe real time propagation simulation is responsible for applying time delays, phase shifts and propagation loss to the active and passive signals.  The propagation loss can be applied for as many acoustic paths as the trainer requires.  In practice the active and passive signal element may use separate, different implementations due to differences in frequency ranges, bandwidths, levels and duty cycles.  A common, modern design uses digital delay lines to propagate the signal and produce correct delay times and Doppler.  This is usually followed by a filter representing the ocean’s frequency response at the range of interest.Sensor SimulationThe extent of the sensor simulation depends on the signal injection point.  Any portion of the tactical system that occurs before the signal injection point must be simulated.  If the signals are injected at the hydrophone level an inverse beamformer is usually required.  If it is injected after the beamformer then the beamformer must be simulated.  For sonobuoys the usual injection point is the output of the Radio Frequency (RF) receivers, in which case the sonobuoy and its up link are included in the sensor simulation.Sensor Data BaseMost legacy trainers embed the sensor database into the simulation software.  The sensor data base include physical, electrical and acoustic descriptions of the sensors.  Such data as beampattern responses, sensitivities, deployment depths, etc. are included.  This should properly be a separate database and recent designs have implemented it that way.Tactical EquipmentThe tactical equipment, after the signal injection point, becomes  part of the trainer.   Aside from the interface design the tactical equipment (including tactical software loads) may require modification to function as part of a trainer.  The use of tactical equipment is driven both by realism requirements and life-cycle cost considerations.  Experience shows that it is very difficult to capture tactical equipment behavior in a simulation.  Both the strengths and weaknesses of the tactical suite are important for training simulations.  Further, the tactical equipment vendor seldom can describe the equipment’s processing to the degree of detail require to simulated it (even if the information is not proprietary).   From a life-cycle perspective, the time and cost required to modify a simulation when the tactical load is changed can be a significant fraction of the cost of the original procurement, and can exceeds the cost of the tactical equipment. ModularityThe trend in acoustic ASW trainer has been to modularize the simulation to the maximum practical extent.  This is a direct result of life-cycle considerations and the COTS environment.  Modularity also has significant potential benefits for interoperability.   Ideally contact signature generation, environmental effects and sensor simulation would occur in distinct, identifiable modules.  An idealized modularization is depicted in  REF _Ref471115581 \* MERGEFORMAT Figure 5. The advantages in terms of re-use, maintainability, interoperability and testing are well known within the community.  The acoustic ASW community has moved steadily towards improved modularity over the last twenty years. The easiest way to enforce modularity is to require test-points at the output of each module.  In addition to enforcing modularity, these test points provide an easy way to verify the models in each module.  This has proven invaluable during device acceptance.DMSO defines a Simulation Object Model (SOM) is  “A specification of the intrinsic capabilities that an individual simulation offers to federations. …”  From a High level Architecture (HLA) perspective, modularity provides the opportunity for additional signals to become available to other federates through a trainer’s SOM.  The usual practice is to require only a few channels of data at the test points at any one time.  When a device has a large number of contact-sensor pairs providing data at outputs between modules will generally require the addition of hardware to the design.  At a minimum, adequate output bandwidth must be provided to handle the signals.  Since internal channel bandwidths for acoustic ASW trainers can exceed several GigaBytes per second, the design impacts can be significant even if the signals in question are otherwise available.Technology Trade-OffsThe design of acoustic ASW trainers is a continual technology trade-off.  In general, one is faced with not only the usual time-memory trade-offs, but also trade-offs that exploit special, even vendor specific features.  The DOD preference for COTS products and the availability of Scientific Application Libraries (SAL) have eased some of the latter trade-offs (though with some sacrifice in hardware efficiency).These design trade-offs, like just about everything else associated with acoustic ASW team trainers are driven by the high computational load these devices entail.  Even in the 1980’s acoustic ASW trainers were routinely designed with many GigaFLOPs of processing power.  Modern trainers can require sixty to ninety GigaFLOPS of raw processing power and around eighteen GigaBytes of RAM.  Even with this much power some training requirements still cannot be met.  The requirements tend to grow with the technology, both because increased user expectation and improved sensor capabilities.   The design of acoustic ASW trainers can be expected to continue to push the limits of technology for the foreseeable future.  As a result, any requirements that are not clearly identified during the design are not likely to be included, or will be traded away for “more pressing” training needs.Time-Domain versus Frequency DomainTime domain signal generation is the most natural since the signals are represented as actual voltage or pressure time-series.  For nearly stationary signals time-domain generation is about three times as expensive in hardware as frequency domain signal generation.  This advantage is lost if the signals have significant temporal variability or if they are pulse-like.  In addition, the software complexity of frequency domain implementations are significant greater than for time domain implementations.  Frequency domain signal generation means that the signal is generated and propagated using Fourier coefficients (e.g., spectral coefficients). The decision to generate and propagate the signals in the time domain or the frequency domain, or some combination, depends on the specifics of the acoustic signal generation requirements and the capabilities of available hardware.  Some types of signal processing and models are easier to implement in the time domain, while others are easier to implement in the frequency domain. Simulation Object Model ConsiderationsThe DMSO definition of a Simulation Object Model (SOM) is  “A specification of the intrinsic capabilities that an individual simulation offers to federations. …” HLA specifies the SOM’s format and rules for a federates behavior when interacting with the Run Time Infrastructure (RTI), but does not specify the attributes or performance that any federate must have.At the outset, if requirements for intermediate outputs are not included in the original design they are very unlikely to be available in a SOM without significant cost and schedule impact.  At a minimum additional hardware will be required to support output of intermediate data signal nodes if they are required by other federates.  The architecture of acoustic ASW trainers are too tightly constrained by other design considerations. Most ASW trainers naturally produce entity (e.g., a contact) position and kinematics data that might be of interest to other federates.  These data are generally available at a level that makes incorporation into the SOM feasible, even for legacy simulations.  The primary issue with these data is the available update rates and latency.  These issues are particularly limiting if the SOM must extract the position and kinematics data from the Instructor Operator Station (IOS).Some training devices are capable of outputting the acoustic data streams at various points along the generation path up to and including the signal injection point.  The transmission format for these data streams has not yet been implemented under HLA.  Discussions have occurred as how to best implement such data streams.  Since the bandwidth is potentially very high, implementation details could drive trainer performance.A properly modular acoustic ASW trainer that uses a time domain implementation should be capable of providing most of the intermediate outputs that might be of interest to other federates.   If frequency domain implementation are used conversion to the time domain (with the addition of hardware and software) is required.  Problems arise when the trainer fails to maintain ideal modularity.  In such cases the intermediate signals between modules are generally not economically extractable.   Providing the intermediate signals can only be accomplished by either a major trainer modification to restore the modularity, or by providing separate signal paths and processing.  The first solution is economically and programmatically very difficult, the second is fraught with risks that the actually signals produced and processed in the trainer will be different than the ones at the SOM interface.Unless there is a clear requirement to do so, providing acoustic data streams outside the federate is expensive and thus is not generally provided. The selection of a signal injection point has a major impact on the availability of output acoustic data streams.  Injection before any beamformers or tactical processing is the most versatile, but in many cases expensive.  One example where acoustic data streams have been used in the past is for air ASW trainers. These trainers use sonobuoys that can be monitored by multiple platforms therefore the transmission of the acoustic data streams makes very good sense, and this has actually been accomplished.  Contact signature correlation is a significant issue when acoustic ASW trainers attempt to interoperate.  Contacts with different signature characteristics will generally be identified as unique.  Existing, legacy devices and even devices in development have a wide range of signal generation limits (e.g. number of harmonic families, instability limits, bandwidths, numbers of contacts, etc.)  Further, individual implementations often differ in important details that are difficult to describe except by transmitting the details of the signal generation algorithms.  Often, the best that can be hoped for with legacy devices is to reduce the federation to the lowest common denominator.  This can be very restrictive.  The use of common contact signature data bases and implementations has eased the problem of communicating contact signatures.  In the United States the Acoustic Trainer and Simulation (ATaS) database serves this function.  At least two new developments are planning to treat the contact signature data as meta-data and to only communicate pointers to contact signature data files and contact state data through the SOM.Environmental acoustic data presents problems very similar to those for contact signatures, but they are more severe.  Prior to about ten years ago most acoustic ASW trainer used table driven environmental models with a small (ten to thirty) number of pre-selected, static environments.  No effort was made to correlate the available environments across devices.  Modern designs are generally based around the use of run-time environmental modeling, with the fundamental acoustic data being extracted from MEL/OAML.  Even so, the tendency to reflect the data bases locally and not maintain them current is a significant interoperability issue.  Efforts are underway to provide environmental servers that could mitigate these issues.  Beyond the actual data used as input to environmental propagation models, the models themselves are a significant interoperability and SOM issue.  This problem is addressed in a separate paper, but briefly there are three or four valid, different ways to represent the acoustic field. Thus, selection of a propagation model to represent the acoustic field will limit the SOM and the federate to federations that have made the same selections.  Even with these restrictions, if identical databases and propagation models are not used major inconsistencies should be expected among the federates.  Limits in the ability of a training device to reflect (in the HLA sense) either contacts or sensors can also impact the SOM and the ability to interoperate.  Such limits are very common and even exist (due to economic considerations) for families of trainers that service different sensor platforms.  If one device can represent say fifty acoustic contacts over a large gaming area and another can represent only eight the possibilities for conflicts exist.  How should the ninth or tenth contacts that enter a sensor field be handled by the more limited trainer.  How are the “most important” contacts determined and how is deletion of the unsupported contacts to be handled?  These are all issue that generally exceed the original device design and that require significant analysis and difficult software to implement.  To date there are no known ways to automatically select the contacts to represent in the lesser capable device.  Certainly the HLA subscription management protocols have potential for alleviating the problems, but they are not a total solution.   They only help if the contacts are widely distributed in space or signature.ConclusionsThe design trade-offs required for ASW trainers place significant limits on the trainer’s architecture.  These devices are generally designed to exploit leading edge technology and still sacrifice desired performance.  Absent SOM and interoperability requirements design decisions made to achieve basic training requirements will limit the potential of these devices to fully participate in HLA federations.   Modification of legacy devices (or changing a devices architecture late in the design) to meet the needs of other federates will have definite, high costs and schedule impacts.PAGE \# "'Page: '#''"  PAGE \# "'Page: '#''"   Gross, David C., "Report from the Fidelity Implementation Study Group", SIW S1999-167, Spring 1999, http://www.sisostds.org/  DoD Modeling and Simulation (M&S) Glossary, DoD 5000.39-M, Dec 1997, ftp://ftp.dmso.mil/pub/documents/policy/glossary.pdf Clark, D., Foreman, T. and Howard, R.,"Architectural and Design Consideration in Propagation Model Selection and Design", 00S-SIW-054Author BiographiesDouglas Clark is a vice president of Analysis & Technology, Inc has over 25 years experience in modeling and simulation. He has lead efforts developing signature data and models to support simulations, developed design concepts and provided engineering support to the development of trainer systems and engineering federations.  Currently he is a member of the MARVEDS Working Group concentrating on issues associated with the development and use of synthetic environments and also supports the Battle Force Tactical Trainer (BFTT) technical team.  Mr. Clark has an MS in electrical engineering from the University of Connecticut.Terry Foreman, Ph.D. Dr. Foreman earned a Ph.D. in physics in 1987 at the University of Texas at Austin, specializing in acoustics, and an M.S. in electrical engineering in 1983, also at the University of Texas, and specializing in signal processing and digital automatic control. His research interests include wave propagation physics and signal processing.  He has developed computer models of underwater and atmospheric acoustic propagation, high frequency (HF) radio wave ionospheric propagation, microwave propagation, and laser and optical propagation. These models have been applied to underwater acoustic sonarsystem performance prediction, sonar trainers, atmospheric nuisance noise prediction, long range detection of aircraft, environmental acoustic parameter sensitivity studies, HF and microwave system performance prediction, and laser propagation through the atmosphere and sea. He has developed signal processing algorithms that include adaptive broadband generalized beam forming methods for detecting and tracking acoustic targets and has developed acoustic array system performance prediction and analysis models. Robert J. Howard Mr. Howard has over 20 years experience in the procurement, development, design and testing of ASW acoustic trainers.  Mr. Howard has participated to one degree or another in the development and design of every major acoustic ASW trainer that has been developed for the surface, subsurface and naval air communities in the last 20 years.  His expertise includes model design, signal processing, system engineering, testing and software design.  He has served as a principal Validation, Verification, and Authentication (VV&A) agent on over 15 distinct devices.   Mr. Howard has designed, coded and tested a wide variety of models for ASW sensor trainers.