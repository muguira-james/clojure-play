Experience with Using ModSAF for Battalion Staff Training in the Czech ArmyDalibor ProcházkaVladimír VrábNational Center of Simulation and Training TechnologiesMilitary AcademyKounicova 65612 00 BrnoCzech Republic+420-5-4118-4939, +420-5-41182862Dalibor.Prochazka@vabo.cz, Vladimir.Vrab@vabo.cz Martin KlicnarPavel PospisilVR Group, a.s.Argentinska 38, 170 25 Prague 7Czech Republicmartink@vrg.cz, pavelp@vrg.czKeywords:ModSAF, Non-HLA, terrain database conversion, AAR. ABSTRACT: The Czech Army has selected the use of ModSAF as the primary simulation model for battalion staff training. To provide the best simulation capability necessary for Czech units, it had to be customized. It was necessary to create terrain databases from a digital map model of Czech training areas, create Czech units and vehicles. ModSAF graphical user interface (GUI) was localized . An after action review system based on Motorola ModIOS software was customized as well to provide more statistics. The project of building simulation centers for the Czech army is based on co-operation between STRICOM and Military Academy in Brno and contractors - SAIC and VR Group. The paper presents experience which could be useful for other countries introducing simulations into staff training. 1. Brief HistoryThe computer modeling in the ACR was affected by a small demand of potential users. All activities were run only as personal activities and as an effort of individuals to gain experience in the use of computer aided modeling in general. The Military Academy in Brno carried out pedagogical experiments in application of simulators of combat operations (commercial) that were not used to a systematic training and preparation of students for practice with troops but to verify potential methods of fielding and use of these tools to train the staff officers of the ACR. The ACR transformation has deteriorated the gloomy prospects in this field, since it dictated to solve some other more challenging tasks of that time.Not even a ten year brief history of the ACR is characterized by an effort of individuals to improve the training of soldiers and officers by using sophisticated information technologies. This effort started in 1992 when some Military Academy officers initiated contacts with world known international organizations and training centers in the U.S. and also in Europe involved in training of soldiers and officers with the use of computer aided simulation. In 1997 the situation abruptly changed and the persistence, consistency and activity of some members of the ACR GS Combat Training Section together with the failure to fund prospective defense projects resulted in a success. The CR Minister of Defense has established a special working group and charged it to develop by the end of March 1998, a conceptual document solving the development, production and process of fielding the simulation and  training technologies into the ACR. The group has accomplished its mission. A document entitled ”Conception of fielding of simulation and  training technologies into the ACR [1] came into existence.  It was approved by signature of the CR Minister of Defence at the end of July 1998. The document defined the scope, time sequence and funding of modern training technologies into the ACR, and inter alia it ordered to establish training centers, where simulation technologies will be utilized most efficiently and effectively. They are the National Center of Simulation and Training Technologies in Brno (NCSTT) and Ground Forces Training Center in Vyskov.The Ground Forces Training Center provides training from crew to company levels and it consists from the Center of Constructive and Virtual Simulation (CCVS), the water training area, and the 3rd generation miles system. The CCVS will provide tactical training by means of crew virtual simulators of BMP-1, BMP-2 and T72 vehicles. The ModSAF simulation will be used there for computer generated forces and for connection to constructive simulation in NCSTT for combined exercises.2. National Center of Simulation and Training Technologies2.1. Mission of NCSTTMain tasks of NTSCC are simulation support of staff training (battalion and above)education in an area of modeling and simulation, research, standardization activities etc..In this paper its training function will be discussed.2.2 Subjects involved in building up of NCSTT The Czech Army had one advantage – there were no fielded simulation system used for staff training purpose, so there were no limitations on software or hardware platform. The orientation on up-to-date systems was a main idea of simulation master plan [1]. Taking into account the development of PC based computers, systems working on Intel platform then were preferred to systems running on some more expensive and not so easy upgradeable hardware.The right system meeting most of our requirements is the ModSAF. It provides high simulation resolutions for battalion level training, distributed computing gives it sufficient computing resources and it supports the communication protocol for distributed exercises.The NCSTT has two resources of funding. There are funds of the Czech ministry of defense budget and foreign Military Funds provided by the government of the United States to help some countries to reach interoperability in most important areas.Subjects taking part in fielding simulation for staff training are as follows. Prime contractor of ministry of defense is the LOK company. It has its subcontractor for system integration of army simulation training centers – the VR Group. NCSTT is responsible for simulation support of field unit training.US Government (STRICOM) in agreement with the Czech Government, and close cooperation with the Czech Military Academy, Brno, provides an integrated SAIC team approach for “Battlefield Simulation” support in development and application of the integration of simulation training for the Army of the Czech Republic (ACR). SAIC in cooperation with VR Group and Director, NCSTT provides a Systems Engineering Process in support of this emerging Czech training methodology.SAIC in accordance with direction of STRICOM, provides continual on site engineering technical and training development support to the staff of the military academy and the NCSTT.2.3. Timeline of NCSTT building upDuring fall 1998 a decision to introduce simulation systems into ground forces training using support of US Foreign Military Funds and the ADST II program was made. Building up NCSTT was started in December 1998. Activities were concentrated on building necessary infrastructure for system implementation, like networking, preparing facility for after action review etc. Government of the United States was asked to support training of the Czech Army by providing appropriate simulation software, i.e. the ModSAF and Janus systems, and technical support during the process of implementation the systems. In May 1999 the Janus Simitar ver 6.3 and ModSAF Internatonal ver. 4.0 systems were delivered. After some analysis, the effort was concentrated on customizing the ModSAF system for battalion staff training. The Czech 00 exercise was only internal and used as a validation. There was no real training audience, participants were faculty staff and students. Exercise objectives were:1. Validate the Military Academy, Brno CAX Process.2. Train Selected Faculty Members of the Military Academy. 3. Validate the operations of the NCSTTResults of this exercise were used in a following exercise, Czech 01. The main goal of this exercise was to demonstrate a CAX exercise to general staff, brigade and battalion headquarters with accent on planning and execution phase of the CAX exercise, as well as to demonstrate capabilities of NCSTTCzech 02 - Good Neighborhood was the most recent Computer Assisted Exercise (CAX) conducted at the NCSTT.. Experience learned during preparation and running this exercise will be discussed below. During each exercise essential progress was made in a methodology of CAX.In the fall 2000 the NTSCC will run e simulation support to three battalions of the Czech Army. During Czech 03 – Czech 05 exercises.2.4 Technical equipmentThe NCSTT has capability to support battalion staff training and limited capability to support brigade staff training. Its main technical equipment consist of 53 PC (Pentium II, 450 MHz, 256 MB, 10 GB, 21“ monitor)3 SGI computers (320, 540, O2),7 laptops (6 for remote site, 1for 3D view)MetaVR, 3D 3-channel projection,digital schwitchboard for radio network simulation digital recording (16 channels, ~1000 hours of radio traffic recording)10/100 Mbit/s LAN,ModSAF Internationat version 5.0Janus version 6.3Motorola ModIOSprojection systems for AARUsing this equipment the NCSTT is capable run battalion-level exercise, including logging simulation, radio traffic and collect information necessary for AAR.3. Customizing ModSAF InternationalTo provide the simulation with capability necessary for the Czech Army training, ModSAF had to be customized.Four main parts of this effort were defined after initial analysis:national version of GUI,physical modeling,behavior modeling,terrain databases preparation.The ModSAF 5.0 International version consisting of the executable code, all necessary external files for running ModSAF and basic set of  technical documentation (User's Manual, Functional Description Document and SADOD) was delivered under the FMF case (EZ-B-UAE).VR Group as a system integrator of building up the NCSTT worked on all these efforts in close cooperation with military experts from NCSTT and Military Academy in Brno. This effort was also significantly supported by technical help of STRICOM and its contractor SAIC under the U.S. government contract.3.1 National Version of GUIThe customization of  GUI of ModSAF 5.0 Int. was done in two steps. At first, as many expressions as possible were translated in  December 1999. Secondly, the whole GUI ModSAF 5.0 Int. Czech was translated in June 2000. The ModSAF 5.0 Int. was not built in such a way which made it possible to translate all GUI expressions without changing the ModSAF source code. There were about 6000 expressions in source code not translated and about 4500 expression stored in external files (rdr or xrdb files) that required translation.A set of tools and dictionaries was developed for the task completion and maintenance of translations in October 1999. These were two tools for extracting expressions from external files (one for rdr files and one for xrdb files) and putting them into a corresponding dictionary, two other tools for an incorporation of translated expressions from dictionaries into related external files. Two dictionaries were created (one for rdr files and one for xrdb files) by tools and all expressions in these dictionaries were manually translated. Why was it done in such a complicated way?translations in dictionaries are independent of external files,incorporation of thousands of expressions is done by a tool not by hand so that it is easy and fast,translation of a new version of ModSAF is easier and faster within usage of developed tools and dictionaries than by hand,easy maintenance and modifications of translations,allows future change of translations,dictionaries have a very simple format so they are easy to maintain even for computer non-professionals while ModSAF external files have much more complicated format and require computer professionals to maintain.Because of the level of possible translation of ModSAF 5.0 Int. GUI expressions was unsatisfactory SAIC developed a new version, ModSAF 5.0 Int. Czech, from February 2000 to June 2000 which allows a complete translation of all GUI expressions. The set of tools was modified according to file format changes in the new version, ModSAF 5.0 Int. Czech. Dictionaries were updated and new translations were added. Finally, a completely translated ModSAF 5.0 Int. Czech was presented during the June 2000 exercise.The developed set of tools does not provide only English to Czech language conversion but is language independent and allows to any user of the ModSAF 5.0 Int. Czech to build up his own national version of GUI.3.2 Physical ModelingPhysical models of ModSAF entities are described in hundreds of external files. This allows wide user customizations by copying and modifications of existing models or by developing new models from scratch. However, in October 1999 the only available documentation on external files for Czech developers were comments in some of these files and a short appendix in the Introduction to ModSAF Training Guide on creation of new models by copying. The first requirement was to develop models of the most important Czech vehicles and units in one month (ModSAF 5.0 Int. was delivered in October 1999, first exercise was in December 1999). This goal was achieved by copying existing USSR models and a considerable effort. Not all modifications of models parameter values were done because of shortage of documentation.From February 2000 to June 2000 SAIC prepared documentation on particular parameters Czech developers had asked about. This helped a lot during modifications of model parameter values of previously created Czech entities. All modifications were based on newly obtained documentation, gained experience, and consultations with Czech military experts. Czech units were also changed according to a new Czech Army organization structure.The process of modifications of physical models of Czech entities is not completed. Values of existing parameters of Czech entities are being evaluated by Czech military experts and will be changed according to their recommendations.3.3 Behavior ModelingBoth ModSAF 5.0 Int. and ModSAF 5.0 Int. Czech has different behavior models for U.S. entities (standard task frames) and USSR entities (OPFOR task frames). The Czech entities behavior required by Czech military experts does not fully comply neither with the standard task frames nor with the OPFOR task frames so that task frames assigned to Czech entities had to be customized.Furthermore, OPFOR behavior of some models is not fully correct. To evaluate concretely and arrange these characteristics and models, the long term knowledge and experience of the Czech military experts with the characteristics and the behavior of OPFOR weapon systems and units could be useful.There are three possible ways of customizing these differences:changing parameter values of behavior models (task frames) of Czech entities in external files,smart and skillful usage of existing task frames by operators. This usually requires to task smaller units, sometimes even individual vehicles,creation of new task frames.At first, parameter values of existing task frames are being modified according to the Czech Army doctrine.Secondly, operator's training focus on how to operate ModSAF so that Czech entities follow the Czech Army doctrine as much as possible.Lastly, Combat Instruction Sets for new specific task frames are being prepared in cooperation with SAIC.3.4 Terrain databasesThe primary simulation tool for training commanders and their staffs at NCSTT in Brno is ModSAF 5.0 Int. It is necessary to prepare not only a CTDB format database for ModSAF but also a visual terrain database for virtual simulation tools.The main effort was not only to find a way how to create a CTDB format terrain database and a visual database correlated to each other, but also to build and preserve links to the digital source data used within the Czech Army. The Czech Army source data is completely stored in the national format and is maintained using ESRI products. This data is available in WGS84 geodetic datum and UTM map projection.The initial attempt to construct both types of terrain databases and meet needs mentioned above was to prepare a direct conversion process from the Czech Army source data to the CTDB format and then derive the visual database from the CTDB format database using commercial products (see Figure 5-1).Figure 3-1. Building terrain databasesThere was not a "ready to use" commercial software tool for the CTDB to OpenFlight conversion at the time of creation of the first terrain database so another set of commercial products was used to create the visual database for virtual simulation directly from the Czech Army source data format. This data was not used in the same format as the data used for the creation of the CTDB database, but had exactly the same geometry and attributes.The main task in the whole process of preparation of needed terrain databases was initially and is still the conversion process from Czech Army source data to the CTDB format. This conversion process was divided to the following steps:CTDB format analysis,source data analysis and preparation,analysis and development of conversion system,creation of  the terrain database,terrain database testing.CTDB analysis process was the initial effort. It was necessary to analyze binary codes of existing CTDB format databases because of inaccessibility of documentation on the CTDB format. As mentioned above the Czech Army source data are stored in a GIS environment and contain a lot of information. A set of generalization rules for this source data was prepared under the source data analysis task to meet the CTDB format structure. The main idea of the conversion system analysis was to divide it to two main parts. The first one is a module, which can read the Czech Army source data format and prepare a CTDB format structure in an editable MS Access database. This database could be used for final editing. The second module converts this database to the CTDB binary format.A lot of fragments of  the CTDB format terrain database was prepared to test the system capabilities during the development of the conversion system.The first Czech terrain database for ModSAF was successfully tested before the multinational exercise in June 2000 at NCSTT in Brno. The terrain database was then used during this exercise.The future plan is to improve the whole system, because certain CTDB format capabilities are currently not used by the conversion system, but also to build another module for a conversion from the Czech Army source terrain data to the SEDRIS environment (see Figure 5-2).Figure 3-2. Building terrain databases using SEDRIS4. Using and Customizing AAR ToolsThe Motorola ModIOS system was delivered and implemented to support  DISTAFF activities during the exercise and for after action reviews. It has the following modules:Network Interface Unit (NIU),Exercise Controller,3D Stealth,AAR with Logger and Player.The standard ModIOS AAR module and its "Take Home" package do not meet all Czech Army requirements. A decision to develop new modules to provide graphs and statistics from AAR logger files was made. The new "Statistics" module (ExStat32.dll) and its connection with ModIOS AAR Module is described in Figure 4-3.Figure 4-3. The "Statistics" module (ExStat32.dll) and its connection with ModIOS AAR ModuleThe DISPDU module as a standard AAR plug-in module, generated using templates as a  DISPIE Class, was created to connect new modules and current ModIOS AAR module. It is registered in the configuration plug-in file (events.cfg).DIS204.dll is module for data conversion from AAR logger format to the DIS 2.0.4 PDU structure used in ExStat32.dll module.The module ExStat32.dll generates a lists of logical records. Exercise entities are registered in actual records and the module calculates their interactions (e.g. fire and detonation). It is also possible to define the categories of weapon systems and munitions by using configuration files. These lists are exported to the database (ODBC – MS Access).The module ExView32.exe displays required statistics using  ExStat32 database (ODBC - MS Access)  and DIS enumeration database (generated from ModSAF reader files). A commercial "on the shelf" Seagate Crystal Reports software package was successfully tested as a tool for displaying the statistics.All these new modules have been developed as independent software modules and they can be used with any other AAR systems. 5. Czech 02 - Good Neighborhood Exercise5.1 General InformationThis exercise was the most recent Computer Assisted Exercise (CAX) conducted at the Military Academy, Brno. Czech 02 was a Multi-National, Czech Army led, Brigade mid-intensity conflict exercise that was conducted 14-16 June 00, utilizing the ModSAF model and a Czech designed terrain database. The objectives of the exercise was to demonstrate the Czech Republic’s NCSTT capability to support a multi-national computer assisted exercise and to enhance future multi-national training relationships. Representatives from Austria, Latvia and the Slovak Republic participated in various multi-national roles. Two battalions were represented in ModSAF as primary training audience gamers, and the third battalion was scripted. A two day scenario which included a movement to contact, and deliberate attack was exercised using a live opposing force provided by the staff of the military academy. An After Action Review was conducted on the third day. Participants:80 faculty members and students from Military Academy in Brno3 officers from Latvia12 faculty members and students from Military in Wiena, Austria24 faculty members from Military Academy in Liptovsky Mikulas, Slovakia5.2 ConfigurationFor the simulation support of the exercise total 30 workstations were used (not listed ones were used as back-end stations to increase computing resources and for backup), see Table 5-1. Initial number of simulated entities is listed there.WS numberEntities - Day 1Entities- Day 2brigade413114011th bat716417112th ba7175183OpFor5335335Table 5-1. Configuration of Czech 02 CAXFor the After Action Review the Motorola ModIOS system was used on another three computers (ExCon, Logger and Steath). Simulated radio traffic was recorded and used during AAR.5.3 Experiences with ModSAFIt is not usual to run such a large exercise using ModSAF. Critical parts of using ModSAF simulation system from the technical point of view can be divided into the following parts:workstation power,computer network,operating system,ModSAF installation and configuration.The workstations with technical specifications described used for the exercise were one and half year old. It is obvious, that one could use more powerful workstations nowadays, but the workstation power is not the crucial problem and proved to be sufficient.Insufficient throughput of a computer network could be a bottleneck for the simulation, however the capacity of the delivered computer network was adequate (4 percents of its capacity were used).A large exercise with a lot of ModSAF workstations  requires a quality configuration management system for maintaining operating systems and ModSAF installations (sets of modified reader files). This process was not mistake-free so it is necessary to improve it.ModSAF stations use a DIS database that is shared by all of them. ModSAF stations are divided into groups of stations. Each group uses one separated PO database. Each PO database can be backed up by one or more back-up stations. Several possibilities how to divide stations into groups and what PO databases back-up were tested, however no optimum solution was found. Another problem was operating of ModSAF. Although operator's training focused on how to operate ModSAF so that Czech entities follow the Czech Army doctrine as much as possible, this goal was not completely achieved. This was caused partly by the fact that it was very demanding on operators to task small units or even individual vehicles. The second reason was that available documentation does not describe implemented behavior models sufficiently so that it is impossible to estimate whether a problem is caused by a bug in ModSAF or by doctrinal differences. Some behavior incorrectness were amplified by usage of the new Czech ModSAF terrain database which is more complex than delivered terrain databases.The extent of the June 2000 exercise almost reached limits for usage of set of interconnected ModSAF workstations. It seems that the use of a set of interconnected ModSAF workstations for battalion commander and his staff training satisfies the requirements of the Czech Army. And it also satisfies certain types of brigade commander and his staff training. 6. ConclusionsThe validation process through a series of tests, and exercises, at the NCSTT, has confirmed that the decision to acquire ModSAF as a basic model to train battalion commanders and their “battle staffs” was the right one. Upon review of other alternatives, ModSAF clearly offers the best capability, affordability and easy of utilization during integration of computer assisted training into the Czech Army training model.However, further implementation and development can only succeed if the required Czech customization is successful. This will require continued close cooperation and assistance with American experts and improvement of regulations for technical information exchange. While ModSAF is being implemented a suitable simulation system for a higher-level training of brigade commanders and their staffs must be considered.7. References [1] COLLECTIVE OF AUTHORS: „Conception of fielding the simulation and training technology (STT) into the ACR“. ACR GS , Prague 1998. [2]	PRENOSIL, V., HULAK, R., VRAB, V., PROCHAZKA, D.: “The National Center of Simulation and Training Technologies of the Czech Army.“ Presentation at ITEC 2000, Haag 2000 Author BiographiesMAJ DALIBOR PROCHAZKA is a chief of the National Center of Simulation and Training Technologies at Military Academy in Brno. He participated in working out the Czech Army simulation master plan and in building up the NCSTT since 1998. He has a Master of Science degree in Applied Mathematics from Lomosonov Moscow State University and a Ph.D degree in technical cybernetics from Military Academy in Brno. MARTIN KLICNAR is a project manager with VR Group working on the project of building up of two main Czech Army training centers, NCSTT in Brno and VSPS in Vyskov. His responsibilities include project management of building up the NCSTT in Brno. Mr. Klicnar holds a Master of Science degree in Civil Engineering from the Technical University of Brno and Postgraduate Certificate of Management from the Nottingham Trent University (Brno Business School). His interests include project management of using simulation and training technologies.PAVEL POSPISIL is a senior software engineer with VR Group working on the project of building up of two main Czech Army training centers, NCSTT in Brno and VSPS in Vyskov. His responsibilities include design and development of ModSAF modifications.  Mr. Pospisil holds a Master of Science in Computer Science from the Technical University of Brno.  His interests include simulation, numerical methods and software engineering.VLADIMIR VRAB is a leader of the research group of the NCSTT. He was an officer of Signal Corps of Czech Army 1971 to 1985 and he was a lecturer at the Military Academy in Brno from 1985 to 2000. He  graduated as Dip. Eng. of the military communication system in 1978 and he holds a Ph.D.degree, Assoc. Prof. since 1998. Retired as Ltc 1992.ModSAFCTDB Format3D TDB(OpenFlight)SEDRISCzech ArmySource Data3D TDB(OpenFlight)ModSAFCTDB FormatCzech ArmySource DataXI/00Czech 05X/00Czech 04IX/00Czech 03V/00Czech 02I/00Czech 01XII/99Czech 00V/99IDET WorkshopIV/99LOA signedV/98Masterplan approvedFigure 2-1. Timeline of NCSTT