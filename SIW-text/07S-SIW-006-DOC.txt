An Analysis of the Effects of Earth Model Errors on Geometric PairingBradley C. SchrickerAT&T Government Solutions, Inc.11301 Corporate Blvd.Suite 110Orlando, FL 32817407-658-6908 HYPERLINK "mailto:bschricker@att.com" bschricker@att.comLouis FordIcon Systems, Inc.3505 Lake Lynda Dr.Suite 119Orlando, FL  32817407-658-4999 HYPERLINK "mailto:lford@iconsystems.net" lford@iconsystems.netKeywords:TES, geometric pairing, geo-pairingAbstract:  For a number of decades, among the most prevalent training media in the military has been Tactical Engagement Simulation (TES) training.  TES has allowed troops to train for practical missions in highly realistic combat environments without the associated risks involved with live weaponry and munitions.  This has been possible because current TES has relied largely upon the Multiple Integrated Laser Engagement System (MILES) and similar systems for a number of years for direct-fire weapons, using a laser to pair the shooter to the potential target(s).  Emerging systems, on the other hand, will use a pairing method called geometric pairing (geo-pairing), which uses a set of data about both the shooter and target, such as locations, weapon orientations, velocities, and weapon projectile velocities, nearby terrain to resolve an engagement.  A previous paper [1] introduces various potential sources of error for a geo-pairing solution.  This paper goes into greater depth regarding the impact of errors that originate within earth model errors, beginning with a short introduction into the TES system (TESS).  The next section will explain how different representations of the earth can impact the engagement resolutions within a TESS followed by a mathematical analysis demonstrating that impact.  A summary and conclusion containing recommendations will close this paper.                            IntroductionLegacy tactical engagement simulation systems (TESS) have typically used lasers to pair a shooter and target during a simulated engagement.  While proven to augment training through the decades of its use, the laser has numerous weaknesses for this application.  As such, attempts have been made – and are ongoing – to provide the Army with an improved system that does not rely solely upon lasers to resolve tactical engagements.  This paper, as part of an ongoing series of analysis papers, addresses the issues involved with geometric pairing with regards to terrain representation.The following section begins with a detailed description of the OneTESS program.  OneTESS has implemented geo-pairing for demonstrations that took place in July of 2005, December of 2005 at the Interservice/Industry Training, Simulation & Education Conference, and February of 2006 on Capitol Hill in Washington, DC, and thus, provides a perfect context for the subject matter presented herein.The next section provides an explanation of the types of instrumentation that is used to measure weapon orientation and the error associated with those instruments.  That is followed by a mathematical analysis of how those errors can negatively affect the outcome of a geo-pairing algorithm.  The conclusion provides a summary of the paper, and interpretation of the analysis, and suggestions for overcoming the potential sources of error stemming from orientation sensing equipment when implementing geo-pairing.This paper is the fourth in a series of papers detailing and analyzing potential sources of error associated with a geo-pairing solution [2] [3].Tactical Engagement Simulation (TES)OneTESS is the Army’s program for the next-generation of TESS.  For greater context, consider that live training for military purposes dates back millennia [4].  Hand-to-hand combat drills under highly constrained conditions and target practice likely have histories as long as that of warfare, itself.  With the introduction of the Multiple Integrated Laser Engagement System (MILES) in the 1970s, live, tactical training took a quantum leap forward.  For the first time, soldiers could conduct force-on-force training under safe and, at the same time, relatively unconstrained conditions, closely reflecting the conditions experienced during actual warfare.  The application of what was then state-of-the-art laser technology enabled this advance, but this technology now faces two significant disadvantages: Lasers cannot represent indirect fire, or Non-Line-of-Sight/Beyond-Line-of-Sight (NLOS/BLOS) engagements without additional support, such as what is provided by Simulated Area Weapon Effects – Radio Frequency (SAWE-RF)Opaque and translucent obscurants that do not stop bullets, such as foliage and fog, can block laser beamsFigure 1 opposite shows a military training exercise taking place with the use of MILES equipment.  Note the equipment that makes up MILES.  The weapons in the photograph have attachments on the ends that look like metal boxes, approximately 1” X 2” X 3” in size.  These attachments fire the infrared encoded laser beams that constitute an electronic bullet.  These infrared pulses must intersect with one of numerous sensors integrated within the soldiers’ clothing.  In the picture, these sensors can be easily differentiated from the rest of the equipment as black circles, approximately one inch in diameter.  These sensors are most noticeable in a halo pattern on the Kevlar helmets and on straps going down the soldiers’ ribcages.Figure  SEQ Figure \* ARABIC 1.  Soldiers training using MILES equipmentOneTESS is intended to address this shortcoming with current equipment as well as others that have been identified over the many years of MILES service.  As such, OneTESS will support Force-on-Force (FOF) and Force-on-Target (FOT) training exercises at the Brigade level and below in all Battlefield Operating Systems at Homestation, maneuver Combat Training Centers, and deployed sites using technologies other than just lasers to pair shooters to the potential targets.  As part of these goals, OneTESS will simulate a multitude of different engagements, proper doctrines, and weapon capabilities as well as stimulate detectors, sensors, monitors and countermeasures [5].  As mentioned previously, in legacy TESS, the most common method of pairing the shooter to potential targets is with the use of infrared laser beams.  However, this paper has already identified weaknesses of this approach.  Thus, OneTESS will use a pairing method called geometric pairing (geo-pairing).  Geo-pairing uses a collection of data about the shooter, the target, and the terrain.  That data includes:Location of the shooterLocation of the targetTime of the trigger pullCharacteristics of the weapon and its ammunitionOrientation vector of the weaponAtmospheric conditionsTerrain dataEarth modelRepresentations of the earth, or rather the accuracy of such, greatly impact the accuracy with which a geo-pairing algorithm can pair a shooter to its targets.  The following section describes different models of the earth that are likely to be considered for implementation within TESS.Earth ModelsWithin the modeling and simulation community, there are essentially two different methods used for modeling the earth:Flat EarthGeodetic EarthBoth of these methods have purposes that prevents either from being labeled as fundamentally better than the other.  In short, Flat Earth works well for simulations that take place over small areas of land, whereas Geodetic Earth is more appropriate for wide areas that consist of thousands of square miles.  Problems develop, however, for applications that take place in both small and large areas.The next two sections describe the two different models and their most typical uses, in relation to training.Flat EarthThe Flat Earth model is much like view of the world commonly held by people prior to naval circumnavigation hundreds of years ago.  In a flat earth model, the surface is viewed has a single flat plane with terrain features – such as mountains and valleys – that have different elevations.  Therefore, every point on the base terrain has a relative elevation of zero.  Figure 2 opposite shows arguably the most well-known version of the flat earth model – the Mercator Projection.  The Mercator Projection is cartographers best effort at representing a geodetic, three-dimensional object on a flat piece of paper.  In this representation, objects close to the equator are shown at nearly the correct sizes, but objects closer to the poles are shown much larger than reality [6].  Perhaps the best know comparison that shows this is between Africa and Greenland.  According to [7], the land area of Africa is 11,668,545 square miles.  However, [8] states that the land area of Greenland is 836,109, approximately one-fourteenth the size of Africa.  Notice, though, that in Figure 2, the two land masses appear of similar size.Figure  SEQ Figure \* ARABIC 2.  Mercator Projection of the earth [9]However, this distortion is rarely a problem within M&S because this representation is typically only used for applications that take place over a much smaller surface areas.Geodetic EarthThe term geodetic comes from geodesy, meaning:“The scientific study of the size and shape of the Earth, its field of gravity, and such varying phenomena as the motion of the magnetic poles and the tides.” [10]  As such, all earth models could be considered geodetic.  However, the term is generally reserved for those models arising from the need for a unified, world-wide system created by the space exploration programs beginning in the 1950’s.  The first World Geodetic System (WGS) was created in the late 1950’s and completed as a standard in 1960. Significant updates to the system were established in 1966, 1972, and 1984, thus providing the most widely used system today, the WGS-84.  Work on the system since that time has focused on the gravity model, with the Earth Gravity Model (EGM) being added in 1996, with minor updates in 2004.  WGS-84 is the reference system used by the Global Positioning System (GPS).A geodetic representation of the earth is an attempt to model the earth in a fashion more true to the real world.  Obviously, the earth is very nearly geodetic, having only slight bulging at the poles and various terrain features.  There are different methods for this type of model, but the most common involve either representing elevation as the distance from the center of the earth or representing elevation as a delta value from an average radius from the center of the earth.This type of representation typically requires a great deal more resources in the form of memory, storage space, and CPU time because of:More elevation pointsLarger representations of the elevations of those pointsMore complex search and processing algorithms to apply a geodetic modelBecause of this additional strain on computational resources, geodetic models are usually only used when a truly global representation is necessary.  Therefore, for a Military Operations on Urban Terrain (MOUT) training exercise which takes place within a highly localized town or village, a geodetic earth representation would be inappropriate and undesired.However, for OneTESS which will include both localized and regional engagements, the use of both representations may be necessary.  Resolving the two in this case will be a non-trivial task.Figure 3 on the following page shows how error can accrue in these situations.  Because of the differences in the two representations, on any engagement that involves a munition flyout, a delta in the elevation exists – ∆y in Figure 3 – between the results depending on which earth model is used.  In short-range engagements, this delta is negligible, but as the figure shows, the longer the range is, the greater the delta. SHAPE  \* MERGEFORMAT Figure 3.  Comparison between flat earth and geodetic earth representationsThe following section provides a detailed analysis for just how significant the errors – the delta value in Figure 3 – are and how they impact the outcome of an engagement in a geo-pairing solution.Mathematical AnalysisTranslating between flat earth and geodetic earth models is an arduous task that can introduce inconsistencies and errors.  Figure 4 opposite illustrates the true seriousness of the problem.  In this picture, the center of the earth is represented by a red dot.  The radius is denoted by r while a tangent line representing a flat earth is denoted by t.  The shooter’s position is notated by s.  In this example, depending on how locations are translated between the two different earth models, the impact could happen at as many as three different locations, notated by A, B, and C.The analysis will calculate these three points for three different elevation angles for the main gun of an M1 Abrams main battle tank.  The magnitude of the initial velocity of the main gun is 1575 meters per second and the elevation angles, θ, will be 10º, 30º, and 45º.  It must be noted that the aim of this paper is not to capture all potential target locations accurately within the real world, but instead to demonstrate in a simplistic manner the seriousness of the problem when considering differing models to represent the earth.  This analysis will show that engagement results differ, sometimes dramatically, when using different earth models.To determine point A on Figure 4, a set of equations must be derived.  First, the velocity vector must be broken into its respective x and y components.  This is accomplished using the following two equations:v0x = cos θ0 • v0v0y = sin θ0 • v0 EMBED PowerPoint.Slide.8  Figure 4.  Illustration of flat/geodetic earth problemThe next significant step is to determine how long it takes for the projectile to stop ascending in its parabolic trajectory.  That is, at what instant in terms of time does the y-component of the velocity equal 0.  To determine this, one must use the following equation:∆d = vt, where ∆d is the change in displacement, v is the instantaneous velocity, and t is the timeTo take into account acceleration, one must take the first derivative of that equation.  This yields the following formula:∆d = ½at2 + vt, where a is equal to the acceleration – in this case, due to gravityBecause the velocity of the projectile at the critical point is equal to zero, that equation can be amended to:∆d = ½at2This can be further derived to:∆d = v02 / -2aThe displacement obtained by plugging values into this equation can then be applied to the following equation to determine the amount of time to ascend to the highest point in the trajectory:∆v = atThis time value must then be doubled to account for the time that it takes for the projectile to fall back to the earth.Once that is equated, the time value can be applied to equation 3, using the v0x value for velocity since, in this paper, the x component of the velocity is constant.When making this calculation on a geodetic earth, one must account for the fact that for every 1600 meters traveled in a tangent to Earth, the surface drops by 1 meter.  With this knowledge, an iterative algorithm can be developed to determine the change in distance because of the difference in model.  One would expect that the result would be longer ranges because it would take more time for the projectile to impact with a surface that is getting gradually farther and farther away from the original elevation.  This will provide the location that corresponds to point C on Figure 4.Determining point B involves solving for the displacement angle, σ, based upon the distance traveled as determined by point C.  To derive this, consider Figure 5 opposite.  To solve for σ, one must start with the equation:d/2 = r • sin (1/2 σ)The derivation is as follows:(d/2r) = sin (1/2 σ)sin -1 (d/2r) = 1/2 σ2 sin -1 (d/2r) = σσ = 2 sin -1 (d/2r) EMBED PowerPoint.Slide.8  Figure 5.  Diagram with displacement, dUsing that displacement angle and knowing that the tangent line, t, forms a 90º angle, a basic trigonometric function can be used to determine the adjusted distance traveled by the projectile.  Like Figure 5, Figure 6 opposite represents Figure 4 without the image of the earth.  Additionally, the new displacement, d’, is shown. EMBED PowerPoint.Slide.8  Figure 6.  Image of new displacement, d'Using the tangent formula, we know that:tan σ = d' / rTherefore, solving for d’:d' = tan σ / rThe following three subsections apply these equations to each of the three scenarios with differing elevation angles.10º Elevation AngleAs mentioned before, the pertinent data in such a calculation are the initial velocity and the elevation angle.  In this case, those values are:V0 = 1575 m/sθ = 10 ºUsing equations 1 and 2, the x and y components of the initial velocity are equal to:v0x=cos (10 º) • 1575 m/s=(0.9848) • 1575 m/s=1551.06 m/sv0x=1551.06 m/sv0y=sin (10 º) • 1575 m/s=(0.1736) • 1575 m/s=273.42 m/sv0y=273.42 m/sThis value can now be plugged into equation 7 to determine the amount of time it took for the projectile to ascend to the top of its trajectory:∆v=att=∆v / a=(0 m/s – 273.42 m/s) / (-9.8 m/s2)=(-273.42 m/s) / (-9.8 m/s2)=27.9 st=27.9 sDoubling this time value to account for the descent back to the earth yields 55.8 seconds.  This value can then be applied to equation 3:A=vt=(1551.06 m/s)(55.8 s)=86549.15 mA=86549.15 mTherefore, under these conditions and neglecting variable gravity and drag forces, point A would be about 86549 meters away from the shooting location.Performing the iterative algorithm to determine the displacement on the geodetic earth, C is approximately 86856 meters, over 300 meters farther than A.Considering that the average radius of the earth is 6372797 meters, the values can be inserted into equation 12 as such:σ=2 sin -1 (d/2r)=2 sin-1 (86856 m / 12745594 m)=2 (0.39)ºσ=0.78ºUsing equation 14, it can be determined that:d'=tan σ / r=tan (0.78º) / 6372797 m=86761 md'=86761 mThis result for B of 86761 meters is over 200 meters farther than for A and nearly 100 meters less than C.30º Elevation AngleUsing the same values for the velocities, the calculations are as follows:v0x=cos (30 º) • 1575 m/s=(0.8660) • 1575 m/s=1363.95 m/sv0x=1363.95 m/sv0y=sin (30 º) • 1575 m/s=(0.5) • 1575 m/s=787.5 m/sv0y=787.5 m/sTherefore, the correct range of the projectile is calculated as:∆v=att=∆v / a=(0 m/s – 787.5 m/s) / (-9.8 m/s2)=(-787.5 m/s) / (-9.8 m/s2)=80.4 st=80.4 sA=vt=(1363.95 m/s)(160.8 s)=219323.16 mA=219323.16 mPerforming the iterative algorithm, C is located approximately 231 meters farther away, at 219454 meters.  Therefore, the location of B is determined as:σ=2 sin -1 (d/2r)=2 sin-1 (219454 m / 12745594 m)=2 (0.99)ºσ=1.98ºd'=tan σ / r=tan (1.98º) / 6372797 m=220315 md'=220315 m, or nearly 1000 meters farther away than A45º Elevation AngleUsing the same values for the velocities, the x and y components of the velocity are as follows:v0x=cos (45 º) • 1575 m/s=(0.7071) • 1575 m/s=1113.68 m/sv0x=1113.68 m/sv0y=sin (45 º) • 1575 m/s=(0.7071) • 1575 m/s=1113.68 m/sv0y=1113.68 m/sTherefore, the correct range of the projectile is calculated as:∆v=att=∆v / a=(0 m/s – 1113.68 m/s) / (-9.8 m/s2)=(-1113.68 m/s) / (-9.8 m/s2)=113.6 st=113.6 sA=vt=(1113.68 m/s)(227.2 s)=253028.1 mA=253028.1 mPerforming the iterative algorithm, C is located approximately 110 meters farther away, at 253138 meters.  Therefore, the location of B is determined as:σ=2 sin -1 (d/2r)=2 sin-1 (253138 m / 12745594 m)=2 (1.14)ºσ=2.28ºd'=tan σ / r=tan (2.28º) / 6372797 m=253780 md'=253780 m, or nearly 800 meters farther away than AFinal AnalysisTable 1 below organizes the computations presented in the previous three subsections.  The table shows the range of the projectile for each method at each angle of elevation.Table 1.  Results of analysisθA (m)B (m)C (m)10º86549.15867618685630º219323.1622031521945445º253028.1253780253138The different representations – and thus the translations from one representation to another – clearly create discrepancies in the range results.  The results range from a couple hundred meters to over 1000 meters.  For most targets that the main gun of an M1 Abrams would fire upon, this magnitude of error would be sufficient to produce incorrect engagement results.Furthermore, for longer range weaponry with higher velocities, the magnitude of error would be even greater, though it should also be noted that being brought with such weapons is far greater firepower.  Thus, it is possible that the greater magnitude of error would not produce incorrect engagement resolutions with any greater frequency.Summary and ConclusionThe purposes of this paper were largely to identify the existence of error as a result of the use of different conceptual models of the earth, analyze the magnitude of that error, and to propose solutions to address this source of error.The analysis section clearly demonstrates not only the existence of error from different earth models.  Depending on how the travel distance of a projectile is derived, the results can vary by thousands of meters in different representations of the earth.  Errors of this magnitude can easily affect how an engagement resolves, particularly for weapons that do not produce area effects within a radius as large as the magnitude of error.This analysis does not reveal anything that was not already known, however.  Indeed, the underlying problem is not that different models produce different results, but rather that some geo-pairing engagements within OneTESS may require the use of both earth model representations.  Because of this, errors could matriculate into the final results for an engagement calculation.  This problem is further complicated by the fact that representations of the earth are often cumbersome and require large amounts of data storage.Fortunately, OneTESS has the capability for the shooter – as opposed to the target(s) or some other third party system – to resolve an engagement.  Because of this, an elegant solution would be to allow certain shooters to contain representations of the earth in both formats and added algorithmic logic to fine tune an engagement result.  This approach is feasible for several reasons that all pertain to the range of an engagement.  It should be noted once again that geodetic earth representations are typically used for longer range engagements.  Most – if not all – long range engagements take place upon a platform.  That is, they are typically initiated by crew-served weapons such as tanks as opposed to individual-served weapons, such as M16 rifles.  Because of this, greater data storage and processing capabilities can be employed, taking advantage of the less stringent weight requirements and the capability to embed software within the platform.  Without such limitations, the types of weapons that would actually have a need for both earth models and additional computational resources would have sufficient infrastructure to support that need.Therefore, it is highly likely that to address the type of error documented in this paper, the most straightforward solution will be to take into account in what types of engagements each weapon will participate and then plan accordingly so that the resources are available for long range weapons to resolve – via geo-pairing – as accurately as possible.References[1]	Ford, Louis, and B. Schricker, “Engagement Resolution via Geo-Pairing:  An Identification and Analysis of Potential Error Sources,” Proceedings of the 2005 Fall Simulation Interoperability Workshop, Orlando, FL, September 2005.[2]	Schricker, Bradley C. and Louis Ford, “An Analysis of the Effects of Digitized Terrain Errors on Geometric Pairing,” Proceedings of the 2006 Spring Simulation Interoperability Workshop, Huntsville, AL, April 2006.[3]	Schricker, Bradley C., Louis Ford, and Matthew Janisz, “An Analysis of the Effects of Orientation Sensing Errors on Geometric Pairing,” Proceedings of the 2006 Fall Simulation Interoperability Workshop, Orlando, FL, September 2006.[4]	Appian, “The Civil Wars.”[5]	“One Tactical Engagement Simulation System (OneTESS),  HYPERLINK "http://www.peostri.army.mil/PRODUCTS/ONETESS/" http://www.peostri.army.mil/PRODUCTS/ONETESS/.[6]	Snyder, John P., “Map Projections – A Working Manual,” U.S. Geological Survey Professional Paper 1395, United States Government Printing Office, Washington, DC, 1987.[7]	“Africa,” Wikipedia,  HYPERLINK "http://en.wikipedia.org/wiki/Africa" http://en.wikipedia.org/wiki/Africa, viewed on January 11, 2007.[8]	“Greenland,” Wikipedia,  HYPERLINK "http://en.wikipedia.org/wiki/Greenland" http://en.wikipedia.org/wiki/Greenland, viewed on January 11, 2007.[9]	“Google Maps,”  HYPERLINK "http://maps.google.com/" http://maps.google.com/, viewed on January 11, 2007.[10]	“Geodesy,” American Heritage Science Dictionary, Houghton Mifflin Company, 2002.Author BiographiesBradley Schricker is a Software Engineer with AT&T Government Solutions, Inc., currently working on the Demonstration of Technology and System team of the One Tactical Engagement Simulation System (OneTESS) project.  He has eight years of experience in software engineering, focusing his efforts in the areas of distributed simulation, discrete event simulation, virtual environments, and behavior representation.  Mr. Schricker received his Bachelor of Science degree in Computer Science with a minor in Mathematics from Florida State University in 1998, is currently pursuing a Master of Science degree in Modeling and Simulation from the University of Central Florida, and will graduate in May of 2007.Louis Ford is a Project Engineer for Icon Systems, Inc., working on modeling and simulation technologies in the live domain.  He has worked on numerous simulation, space, and missile programs and is currently working on the OneTESS program.  Mr. Ford received his Bachelor of Science degree in Industrial Engineering from the University of Central Florida in 1985 and a Master of Arts degree in Religion from Liberty Baptist Theological Seminary in 2000.  He is currently working towards a Master of Science degree in Computer Science from Rennselaer Polytechnic Institute.