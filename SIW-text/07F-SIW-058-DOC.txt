Federation Agreements - Observations, Considerations and Proposals out of the NATO MSG-052 Working Group “Knowledge Network for Federation Architecture and Design”Wim HuiskampMargaret Loper, PhD.Dannie E. CuttsTNO Defence, Security and SafetyGeorgia Tech Research InstituteThe AEgis Technologies GroupPO Box 96864,250 14th Street, N.W.631 Discovery Drive N.W.2509JG The Hague, The NetherlandsAtlanta, GA  30332-0832Huntsville, AL  35806Wim.Huiskamp@tno.nlMargaret.Loper@gtri.gatech.edudcutts@aegistg.com+31 70 3740274404-407-6663256-922-0802 x2209Keywords:NATO MSG-052, Federation Agreements, Best Practices, Federation Development, FEDEP, HLAABSTRACT: Designing and managing distributed simulation systems is a complex process requiring extensive experience, in-depth knowledge, and unique skills to construct a federation which meets a myriad of operational, functional and technical requirements.  Unfortunately, the practical knowledge gained in the architecture, design, development and systems integration of federations is seldom reused and rarely shared in an effective manner.  In a collaborative effort the NATO Research & Technology Organization (RTO) is sponsoring a NATO Modelling and Simulation Group (MSG-052) to establish a knowledge network comprised of a combination of a Community of Practice (CoP), Organisations and Knowledge Repositories oriented to promote the development and sharing of information and knowledge on federation architecture and design among North Atlantic Treaty Organization / Partnership for Peace (NATO / PfP) countries. A critical component of federation architecture and design are the federation agreements (FAs). This paper is the result of the initial activities of the MSG-052 Working Group regarding federation agreements. The group organized its first workshop in February 2007 at FMV, the Swedish military procurement agency, in Stockholm, Sweden, where it addressed Federation Agreements as one of its main topics. This paper presents the view on federation agreements developed out of the practical experiences collected from expert federation developers across the NATO / PfP community during the workshop. The general observation is that federation agreements are in fact defined and refined in each phase of the federation development process. It is a continuous and iterative process and certainly not limited to the formal FEDEP ‘step 4’ (Develop Federation). This view should be reflected in the current SISO effort to update the FEDEP IEEE 1516.3 standard. The MSG-052 federation development CoP proposed that FAs be managed and maintained in a different manner. MSG-052 recommends a much stronger information centric approach towards FAs and is investigating possible solutions.This first CoP working group also proposed a template format for FAs which identified its characteristics in a structured way. For example: what is the formal definition of the FA, who is affected by it, when does it apply, what is the rationale behind the FA, etc. The objective of this structured description is to support FA reuse, and to benefit from previous experiences. The paper will also provide a proposed classification that can be applied to FAs (e.g. Logical, Functional, and Physical), and the typical stakeholders such as federates, federation manager, customer and users that are involved for each of these FA classes.The paper will conclude with proposed options and a recommended way ahead for federation agreements.  It will also discuss how MSG-052 can contribute to the SISO FEDEP Product Development Group’s IEEE review process.NATO MSG 052 OverviewDesigning and managing distributed simulation systems is a complex process requiring extensive experience, in-depth knowledge, and unique skills to construct a federation which meets a myriad of operational, functional and technical requirements. Unfortunately, the practical knowledge gained in the architecture, design, development and systems integration of federations is seldom reused and rarely shared in an effective manner. In a collaborative effort, the NATO Research & Technology Organization (RTO) [1] is sponsoring the NATO Modelling and Simulation Group (MSG-052) to establish a knowledge network comprised of a combination of a Community of Practice (CoP), Organizations and Knowledge Repositories designed to promote the development and sharing of information and knowledge on federation architecture and design among NATO / PfP countries. The MSG-052 activity was started in 2006 and will complete its work in 2009. The group has participants from Sweden (Chair), Belarussia, Canada, France, Germany, The Netherlands, Spain, the United Kingdom and the United States.The MSG-052 management and steering group will organize a number of expert workshops on specific issues related to federation development. These issues include federation agreements, federation management, logging & analysis and other topics. The group operates by identifying national experts on each of the selected topics and inviting them to participate in a collaborative working environment (CWE) to discuss a specific issue. The discussions are held in preparation for a workshop hosted by one of the nations. The first MSG-052 workshop was held in February 2007 at FMV, the Swedish military procurement agency, in Stockholm, Sweden, where it addressed Federation Agreements (FAs) as one of its main topics.The results of each workshop and the discussions on the CWE are collected by a moderator who posts a ‘consensus’ page at regular intervals.This paper is the result of the initial activities of the MSG-052 Working Group regarding FAs. The authors will present the views of the expert group regarding the shortcomings of the current approach to establishing and documenting FAs. The paper will then present the proposals that were submitted for a more structured and information oriented methodology to capture and maintain this important aspect of the federation design. The authors hope that our observations and ideas will contribute to the current SISO effort to update the FEDEP IEEE 1516.3 standard.FEDEP OverviewThe HLA Federation Development and Execution Process (FEDEP) is part of the High Level Architecture best practices [2]. The FEDEP describes a generalized process for building HLA federations. It may be seen as a high-level engineering process for developing distributed simulations according to the HLA principles.The FEDEP does not replace detailed software design and development methods, nor is it intended to be fully prescriptive. The HLA practitioners are encouraged and expected to tailor the FEDEP to their needs. The FEDEP identifies seven basic process steps ( REF _Ref170554218 \h Figure 1) that federation developers will typically perform. These steps formalize a set of systems engineering activities that support the development of a federation that meets the customer’s requirements. The FEDEP process description and its commonly used graphical representation, very much give the impression that it is a ‘waterfall’ approach although it was intended to support an iterative process. Users have also complained about the lack of attention in the FEDEP for re-use of existing assets or results from previous federation development cycles. Obviously, possible reuse of existing federates or even complete federations should be investigated when starting a federation development. In most cases some modifications or updates will be needed. A structured process like FEDEP is intended to help developers in assessing the feasibility of reuse and control configuration management of changes or modifications. Two important elements of the federation design are the datamodel (FOM) and the federation agreements (FA). The structure of the FOM is well defined in HLA. However, the federation agreements are not well defined. What exactly is an FA, what should be covered in an FA and how should it be documented. Formally, the FEDEP identifies step 4 (Develop Federation) as the phase where FAs should be defined. In practice, that causes problems since agreements may arise at other steps during the FEDEP and should be captured when necessary. Federation developers have approached FAs differently. This makes it more difficult to reuse existing federates or federations because it is hard to understand what the agreements cover and how a modification will affect the correct operation or even more serious, the validity, of a federation.Figure  SEQ Figure \* ARABIC 1 FEDEP (IEEE diagram)Federation AgreementsFederation agreements span a wide range of programmatic and technical issues that must be addressed in order to successfully design and execute a federation.  In addition, they should support reuse of the federation or assets within that federation.  Federation Agreements include both programmatic issues such as schedules, budgets, facilities, constraints as well as technical aspects such as common algorithms (e.g. coordinate transforms or dead reckoning) as well as high level operational issues pertaining to management of the federation (e.g. start-exercise paperwork and procedures). This extremely wide scope and the lack of common definitions make it difficult to capture and compare the many approaches used by federation developers and the choices they made.  To further complicate the problem, different agreements involve different participants in the federation.  For example, some agreements involve the sponsor, others involve the simulation developers and other external parties that may be contracted to perform services or tasks on behalf of the federation developers. These agreements may cross organizational or even national borders and they may have legal, rather than technical consequences.So, what is our definition of a federation agreement? It is basically an understanding between two or more participants in a federation, which is required to compose a functional and valid federation for a specific purpose.The FEDEP document [2] provides the following list of potential Federation agreements:Established security procedures.Time management agreements.Data management and distribution agreements.Defined synchronization points.Defined federation initialization procedures.Federation save/restore strategy.Agreements on supporting databases and algorithms.Agreements on authoritative data sources.Agreements on publication and subscription responsibilities.The full range of information representing agreements among participants in a federation is beyond the scope of this paper. We anticipate documenting a wide range of products currently described in the FEDEP as well as information products in common use among federations. Furthermore, the MSG-052 group will map those products to stakeholders (producers and consumers) of the product. Identifying roles and relationships in the process will allow some of the complexity of federation agreements to be reduced. Each “stakeholder” role would have a default view into only those products that it either produces or consumes and would not have to be concerned with non-relevant products. Carefully selecting roles and their relationships to products as well as relationships between products will be critical to the information model for the FEDEP. The following section describes the proposed approach in more detail.Proposed Approach to Federation AgreementsDuring the first MSG-052 workshop held in February 2007, a subgroup was tasked to research Federation Agreements, and particularly their impact on Federation Architecture and Design. The consensus of this group was that Federation Agreements were much more than a document produced in step 4 (Develop Federation) of the FEDEP to be used in step 5 (Plan, Integrate and Test Federation). The group felt strongly that a better approach would be to take an information centric approach to all data and information products across the entire Federation Development and Execution lifecycle. In other words, all of the data and information products would be laid out and the relationships between those products, the FEDEP steps, and the participants (producers/consumers) in the process would be described. The group also felt that the complexity and lack of structure to the current Federation Agreements hindered their consistent use across federations, and in particular had a negative impact on reuse of both federations and assets within those federations. To that end the group proposed the following:Information productsRather than addressing only Federation Agreements, the working group chose to take a broader view of all information products across the entire FEDEP lifecycle and to consider those products from the broader objectives of the MSG-052’s goal of establishing a Knowledge Network for Federation Architecture and Design. The term “Federation Agreements” will likely be subsumed into a broader “Information Products” overlay to the FEDEP. The current FEDEP document will provide a starting point for identifying the products associated with Federation Design and Execution. Given the strong European participation in MSG052, it is not surprising that several working group proposals regarding a more information centric view borrow ideas from the European EUCLID RTP11.13 research project [3], [4]. Another useful resource is the Federation Execution Planner’s Workbook (FEPW) which was a tool developed by the Defense Modeling and Simulation Office (DMSO) to support information gathering in support of the FEDEP. The FEPW was not widely used by Federation Developers. Anecdotal evidence pointed to a level of complexity that most federation developers felt was too onerous. The FEPW however, will be analyzed to determine the types of information it referenced. The consensus among the MSG-052 working group was that the FEPW contained a great deal of useful information, but may not have organized it well. Along with the FEDEP and FEPW, major federations will be surveyed to identify any information products they have found useful to support design, development, execution and reuse of their particular federation. The informal survey will capture how closely the federation adhered to the FEDEP and which of the FEDEP products proved most useful to the federation. Once the products have been identified, they will be classified as programmatic or technical, and will be mapped to step(s) in the FEDEP. A slightly more detailed information classification that might be applied is Logical, Functional, and Physical. The federation design process could be viewed from these three perspectives and components of the FAs map to each of these perspectives.Logical Perspective: Includes Problem Statement, Federation Objectives, Requirements, Conceptual Model, Scenario, Measures of Merit and derived Logging requirements, FOM.Addressed mainly in steps 1, 2, and 3Functional Perspective: Maps the Logical activities in the scenario to the physical components (e.g. FOM Mapping to Federates, common algorithms, time management etc). Addressed mainly in steps 3 and 4Physical Perspective: Description / Design of the physical aspects of a federation (e.g. Networks, Computers, Federates, RTI, tools, etc.) Addressed mainly in steps 4 and 5Typically, the different perspectives are of interest to different stakeholders or roles. The Network Engineer is not (really) interested in high level requirements and the Sponsor is not concerned with the physical perspective.StakeholdersIn addition to the information products, the team will identify the stakeholders (producers and consumers of the information contained in each product). By associating the products with individuals responsible for producing and consuming the contents of the product, the group felt that some of the complexity of the large range of products could be reduced. With stakeholders representing roles, a user could assume a “role” and would be given default access to the products related to that role. For example, when a Network Engineer (role) logs in, they will have default visibility into all those products that a network engineer would need to interact with (producer or consumer). Figure 2 below provides a first classification of stakeholders and how they could be mapped on FA classes. Figure  SEQ Figure \* ARABIC 2 FA Users (Roles)In a “non-computerized” approach, the guidance document would point out different roles and the documents / products of interest to each stakeholder role.Structured FAsUnclear or incomplete FAs can obviously cause serious problems during development and operation of the federation. The first step is to clarify what an FA should contain, what the common structure should be. Every FA should as a minimum state: What is agreed (content)When it is applicable (moment in time)Who is affected by it (involved parties, federates)Where it applies (circumstances, conditions)Why this agreement was made (rationale)A standardized FA description format will help understanding and comparing FAs across federations. It also helps developers to find examples of previously used FAs. In addition to the standardized description of FAs, the MSG-052 group also recommended to classify FA’s into the above mentioned categories to make it easier to understand who should be involved or care about a particular FA. ReusabilityReuse has been at the heart of distributed simulation throughout DIS, TENA, HLA and CTIA. The team felt that we should attempt to identify which information products are often “reusable” across multiple instantiations of the same federations or across different federations. This problem is very challenging due to the fact that under the right circumstances nearly every product is more or less usable across federations. Even programmatic schedules can be reused to some extent. A collection of ‘Best Practices’ with respect to reuse seems to be desirable. Figure 3 represents our first attempt to identify the information products and the stakeholders that are primarily affected by them.Figure  SEQ Figure \* ARABIC 3 Information ProductsAnother issue that may be partially addressed in this study is the lack of rigor in the format and content of the information products. For example, the FEDEP references Conceptual Models as an input to step 2. It is unlikely that this group could reach consensus on the details of how to represent conceptual models. On the other hand, the FEDEP references Scenarios. The use of standards such as the Military Scenario Definition Language (MSDL) would provide a level of standardization and would encourage reuse of scenarios between federations. The group anticipates providing some level of description of each of the information products and to perhaps provide a sample of each product.ExampleFigure 4 is a depiction of the FEDEP step 1 (Define Federation Objectives). The information products for the substeps are:Overall PlansExisting Domain DescriptionsInformation on Available ResourcesNeeds StatementFederation Objectives StatementInitial Planning DocumentsFor each of these products, the group will provide a description and example. Where standards or guidance documents are underway or in place for any of the products, the group would reference those. Once the products related to a FEDEP step are identified, the group would identify the producers and consumers (stakeholders) of those products.  The group will also identify notional participants/stakeholders in the federation development and execution process. The identified Stakeholders for Step 1 in Figure 4 are: Customer/SponsorFederation ManagerThe next step would be to develop a crosswalk between stakeholders and products. For example,CustomerProducesOverall PlansFederation ManagerConsumesOverall PlansCustomer ProducesDomain DescriptionCustomerProducesInformation on Available ResourcesFederation ManagerProducesInformation on Available ResourcesFederation ManagerConsumesInformation on Available ResourcesEtc… Note that in some cases, a stakeholder may be both a producer and consumer of a product.Much work still needs to be done on identifying stakeholders and information products, but the existing FEDEP and FEPW will provide a good start in the process.Recommendations / Way-AheadThe FEDEP is an IEEE recommended practice and as such must be reviewed every five years. This process is currently underway within SISO. At the 2007 spring SIW, the SISO FEDEP product development group had its kickoff meeting and work was underway in drafting a product. It is anticipated that the next version of the FEDEP will attempt to make the process less HLA-focused and instead capture a more generalized process that is applicable for distributed simulation independent of a particular architecture. The new revision would provide appendices for each of the major simulation architectures (e.g., HLA, TENA, and CTIA). To reflect this generalization, the name of the FEDEP is changing to "DSEEP" (Distributed Simulation Engineering and Execution Process).Obviously, timing is excellent for proposing a new approach to FAs. The ideas regarding FAs that came out of MSG-052 workshop seem valuable and it was decided by the MSG-052 steering group to contribute to the SISO reviewing process. Several MSG-052 members have joined the SISO PDG activity and briefed our ideas during the PDG kick-off. This paper is our second formal contribution.The MSG-052 proposes that Federation Agreements will not be used as a single document, but rather a group of documents or products, each of which has people providing inputs and people using the product. For example, an information product / stakeholder overlay could be created, similar to the VV&A or Security overlay. One might also imagine a GRIM document such as that done for the RPR FOM.A standardized FA description format will help understanding and comparing FAs across federations. It also helps developers to find examples of previously used FAs. In addition to the standardized description of FAs, the MSG-052 group also recommended to classify FA’s into certain categories to make it easier to understand who should be involved or care about a particular FA. Thirdly, the affected or involved parties are classified into ‘roles’. This allows participants in the FEDEP to quickly decide on the relevance of a particular FA with regard to their own role. The MSG-052 workshops and CWE [5] discussions on this topic will continue during 2007 and 2008. The group intends to offer its results and recommendations to the SISO PDG during that timeframe. AcknowledgementThe authors wish to acknowledge the support of the MSG-052 Working Group for their invaluable contributions to this work and to this paper. The full list would be too extensive for this paper, but may be found on the CWE and will be included in the final report of MSG-052. References[1]	www.rta.nato.int[2]	IEEE 1516.3-2000 – IEEE 1516.3 Recommended Practice for High Level Architecture (HLA) Federation Development and Execution Process (FEDEP)[3]	EUCLID RT11.13 Project on “Realising the Potential of Networked Simulations in Europe”.  HYPERLINK "http://www.euclid1113.com" www.euclid1113.com[4]	Keith Ford, The Euclid RTP 11.13 SE Development & Exploitation Process. Spring SIW, 2004, Paper 04S-SIW-12.[5]	MSG-052 Collaborative Working Environment (CWE) at  http://msg052.smart-lab.seAuthor BiographiesWIM HUISKAMP is a Senior Scientist in the M&S department at TNO Defence, Security and Safety in the Netherlands. Wim is the Management representative in MSG052 for the Netherlands. His research area includes system architecture and distributed real-time simulation. Wim acted as project lead for several national simulation projects and participated in international simulation (interoperability) projects (e.g. EUCLID11.13 and NATO Exercise First WAVE). Wim participated in several NATO MSG Taskgroups (e.g. MSG039 (Chairman), MSG042, and MSG050). Currently he works on C2-Simulation interoperability problems and acts as Program Manager for the 3-year national research program on Multifunctional Simulations.MARGARET L. LOPER is the Chief Scientist for the Information Technology & Telecommunications Laboratory at the Georgia Tech Research Institute (GTRI). Dr. Loper has over twenty years of experience in modeling and simulation. Her projects include the DoD High Level Architecture (HLA) Federate Testing project, which consists of the process, tools, and procedures used for HLA compliance, and the HLA Federation Verification Tool (FVT) used to assist federation developers during federation integration. Before joining GTRI, Dr. Loper worked for the Institute for Simulation and Training (IST) at the University of Central Florida. Her projects included the Distributed Interactive Simulation (DIS) standards and their progression through national and international standards organizations. DANNIE CUTTS is a Senior Computer Scientist with the AEgis Technologies Group Inc. supporting the U.S. Joint Forces Command (USJFCOM) Joint Technology and Simulation Division (JTSD) in Suffolk, VA. He has over 20 years experience in M&S for NASA and the DoD and has been involved with the High Level Architecture (HLA) since 1995 serving on the Interface Specification and Time Management Working Groups. He has provided HLA Training, Cadre support for DMSO, and currently serves on the IEEE Drafting Group for the HLA IEEE 1516 standard. Mr. Cutts has supported numerous federation development efforts as well as projects bringing legacy and new simulations to HLA Compliance. At USJFCOM he is involved in efforts to improve interoperability between Live, Virtual, and Constructive assets for Joint Training.  EUCLID RTP 11.13 developed a process and prototype tools to support the production, execution and evaluation of synthetic environment (SE) systems. The toolset included a Repository containing information about SE assets and federations. The EUCLID process was named SE Development & Exploitation Process (SEDEP), which is an extended and modified FEDEP. EUCLID11.13 was completed in 2003, but so far its intention to merge SEDEP into a future version of FEDEP has not been realised.© 2007 The MITRE Corporation	Public Release Pending Figure 4  FEDEP Step 1 Data Products